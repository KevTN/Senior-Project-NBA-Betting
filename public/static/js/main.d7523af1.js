/*! For license information please see main.d7523af1.js.LICENSE.txt */
(()=>{var e={9728:(e,t,n)=>{const{initializeApp:r}=n(5154),{getFirestore:i,collection:s,addDoc:o}=n(6005),a=i(r({apiKey:"AIzaSyC3MH-sM-GWN_v3pH9DCdEcweWLCHzYbqI",authDomain:"bestbucketbets.firebaseapp.com",projectId:"bestbucketbets",storageBucket:"bestbucketbets.appspot.com",messagingSenderId:"671250228071",appId:"1:671250228071:web:96a9ad993e767c44cbc5c2",measurementId:"G-9X2PE7B4LS"}));e.exports={db:a,collection:s,addDoc:o}},5651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6797),i=n(5971),s=n(6155),o=n(9164),a=n(9073),l=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}();var c,u,h="@firebase/app",d="0.9.27",f=new s.Logger("@firebase/app"),p="[DEFAULT]",m=((c={})[h]="fire-core",c["@firebase/app-compat"]="fire-core-compat",c["@firebase/analytics"]="fire-analytics",c["@firebase/analytics-compat"]="fire-analytics-compat",c["@firebase/app-check"]="fire-app-check",c["@firebase/app-check-compat"]="fire-app-check-compat",c["@firebase/auth"]="fire-auth",c["@firebase/auth-compat"]="fire-auth-compat",c["@firebase/database"]="fire-rtdb",c["@firebase/database-compat"]="fire-rtdb-compat",c["@firebase/functions"]="fire-fn",c["@firebase/functions-compat"]="fire-fn-compat",c["@firebase/installations"]="fire-iid",c["@firebase/installations-compat"]="fire-iid-compat",c["@firebase/messaging"]="fire-fcm",c["@firebase/messaging-compat"]="fire-fcm-compat",c["@firebase/performance"]="fire-perf",c["@firebase/performance-compat"]="fire-perf-compat",c["@firebase/remote-config"]="fire-rc",c["@firebase/remote-config-compat"]="fire-rc-compat",c["@firebase/storage"]="fire-gcs",c["@firebase/storage-compat"]="fire-gcs-compat",c["@firebase/firestore"]="fire-fst",c["@firebase/firestore-compat"]="fire-fst-compat",c["fire-js"]="fire-js",c.firebase="fire-js-all",c),g=new Map,y=new Map;function v(e,t){try{e.container.addComponent(t)}catch(n){f.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function b(e){var t,n,r=e.name;if(y.has(r))return f.debug("There were multiple attempts to register component ".concat(r,".")),!1;y.set(r,e);try{for(var s=i.__values(g.values()),o=s.next();!o.done;o=s.next()){v(o.value,e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}function w(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var x=((u={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",u["bad-app-name"]="Illegal App name: '{$appName}",u["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",u["app-deleted"]="Firebase App named '{$appName}' already deleted",u["no-options"]="Need to provide options, when not being deployed to hosting via source.",u["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",u["invalid-log-argument"]="First argument to `onLog` must be null or a function.",u["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",u["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",u["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",u["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",u),S=new o.ErrorFactory("app","Firebase",x),E=function(){function e(e,t,n){var s=this;this._isDeleted=!1,this._options=i.__assign({},e),this._config=i.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(function(){return s}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("app-deleted",{appName:this._name})},e}();function _(e,t){var n,s;void 0===t&&(t={});var a=e;"object"!==typeof t&&(t={name:t});var l=i.__assign({name:p,automaticDataCollectionEnabled:!1},t),c=l.name;if("string"!==typeof c||!c)throw S.create("bad-app-name",{appName:String(c)});if(a||(a=o.getDefaultAppConfig()),!a)throw S.create("no-options");var u=g.get(c);if(u){if(o.deepEqual(a,u.options)&&o.deepEqual(l,u.config))return u;throw S.create("duplicate-app",{appName:c})}var h=new r.ComponentContainer(c);try{for(var d=i.__values(y.values()),f=d.next();!f.done;f=d.next()){var m=f.value;h.addComponent(m)}}catch(b){n={error:b}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(n)throw n.error}}var v=new E(a,l,h);return g.set(c,v),v}function T(e,t,n){var i,s=null!==(i=m[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));var o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var l=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return o&&l.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&a&&l.push("and"),a&&l.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void f.warn(l.join(" "))}b(new r.Component("".concat(s,"-version"),(function(){return{library:s,version:t}}),"VERSION"))}var k="firebase-heartbeat-database",C=1,I="firebase-heartbeat-store",A=null;function N(){return A||(A=a.openDB(k,C,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(I)}catch(n){console.warn(n)}}}).catch((function(e){throw S.create("idb-open",{originalErrorMessage:e.message})}))),A}function D(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,N()];case 1:return t=i.sent(),[4,(n=t.transaction(I)).objectStore(I).get(j(e))];case 2:return r=i.sent(),[4,n.done];case 3:return i.sent(),[2,r];case 4:return(s=i.sent())instanceof o.FirebaseError?f.warn(s.message):(a=S.create("idb-get",{originalErrorMessage:null===s||void 0===s?void 0:s.message}),f.warn(a.message)),[3,5];case 5:return[2]}}))}))}function R(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,N()];case 1:return n=i.sent(),r=n.transaction(I,"readwrite"),[4,r.objectStore(I).put(t,j(e))];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[3,5];case 4:return(s=i.sent())instanceof o.FirebaseError?f.warn(s.message):(a=S.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message}),f.warn(a.message)),[3,5];case 5:return[2]}}))}))}function j(e){return"".concat(e.name,"!").concat(e.options.appId)}var O=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new M(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){var e,t;return i.__awaiter(this,void 0,void 0,(function(){var n,r,s,o;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),s=P(),null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)?[3,2]:(o=this,[4,this._heartbeatsCachePromise]);case 1:if(o._heartbeatsCache=i.sent(),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return[2];i.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some((function(e){return e.date===s}))?[2]:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){var e;return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,s,a;return i.__generator(this,(function(l){switch(l.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:l.sent(),l.label=2;case 2:return null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=P(),n=function(e,t){var n,r;void 0===t&&(t=1024);var s=[],o=e.slice(),a=function(e){var n=s.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),F(s)>t)return n.dates.pop(),"break"}else if(s.push({agent:e.agent,dates:[e.date]}),F(s)>t)return s.pop(),"break";o=o.slice(1)};try{for(var l=i.__values(e),c=l.next();!c.done;c=l.next()){if("break"===a(c.value))break}}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return{heartbeatsToSend:s,unsentEntries:o}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,s=n.unsentEntries,a=o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return l.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),l.label=5;case 5:return[2,a]}}))}))},e}();function P(){return(new Date).toISOString().substring(0,10)}var L,M=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return o.isIndexedDBAvailable()?[2,o.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,D(this.app)];case 3:return(null===(e=t.sent())||void 0===e?void 0:e.heartbeats)?[2,e]:[2,{heartbeats:[]}];case 4:return[2]}}))}))},e.prototype.overwrite=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:i.__spreadArray(i.__spreadArray([],i.__read(n.heartbeats),!1),i.__read(e.heartbeats),!1)})]}}))}))},e}();function F(e){return o.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}L="node",b(new r.Component("platform-logger",(function(e){return new l(e)}),"PRIVATE")),b(new r.Component("heartbeat",(function(e){return new O(e)}),"PRIVATE")),T(h,d,L),T(h,d,"cjs5"),T("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return o.FirebaseError}}),t.SDK_VERSION="10.8.0",t._DEFAULT_ENTRY_NAME=p,t._addComponent=v,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=g,t._clearComponents=function(){y.clear()},t._components=y,t._getProvider=w,t._registerComponent=b,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=p),w(e,t).clearInstance(n)},t.deleteApp=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return t=e.name,g.has(t)?(g.delete(t),[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]):[3,2];case 1:n.sent(),e.isDeleted=!0,n.label=2;case 2:return[2]}}))}))},t.getApp=function(e){void 0===e&&(e=p);var t=g.get(e);if(!t&&e===p&&o.getDefaultAppConfig())return _();if(!t)throw S.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(g.values())},t.initializeApp=_,t.onLog=function(e,t){if(null!==e&&"function"!==typeof e)throw S.create("invalid-log-argument");s.setUserLogHandler(e,t)},t.registerVersion=T,t.setLogLevel=function(e){s.setLogLevel(e)}},6797:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5971),i=n(9164),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(d){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),l=a[0],c=a[1],u=this.normalizeInstanceIdentifier(l);try{var h=this.getOrInitializeService({instanceIdentifier:u});c.resolve(h)}catch(d){}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=r.__values(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var u=r.__read(c.value,2),h=u[0],d=u[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=r.__values(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch(c){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=l,t.Provider=a},5054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5651),i=n(6797),s=n(6155),o=n(9164),a=n(4786);const l="@firebase/firestore";class c{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}c.UNAUTHENTICATED=new c(null),c.GOOGLE_CREDENTIALS=new c("google-credentials-uid"),c.FIRST_PARTY=new c("first-party-uid"),c.MOCK_USER=new c("mock-user");let u="10.8.0";const h=new s.Logger("@firebase/firestore");function d(){return h.logLevel}function f(e){if(h.logLevel<=s.LogLevel.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.debug("Firestore (".concat(u,"): ").concat(e),...i)}}function p(e){if(h.logLevel<=s.LogLevel.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.error("Firestore (".concat(u,"): ").concat(e),...i)}}function m(e){if(h.logLevel<=s.LogLevel.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(g);h.warn("Firestore (".concat(u,"): ").concat(e),...i)}}function g(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(u,") INTERNAL ASSERTION FAILED: ")+e;throw p(t),new Error(t)}function v(e,t){e||y()}function b(e,t){return e}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends o.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class S{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class E{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class _{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(c.UNAUTHENTICATED)))}shutdown(){}}class T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class k{constructor(e){this.t=e,this.currentUser=c.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new S;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new S,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{f("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(f("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new S)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(f("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(v("string"==typeof t.accessToken),new E(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return v(null===e||"string"==typeof e),new c(e)}}class C{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=c.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class I{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new C(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(c.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&f("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,f("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{f("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):f("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(v("string"==typeof e.token),this.R=e.token,new A(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function D(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class R{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=D(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function j(e,t){return e<t?-1:e>t?1:0}function O(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function P(e){return e+"\0"}class L{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L.fromMillis(Date.now())}static fromDate(e){return L.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new L(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class M{constructor(e){this.timestamp=e}static fromTimestamp(e){return new M(e)}static min(){return new M(new L(0,0))}static max(){return new M(new L(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class F{constructor(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===F.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof F?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class V extends F{construct(e,t,n){return new V(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new x(w.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new V(e)}static emptyPath(){return new V([])}}const U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class B extends F{construct(e,t,n){return new B(e,t,n)}static isValidIdentifier(e){return U.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),B.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new B(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new x(w.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new x(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new x(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new x(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new B(t)}static emptyPath(){return new B([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(V.fromString(e))}static fromName(e){return new z(V.fromString(e).popFirst(5))}static empty(){return new z(V.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===V.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return V.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new V(e.slice()))}}class q{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find((e=>2===e.kind))}function G(e){return e.fields.filter((e=>2!==e.kind))}function H(e,t){let n=j(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Q(e.fields[r],t.fields[r]),0!==n)return n;return j(e.fields.length,t.fields.length)}q.UNKNOWN_ID=-1;class W{constructor(e,t){this.fieldPath=e,this.kind=t}}function Q(e,t){const n=B.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:j(e.kind,t.kind)}class Y{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Y(0,$.min())}}function X(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=M.fromTimestamp(1e9===r?new L(n+1,0):new L(n,r));return new $(i,z.empty(),t)}function J(e){return new $(e.readTime,e.key,-1)}class ${constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $(M.min(),z.empty(),-1)}static max(){return new $(M.max(),z.empty(),-1)}}function Z(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=z.comparator(e.documentKey,t.documentKey),0!==n?n:j(e.largestBatchId,t.largestBatchId))}const ee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ne(e){if(e.code!==w.FAILED_PRECONDITION||e.message!==ee)throw e;f("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(e){return re.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,n)=>{t(e)}))}static reject(e){return new re(((t,n)=>{n(e)}))}static waitFor(e){return new re(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=re.resolve(!1);for(const n of e)t=t.next((e=>e?re.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new re(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new re(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ie{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new S,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ae(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=de(t.target.error);this.V.reject(new ae(e,n))}}static open(e,t,n,r){try{return new ie(t,e.transaction(r,n))}catch(e){throw new ae(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ce(t)}}class se{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===se.S(o.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return f("SimpleDb","Removing database:",e),ue(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!o.isIndexedDBAvailable())return!1;if(se.C())return!0;const e=o.getUA(),t=se.S(e),n=0<t&&t<10,r=se.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(f("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ae(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new x(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new x(w.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ae(e,r))},r.onupgradeneeded=e=>{f("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{f("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=ie.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),re.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(f("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class oe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ue(this.k.delete())}}class ae extends x{constructor(e,t){super(w.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function le(e){return"IndexedDbTransactionError"===e.name}class ce{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ue(n)}add(e){return f("SimpleDb","ADD",this.store.name,e,e),ue(this.store.add(e))}get(e){return ue(this.store.get(e)).next((t=>(void 0===t&&(t=null),f("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return f("SimpleDb","DELETE",this.store.name,e),ue(this.store.delete(e))}count(){return f("SimpleDb","COUNT",this.store.name),ue(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new re(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new re(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){f("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new re(((n,r)=>{t.onerror=e=>{const t=de(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new re(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new oe(i),o=t(i.primaryKey,i.value,s);if(o instanceof re){const e=o.catch((e=>(s.done(),re.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>re.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ue(e){return new re(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=de(e.target.error);n(t)}}))}let he=!1;function de(e){const t=se.S(o.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return he||(he=!0,setTimeout((()=>{throw e}),0)),e}}return e}class fe{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){f("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{f("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){le(e)?f("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ne(e)}await this.ee(6e4)}))}}class pe{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return re.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return f("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(f("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=J(t);Z(r,n)>0&&(n=r)})),new $(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class me{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function ge(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function ve(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function be(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xe(t)),t=we(e.get(n),t);return xe(t)}function we(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function xe(e){return e+"\x01\x01"}function Se(e){const t=e.length;if(v(t>=2),2===t)return v("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),V.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&y(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:y()}s=t+2}return new V(r)}me._e=-1;const Ee=["userId","batchId"];function _e(e,t){return[e,be(t)]}function Te(e,t,n){return[e,be(t),n]}const ke={},Ce=["prefixPath","collectionGroup","readTime","documentId"],Ie=["prefixPath","collectionGroup","documentId"],Ae=["collectionGroup","readTime","prefixPath","documentId"],Ne=["canonicalId","targetId"],De=["targetId","path"],Re=["path","targetId"],je=["collectionId","parent"],Oe=["indexId","uid"],Pe=["uid","sequenceNumber"],Le=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Me=["indexId","uid","orderedDocumentKey"],Fe=["userId","collectionPath","documentId"],Ve=["userId","collectionPath","largestBatchId"],Ue=["userId","collectionGroup","largestBatchId"],Be=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ze=[...Be,"documentOverlays"],qe=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ke=qe,Ge=[...Ke,"indexConfiguration","indexState","indexEntries"];class He extends te{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function We(e,t){const n=b(e);return se.M(n.ae,t)}function Qe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ye(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Je{constructor(e,t){this.comparator=e,this.root=t||Ze.EMPTY}insert(e,t){return new Je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $e(this.root,e,this.comparator,!1)}getReverseIterator(){return new $e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $e(this.root,e,this.comparator,!0)}}class $e{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ze.RED,this.left=null!=r?r:Ze.EMPTY,this.right=null!=i?i:Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ze(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ze.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw y();if(this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1,Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ze(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tt(this.data.getIterator())}getIteratorFrom(e){return new tt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof et))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class tt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nt(e){return e.hasNext()?e.getNext():void 0}class rt{constructor(e){this.fields=e,e.sort(B.comparator)}static empty(){return new rt([])}unionWith(e){let t=new et(B.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new rt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return O(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class it extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class st{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new it("Invalid base64 string: "+e):e}}(e);return new st(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new st(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const ot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function at(e){if(v(!!e),"string"==typeof e){let t=0;const n=ot.exec(e);if(v(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lt(e.seconds),nanos:lt(e.nanos)}}function lt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ct(e){return"string"==typeof e?st.fromBase64String(e):st.fromUint8Array(e)}function ut(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ht(e){const t=e.mapValue.fields.__previous_value__;return ut(t)?ht(t):t}function dt(e){const t=at(e.mapValue.fields.__local_write_time__.timestampValue);return new L(t.seconds,t.nanos)}class ft{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class pt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pt&&e.projectId===this.projectId&&e.database===this.database}}const mt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gt={nullValue:"NULL_VALUE"};function yt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ut(e)?4:Rt(e)?9007199254740991:10:y()}function vt(e,t){if(e===t)return!0;const n=yt(e);if(n!==yt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dt(e).isEqual(dt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=at(e.timestampValue),r=at(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ct(e.bytesValue).isEqual(ct(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lt(e.geoPointValue.latitude)===lt(t.geoPointValue.latitude)&&lt(e.geoPointValue.longitude)===lt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lt(e.integerValue)===lt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=lt(e.doubleValue),r=lt(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return O(e.arrayValue.values||[],t.arrayValue.values||[],vt);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qe(n)!==Qe(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vt(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function bt(e,t){return void 0!==(e.values||[]).find((e=>vt(e,t)))}function wt(e,t){if(e===t)return 0;const n=yt(e),r=yt(t);if(n!==r)return j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return j(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=lt(e.integerValue||e.doubleValue),r=lt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xt(e.timestampValue,t.timestampValue);case 4:return xt(dt(e),dt(t));case 5:return j(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ct(e),r=ct(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=j(n[i],r[i]);if(0!==e)return e}return j(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=j(lt(e.latitude),lt(t.latitude));return 0!==n?n:j(lt(e.longitude),lt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wt(n[i],r[i]);if(e)return e}return j(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mt.mapValue&&t===mt.mapValue)return 0;if(e===mt.mapValue)return 1;if(t===mt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=j(r[o],s[o]);if(0!==e)return e;const t=wt(n[r[o]],i[s[o]]);if(0!==t)return t}return j(r.length,s.length)}(e.mapValue,t.mapValue);default:throw y()}}function xt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return j(e,t);const n=at(e),r=at(t),i=j(n.seconds,r.seconds);return 0!==i?i:j(n.nanos,r.nanos)}function St(e){return Et(e)}function Et(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=at(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ct(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return z.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Et(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Et(e.fields[i]));return n+"}"}(e.mapValue):y()}function _t(e){switch(yt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ht(e);return t?16+_t(t):16;case 5:return 2*e.stringValue.length;case 6:return ct(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+_t(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Ye(e.fields,((e,n)=>{t+=e.length+_t(n)})),t}(e.mapValue);default:throw y()}}function Tt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kt(e){return!!e&&"integerValue"in e}function Ct(e){return!!e&&"arrayValue"in e}function It(e){return!!e&&"nullValue"in e}function At(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nt(e){return!!e&&"mapValue"in e}function Dt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ye(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Dt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function jt(e){return"nullValue"in e?gt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Tt(pt.empty(),z.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:y()}function Ot(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Tt(pt.empty(),z.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?mt:y()}function Pt(e,t){const n=wt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Lt(e,t){const n=wt(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Nt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dt(t)}setAll(e){let t=B.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Dt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Nt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Nt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ye(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Mt(Dt(this.value))}}function Ft(e){const t=[];return Ye(e.fields,((e,n)=>{const r=new B([e]);if(Nt(n)){const e=Ft(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new rt(t)}class Vt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Vt(e,0,M.min(),M.min(),M.min(),Mt.empty(),0)}static newFoundDocument(e,t,n,r){return new Vt(e,1,t,M.min(),n,r,0)}static newNoDocument(e,t){return new Vt(e,2,t,M.min(),M.min(),Mt.empty(),0)}static newUnknownDocument(e,t){return new Vt(e,3,t,M.min(),M.min(),Mt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(M.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=M.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ut{constructor(e,t){this.position=e,this.inclusive=t}}function Bt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?z.comparator(z.fromName(o.referenceValue),n.key):wt(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function zt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vt(e.position[n],t.position[n]))return!1;return!0}class qt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Kt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gt{}class Ht extends Gt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nn(e,t,n):"array-contains"===t?new an(e,n):"in"===t?new ln(e,n):"not-in"===t?new cn(e,n):"array-contains-any"===t?new un(e,n):new Ht(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new rn(e,n):new sn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wt(t,this.value)):null!==t&&yt(this.value)===yt(t)&&this.matchesComparison(wt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wt extends Gt{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Wt(e,t)}matches(e){return Qt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Qt(e){return"and"===e.op}function Yt(e){return"or"===e.op}function Xt(e){return Jt(e)&&Qt(e)}function Jt(e){for(const t of e.filters)if(t instanceof Wt)return!1;return!0}function $t(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+St(e.value);if(Xt(e))return e.filters.map((e=>$t(e))).join(",");{const t=e.filters.map((e=>$t(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Zt(e,t){return e instanceof Ht?function(e,t){return t instanceof Ht&&e.op===t.op&&e.field.isEqual(t.field)&&vt(e.value,t.value)}(e,t):e instanceof Wt?function(e,t){return t instanceof Wt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Zt(n,t.filters[r])),!0)}(e,t):void y()}function en(e,t){const n=e.filters.concat(t);return Wt.create(n,e.op)}function tn(e){return e instanceof Ht?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(St(e.value))}(e):e instanceof Wt?function(e){return e.op.toString()+" {"+e.getFilters().map(tn).join(" ,")+"}"}(e):"Filter"}class nn extends Ht{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class rn extends Ht{constructor(e,t){super(e,"in",t),this.keys=on("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sn extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=on("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function on(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>z.fromName(e.referenceValue)))}class an extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ct(t)&&bt(t.arrayValue,this.value)}}class ln extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bt(this.value.arrayValue,t)}}class cn extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(bt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bt(this.value.arrayValue,t)}}class un extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ct(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>bt(this.value.arrayValue,e)))}}class hn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function dn(e){return new hn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fn(e){const t=b(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>$t(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ge(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>St(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>St(e))).join(",")),t.ce=e}return t.ce}function pn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Kt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Zt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zt(e.startAt,t.startAt)&&zt(e.endAt,t.endAt)}function mn(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gn(e,t){return e.filters.filter((e=>e instanceof Ht&&e.field.isEqual(t)))}function yn(e,t,n){let r=gt,i=!0;for(const s of gn(e,t)){let e=gt,t=!0;switch(s.op){case"<":case"<=":e=jt(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=gt}Pt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Pt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function vn(e,t,n){let r=mt,i=!0;for(const s of gn(e,t)){let e=mt,t=!0;switch(s.op){case">=":case">":e=Ot(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=mt}Lt({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Lt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wn(e,t,n,r,i,s,o,a){return new bn(e,t,n,r,i,s,o,a)}function xn(e){return new bn(e)}function Sn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function En(e){return null!==e.collectionGroup}function _n(e){const t=b(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new et(B.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new qt(r,n))})),e.has(B.keyField().canonicalString())||t.le.push(new qt(B.keyField(),n))}return t.le}function Tn(e){const t=b(e);return t.he||(t.he=kn(t,_n(e))),t.he}function kn(e,t){if("F"===e.limitType)return dn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new qt(e.field,t)}));const n=e.endAt?new Ut(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ut(e.startAt.position,e.startAt.inclusive):null;return dn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Cn(e,t){const n=e.filters.concat([t]);return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function In(e,t,n){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function An(e,t){return pn(Tn(e),Tn(t))&&e.limitType===t.limitType}function Nn(e){return"".concat(fn(Tn(e)),"|lt:").concat(e.limitType)}function Dn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>tn(e))).join(", "),"]")),ge(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>St(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>St(e))).join(",")),"Target(".concat(t,")")}(Tn(e)),"; limitType=").concat(e.limitType,")")}function Rn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _n(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Bt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_n(e),t))&&!(e.endAt&&!function(e,t,n){const r=Bt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_n(e),t))}(e,t)}function jn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function On(e){return(t,n)=>{let r=!1;for(const i of _n(e)){const e=Pn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Pn(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wt(r,i):y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}class Ln{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ye(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Xe(this.inner)}size(){return this.innerSize}}const Mn=new Je(z.comparator);function Fn(){return Mn}const Vn=new Je(z.comparator);function Un(){let e=Vn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Bn(e){let t=Vn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zn(){return Kn()}function qn(){return Kn()}function Kn(){return new Ln((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Gn=new Je(z.comparator),Hn=new et(z.comparator);function Wn(){let e=Hn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Qn=new et(j);function Yn(){return Qn}function Xn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function Jn(e){return{integerValue:""+e}}function $n(e,t){return ve(t)?Jn(t):Xn(e,t)}class Zn{constructor(){this._=void 0}}function er(e,t,n){return e instanceof rr?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ut(t)&&(t=ht(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ir?sr(e,t):e instanceof or?ar(e,t):function(e,t){const n=nr(e,t),r=cr(n)+cr(e.Ie);return kt(n)&&kt(e.Ie)?Jn(r):Xn(e.serializer,r)}(e,t)}function tr(e,t,n){return e instanceof ir?sr(e,t):e instanceof or?ar(e,t):n}function nr(e,t){return e instanceof lr?function(e){return kt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rr extends Zn{}class ir extends Zn{constructor(e){super(),this.elements=e}}function sr(e,t){const n=ur(t);for(const r of e.elements)n.some((e=>vt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class or extends Zn{constructor(e){super(),this.elements=e}}function ar(e,t){let n=ur(t);for(const r of e.elements)n=n.filter((e=>!vt(e,r)));return{arrayValue:{values:n}}}class lr extends Zn{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cr(e){return lt(e.integerValue||e.doubleValue)}function ur(e){return Ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hr{constructor(e,t){this.field=e,this.transform=t}}class dr{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mr{}function gr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kr(e.key,fr.none()):new xr(e.key,e.data,fr.none());{const n=e.data,r=Mt.empty();let i=new et(B.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Sr(e.key,r,new rt(i.toArray()),fr.none())}}function yr(e,t,n){e instanceof xr?function(e,t,n){const r=e.value.clone(),i=_r(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sr?function(e,t,n){if(!pr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_r(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Er(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vr(e,t,n,r){return e instanceof xr?function(e,t,n,r){if(!pr(e.precondition,t))return n;const i=e.value.clone(),s=Tr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sr?function(e,t,n,r){if(!pr(e.precondition,t))return n;const i=Tr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Er(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return pr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function br(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nr(r.transform,e||null);null!=i&&(null===n&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function wr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&O(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ir&&t instanceof ir||e instanceof or&&t instanceof or?O(e.elements,t.elements,vt):e instanceof lr&&t instanceof lr?vt(e.Ie,t.Ie):e instanceof rr&&t instanceof rr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xr extends mr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sr extends mr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Er(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function _r(e,t,n){const r=new Map;v(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tr(o,a,n[i]))}return r}function Tr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,er(e,s,t))}return r}class kr extends mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cr extends mr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ir{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=gr(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(M.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wn())}isEqual(e){return this.batchId===e.batchId&&O(this.mutations,e.mutations,((e,t)=>wr(e,t)))&&O(this.baseMutations,e.baseMutations,((e,t)=>wr(e,t)))}}class Ar{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){v(e.mutations.length===n.length);let r=Gn;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ar(e,t,n,r)}}class Nr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Dr{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Rr{constructor(e,t){this.count=e,this.unchangedNames=t}}var jr,Or;function Pr(e){switch(e){default:return y();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function Lr(e){if(void 0===e)return p("GRPC error has no .code"),w.UNKNOWN;switch(e){case jr.OK:return w.OK;case jr.CANCELLED:return w.CANCELLED;case jr.UNKNOWN:return w.UNKNOWN;case jr.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case jr.INTERNAL:return w.INTERNAL;case jr.UNAVAILABLE:return w.UNAVAILABLE;case jr.UNAUTHENTICATED:return w.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case jr.NOT_FOUND:return w.NOT_FOUND;case jr.ALREADY_EXISTS:return w.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return w.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case jr.ABORTED:return w.ABORTED;case jr.OUT_OF_RANGE:return w.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return w.UNIMPLEMENTED;case jr.DATA_LOSS:return w.DATA_LOSS;default:return y()}}(Or=jr||(jr={}))[Or.OK=0]="OK",Or[Or.CANCELLED=1]="CANCELLED",Or[Or.UNKNOWN=2]="UNKNOWN",Or[Or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Or[Or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Or[Or.NOT_FOUND=5]="NOT_FOUND",Or[Or.ALREADY_EXISTS=6]="ALREADY_EXISTS",Or[Or.PERMISSION_DENIED=7]="PERMISSION_DENIED",Or[Or.UNAUTHENTICATED=16]="UNAUTHENTICATED",Or[Or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Or[Or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Or[Or.ABORTED=10]="ABORTED",Or[Or.OUT_OF_RANGE=11]="OUT_OF_RANGE",Or[Or.UNIMPLEMENTED=12]="UNIMPLEMENTED",Or[Or.INTERNAL=13]="INTERNAL",Or[Or.UNAVAILABLE=14]="UNAVAILABLE",Or[Or.DATA_LOSS=15]="DATA_LOSS";let Mr=null;function Fr(){return new TextEncoder}const Vr=new a.Integer([4294967295,4294967295],0);function Ur(e){const t=Fr().encode(e),n=new a.Md5;return n.update(t),new Uint8Array(n.digest())}function Br(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new a.Integer([n,r],0),new a.Integer([i,s],0)]}class zr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qr("Invalid padding: ".concat(t));if(n<0)throw new qr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qr("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=a.Integer.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(a.Integer.fromNumber(n)));return 1===r.compare(Vr)&&(r=new a.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ur(e),[n,r]=Br(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new zr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Ur(e),[n,r]=Br(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Gr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Kr(M.min(),r,new Je(j),Fn(),Wn())}}class Gr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Gr(n,t,Wn(),Wn(),Wn())}}class Hr{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Wr{constructor(e,t){this.targetId=e,this.fe=t}}class Qr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Yr{constructor(){this.ge=0,this.pe=$r(),this.ye=st.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Wn(),t=Wn(),n=Wn();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}})),new Gr(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=$r()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,v(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Xr{constructor(e){this.Le=e,this.ke=new Map,this.qe=Fn(),this.Qe=Jr(),this.Ke=new Je(j)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:y()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(mn(i))if(0===n){const e=new z(i.path);this.We(t,e,Vt.newNoDocument(e,M.min()))}else v(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Mr||Mr.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ct(n).toUint8Array()}catch(e){if(e instanceof it)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new zr(s,r,i)}catch(e){return m(e instanceof qr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&mn(i.target)){const t=new z(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Vt.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Wn();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Kr(e,t,this.Ke,this.qe,n);return this.qe=Fn(),this.Qe=Jr(),this.Ke=new Je(j),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Yr,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new et(j),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Yr),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Jr(){return new Je(z.comparator)}function $r(){return new Je(z.comparator)}const Zr={asc:"ASCENDING",desc:"DESCENDING"},ei={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ti={and:"AND",or:"OR"};class ni{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ri(e,t){return e.useProto3Json||ge(t)?t:{value:t}}function ii(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function si(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function oi(e,t){return ii(e,t.toTimestamp())}function ai(e){return v(!!e),M.fromTimestamp(function(e){const t=at(e);return new L(t.seconds,t.nanos)}(e))}function li(e,t){return ci(e,t).canonicalString()}function ci(e,t){const n=function(e){return new V(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ui(e){const t=V.fromString(e);return v(Ri(t)),t}function hi(e,t){return li(e.databaseId,t.path)}function di(e,t){const n=ui(t);if(n.get(1)!==e.databaseId.projectId)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(gi(n))}function fi(e,t){return li(e.databaseId,t)}function pi(e){const t=ui(e);return 4===t.length?V.emptyPath():gi(t)}function mi(e){return new V(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gi(e){return v(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yi(e,t,n){return{name:hi(e,t),fields:n.value.mapValue.fields}}function vi(e,t,n){const r=di(e,t.name),i=ai(t.updateTime),s=t.createTime?ai(t.createTime):M.min(),o=new Mt({mapValue:{fields:t.fields}}),a=Vt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bi(e,t){let n;if(t instanceof xr)n={update:yi(e,t.key,t.value)};else if(t instanceof kr)n={delete:hi(e,t.key)};else if(t instanceof Sr)n={update:yi(e,t.key,t.data),updateMask:Di(t.fieldMask)};else{if(!(t instanceof Cr))return y();n={verify:hi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof rr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ir)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof or)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lr)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw y()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:oi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.precondition)),n}function wi(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?fr.updateTime(ai(e.updateTime)):void 0!==e.exists?fr.exists(e.exists):fr.none()}(t.currentDocument):fr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue),n=new rr;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ir(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new or(e)}else"increment"in t?n=new lr(e,t.increment):y();const r=B.fromServerFormat(t.fieldPath);return new hr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=di(e,t.update.name),s=new Mt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new rt(t.map((e=>B.fromServerFormat(e))))}(t.updateMask);return new Sr(i,s,e,n,r)}return new xr(i,s,n,r)}if(t.delete){const r=di(e,t.delete);return new kr(r,n)}if(t.verify){const r=di(e,t.verify);return new Cr(r,n)}return y()}function xi(e,t){return{documents:[fi(e,t.path)]}}function Si(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fi(e,i);const s=function(e){if(0!==e.length)return Ni(Wt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ii(e.field),direction:Ti(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ri(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Ei(e){let t=pi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){v(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=_i(e);return t instanceof Wt&&Xt(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new qt(Ai(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ge(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ut(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ut(n,t)}(n.endAt)),wn(t,i,o,s,a,"F",l,c)}function _i(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ai(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ai(e.unaryFilter.field);return Ht.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ai(e.unaryFilter.field);return Ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ai(e.unaryFilter.field);return Ht.create(i,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(e):void 0!==e.fieldFilter?function(e){return Ht.create(Ai(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wt.create(e.compositeFilter.filters.map((e=>_i(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(e):y()}function Ti(e){return Zr[e]}function ki(e){return ei[e]}function Ci(e){return ti[e]}function Ii(e){return{fieldPath:e.canonicalString()}}function Ai(e){return B.fromServerFormat(e.fieldPath)}function Ni(e){return e instanceof Ht?function(e){if("=="===e.op){if(At(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NAN"}};if(It(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(At(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NAN"}};if(It(e.value))return{unaryFilter:{field:Ii(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ii(e.field),op:ki(e.op),value:e.value}}}(e):e instanceof Wt?function(e){const t=e.getFilters().map((e=>Ni(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ci(e.op),filters:t}}}(e):y()}function Di(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ri(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ji{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:M.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:st.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Oi{constructor(e){this.ct=e}}function Pi(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Li(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ii(e,t.version.toTimestamp()),createTime:ii(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Mi(t.version)};else{if(!t.isUnknownDocument())return y();r.unknownDocument={path:n.path.toArray(),version:Mi(t.version)}}return r}function Li(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Mi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Fi(e){const t=new L(e.seconds,e.nanoseconds);return M.fromTimestamp(t)}function Vi(e,t){const n=(t.baseMutations||[]).map((t=>wi(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>wi(e.ct,t))),i=L.fromMillis(t.localWriteTimeMs);return new Ir(t.batchId,i,n,r)}function Ui(e){const t=Fi(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Fi(e.lastLimboFreeSnapshotVersion):M.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return v(1===e.documents.length),Tn(xn(pi(e.documents[0])))}(e.query):function(e){return Tn(Ei(e))}(e.query),new ji(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,st.fromBase64String(e.resumeToken))}function Bi(e,t){const n=Mi(t.snapshotVersion),r=Mi(t.lastLimboFreeSnapshotVersion);let i;i=mn(t.target)?xi(e.ct,t.target):Si(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fn(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zi(e){const t=Ei({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?In(t,t.limit,"L"):t}function qi(e,t){return new Nr(t.largestBatchId,wi(e.ct,t.overlayMutation))}function Ki(e,t){const n=t.path.lastSegment();return[e,be(t.path.popLast()),n]}function Gi(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Mi(r.readTime),documentKey:be(r.documentKey.path),largestBatchId:r.largestBatchId}}class Hi{getBundleMetadata(e,t){return Wi(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Fi(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Wi(e).put(function(e){return{bundleId:e.id,createTime:Mi(ai(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Qi(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:zi(e.bundledQuery),readTime:Fi(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Qi(e).put(function(e){return{name:e.name,readTime:Mi(ai(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Wi(e){return We(e,"bundles")}function Qi(e){return We(e,"namedQueries")}class Yi{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Yi(e,n)}getOverlay(e,t){return Xi(e).get(Ki(this.userId,t)).next((e=>e?qi(this.serializer,e):null))}getOverlays(e,t){const n=zn();return re.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Nr(t,i);r.push(this.ht(e,s))})),re.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(be(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Xi(e).H("collectionPathOverlayIndex",r))})),re.waitFor(i)}getOverlaysForCollection(e,t,n){const r=zn(),i=be(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Xi(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=qi(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=zn();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xi(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=qi(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Xi(e).put(function(e,t,n){const[r,i,s]=Ki(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bi(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Xi(e){return We(e,"documentOverlays")}class Ji{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(lt(e.integerValue));else if("doubleValue"in e){const n=lt(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ye(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ct(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):y()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),z.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function $i(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Zi(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=$i(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ji.bt=new Ji;class es{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Zi(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Zi(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class ts{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class ns{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class rs{constructor(){this.Gt=new es,this.zt=new ts(this.Gt),this.jt=new ns(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class is{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new is(this.indexId,this.documentKey,this.arrayValue,n)}}function ss(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=os(e.arrayValue,t.arrayValue),0!==n?n:(n=os(e.directionalValue,t.directionalValue),0!==n?n:z.comparator(e.documentKey,t.documentKey)))}function os(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class as{constructor(e){this.Yt=new et(((e,t)=>B.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(v(e.collectionGroup===this.collectionId),this.en)return!1;const t=K(e);if(void 0!==t&&!this.nn(t))return!1;const n=G(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new et(B.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new W(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new W(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new W(n.field,"asc"===n.dir?0:1)));return new q(q.UNKNOWN_ID,this.collectionId,t,Y.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ls(e){var t,n;if(v(e instanceof Ht||e instanceof Wt),e instanceof Ht){if(e instanceof ln){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ht.create(e.field,"==",t))))||[];return Wt.create(r,"or")}return e}const r=e.filters.map((e=>ls(e)));return Wt.create(r,e.op)}function cs(e){if(0===e.getFilters().length)return[];const t=fs(ls(e));return v(ds(t)),us(t)||hs(t)?[t]:t.getFilters()}function us(e){return e instanceof Ht}function hs(e){return e instanceof Wt&&Xt(e)}function ds(e){return us(e)||hs(e)||function(e){if(e instanceof Wt&&Yt(e)){for(const t of e.getFilters())if(!us(t)&&!hs(t))return!1;return!0}return!1}(e)}function fs(e){if(v(e instanceof Ht||e instanceof Wt),e instanceof Ht)return e;if(1===e.filters.length)return fs(e.filters[0]);const t=e.filters.map((e=>fs(e)));let n=Wt.create(t,e.op);return n=gs(n),ds(n)?n:(v(n instanceof Wt),v(Qt(n)),v(n.filters.length>1),n.filters.reduce(((e,t)=>ps(e,t))))}function ps(e,t){let n;return v(e instanceof Ht||e instanceof Wt),v(t instanceof Ht||t instanceof Wt),n=e instanceof Ht?t instanceof Ht?function(e,t){return Wt.create([e,t],"and")}(e,t):ms(e,t):t instanceof Ht?ms(t,e):function(e,t){if(v(e.filters.length>0&&t.filters.length>0),Qt(e)&&Qt(t))return en(e,t.getFilters());const n=Yt(e)?e:t,r=Yt(e)?t:e,i=n.filters.map((e=>ps(e,r)));return Wt.create(i,"or")}(e,t),gs(n)}function ms(e,t){if(Qt(t))return en(t,e.getFilters());{const n=t.filters.map((t=>ps(e,t)));return Wt.create(n,"or")}}function gs(e){if(v(e instanceof Ht||e instanceof Wt),e instanceof Ht)return e;const t=e.getFilters();if(1===t.length)return gs(t[0]);if(Jt(e))return e;const n=t.map((e=>gs(e))),r=[];return n.forEach((t=>{t instanceof Ht?r.push(t):t instanceof Wt&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Wt.create(r,e.op)}class ys{constructor(){this._n=new vs}addToCollectionParentIndex(e,t){return this._n.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve($.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve($.min())}updateCollectionGroup(e,t,n){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class vs{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new et(V.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new et(V.comparator)).toArray()}}const bs=new Uint8Array(0);class ws{constructor(e,t){this.databaseId=t,this.an=new vs,this.un=new Ln((e=>fn(e)),((e,t)=>pn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:be(r)};return xs(e).put(i)}return re.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[P(t),""],!1,!0);return xs(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n}))}addFieldIndex(e,t){const n=Es(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=_s(e);return i.next((e=>{n.put(Gi(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Es(e),r=_s(e),i=Ss(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Es(e),n=Ss(e),r=_s(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return re.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new as(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Ss(e);let r=!0;const i=new Map;return re.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Wn();const r=[];return re.forEach(i,((i,s)=>{f("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(fn(t)));const o=function(e,t){const n=K(t);if(void 0===n)return null;for(const r of gn(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of G(t))for(const t of gn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?yn(e,i.fieldPath,e.startAt):vn(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ut(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of G(t)){const t=0===i.kind?vn(e,i.fieldPath,e.endAt):yn(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ut(n,r)}(s,i),u=this.hn(i,s,l),h=this.hn(i,s,c),d=this.Pn(i,s,a),p=this.In(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return re.forEach(p,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return re.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:cs(Wt.create(e.filters,"and")).map((t=>dn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/l]):bs,h=this.En(e,a,n[u%l],r),d=this.dn(e,a,i[u%l],s),f=o.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new is(e,z.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new is(e,z.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new as(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return re.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new et(B.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new rs;for(const r of G(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Ji.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new rs;return Ji.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new rs;return Ji.bt.Pt(Tt(this.databaseId,t),n.Ht(function(e){const t=G(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new rs);let i=0;for(const s of G(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&Ct(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);Ji.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new rs;n.seed(e.Wt()),Ji.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Ht&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Es(e),r=_s(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return re.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Y(t.sequenceNumber,new $(Fi(t.readTime),new z(Se(t.documentKey)),t.largestBatchId)):Y.empty(),r=e.fields.map((e=>{let[t,n]=e;return new W(B.fromServerFormat(t),n)}));return new q(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:j(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Es(e),i=_s(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>re.forEach(t,(t=>i.put(Gi(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return re.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?re.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),re.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?re.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Ss(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Ss(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Ss(e);let i=new et(ss);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new is(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new et(ss);const r=this.An(t,e);if(null==r)return n;const i=K(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ct(s))for(const i of s.arrayValue.values||[])n=n.add(new is(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new is(t.indexId,e.key,bs,r));return n}wn(e,t,n,r,i){f("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=nt(s),l=nt(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=nt(o)):t?(i(a),a=nt(s)):(a=nt(s),l=nt(o))}}(r,i,ss,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),re.waitFor(s)}gn(e){let t=1;return _s(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ss(e,t))).filter(((e,t,n)=>!t||0!==ss(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=ss(s,e),i=ss(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,bs,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,bs,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return ss(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ts)}getMinOffset(e,t){return re.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||y())))).next(Ts)}}function xs(e){return We(e,"collectionParents")}function Ss(e){return We(e,"indexEntries")}function Es(e){return We(e,"indexConfiguration")}function _s(e){return We(e,"indexState")}function Ts(e){v(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Z(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $(t.readTime,t.documentKey,n)}const ks={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Is(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{v(1===a)})));const c=[];for(const u of n.mutations){const e=Te(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return re.waitFor(s).next((()=>c))}function As(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class Ns{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){v(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ns(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=js(e),s=Rs(e);return s.add({}).next((o=>{v("number"==typeof o);const a=new Ir(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>bi(e.ct,t))),i=n.mutations.map((t=>bi(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new et(((e,t)=>j(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Te(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,ke))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),re.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Rs(e).get(t).next((e=>e?(v(e.userId===this.userId),Vi(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?re.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Rs(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(v(t.batchId>=n),i=Vi(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Rs(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rs(e).W("userMutationsIndex",t).next((e=>e.map((e=>Vi(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=_e(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return js(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=Se(a);if(o===this.userId&&t.path.isEqual(c))return Rs(e).get(l).next((e=>{if(!e)throw y();v(e.userId===this.userId),i.push(Vi(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(j);const r=[];return t.forEach((t=>{const i=_e(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=js(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=Se(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),re.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=_e(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new et(j);return js(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=Se(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Rs(e).get(t).next((e=>{if(null===e)throw y();v(e.userId===this.userId),n.push(Vi(this.serializer,e))})))})),re.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Is(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),re.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return re.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return js(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()})).next((()=>{v(0===r.length)}))}))}containsKey(e,t){return Ds(e,this.userId,t)}xn(e){return Os(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Ds(e,t,n){const r=_e(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return js(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Rs(e){return We(e,"mutations")}function js(e){return We(e,"documentMutations")}function Os(e){return We(e,"mutationQueues")}class Ps{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ps(0)}static Bn(){return new Ps(-1)}}class Ls{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Ps(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>M.fromTimestamp(new L(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Ms(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(v(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Ms(e).Y(((s,o)=>{const a=Ui(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>re.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Ms(e).Y(((e,n)=>{const r=Ui(n);t(r)}))}Ln(e){return Fs(e).get("targetGlobalKey").next((e=>(v(null!==e),e)))}kn(e,t){return Fs(e).put("targetGlobalKey",t)}qn(e,t){return Ms(e).put(Bi(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=fn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Ms(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Ui(n);pn(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Vs(e);return t.forEach((t=>{const s=be(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),re.waitFor(r)}removeMatchingKeys(e,t,n){const r=Vs(e);return re.forEach(t,(t=>{const i=be(t.path);return re.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Vs(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vs(e);let i=Wn();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Se(e[1]),s=new z(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=be(t.path),r=IDBKeyRange.bound([n],[P(n)],!1,!0);let i=0;return Vs(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Ms(e).get(t).next((e=>e?Ui(e):null))}}function Ms(e){return We(e,"targets")}function Fs(e){return We(e,"targetGlobal")}function Vs(e){return We(e,"targetDocuments")}function Us(e,t){let[n,r]=e,[i,s]=t;const o=j(n,i);return 0===o?j(r,s):o}class Bs{constructor(e){this.Kn=e,this.buffer=new et(Us),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Us(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){f("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){le(e)?f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ne(e)}await this.zn(3e5)}))}}class qs{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return re.resolve(me._e);const n=new Bs(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(ks)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ks):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),d()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ks(e,t){return new qs(e,t)}class Gs{constructor(e,t){this.db=e,this.garbageCollector=Ks(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Hs(e,n)}removeReference(e,t,n){return Hs(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Hs(e,t)}er(e,t){return function(e,t){let n=!1;return Os(e).Z((r=>Ds(e,r,t).next((e=>(e&&(n=!0),re.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,M.min()),Vs(e).delete(function(e){return[0,be(e.path)]}(s)))))}));r.push(t)}})).next((()=>re.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Hs(e,t)}Xn(e,t){const n=Vs(e);let r,i=me._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==me._e&&t(new z(Se(r)),i),i=l,r=a):i=me._e})).next((()=>{i!==me._e&&t(new z(Se(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hs(e,t){return Vs(e).put(function(e,t){return{targetId:0,path:be(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Ws{constructor(){this.changes=new Ln((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qs{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return $s(e).put(n)}removeEntry(e,t,n){return $s(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Li(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Vt.newInvalidDocument(t);return $s(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zs(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Vt.newInvalidDocument(t)};return $s(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zs(t))},((e,r)=>{n={document:this.nr(t,r),size:As(r)}})).next((()=>n))}getEntries(e,t){let n=Fn();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Fn(),r=new Je(z.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,As(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return re.resolve();let r=new et(to);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Zs(r.first()),Zs(r.last())),s=r.getIterator();let o=s.getNext();return $s(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&to(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Zs(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Li(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Fn();for(const i of e){const e=this.nr(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Rn(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Fn();const s=eo(t,n),o=eo(t,$.max());return $s(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Xs(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Js(e).get("remoteDocumentGlobalKey").next((e=>(v(!!e),e)))}tr(e,t){return Js(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=vi(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=z.fromSegments(t.noDocument.path),r=Fi(t.noDocument.readTime);n=Vt.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return y();{const e=z.fromSegments(t.unknownDocument.path),r=Fi(t.unknownDocument.version);n=Vt.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new L(e[0],e[1]);return M.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(M.min()))return e}return Vt.newInvalidDocument(e)}}function Ys(e){return new Qs(e)}class Xs extends Ws{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Ln((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new et(((e,t)=>j(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Pi(this.ar.serializer,s);r=r.add(i.path.popLast());const l=As(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Pi(this.ar.serializer,s.convertToNoDocument(M.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),re.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Js(e){return We(e,"remoteDocumentGlobal")}function $s(e){return We(e,"remoteDocumentsV14")}function Zs(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function eo(e,t){const n=t.documentKey.path.toArray();return[e,Li(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function to(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=j(n[s],r[s]),i)return i;return i=j(n.length,r.length),i||(i=j(n[n.length-2],r[r.length-2]),i||j(n[n.length-1],r[r.length-1]))}class no{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ro{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&vr(n.mutation,e,rt.empty(),L.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wn()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wn();const r=zn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Un();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Fn();const s=Kn(),o=Kn();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Sr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),vr(o.mutation,t,o.mutation.getFieldMask(),L.now())):s.set(t.key,rt.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new no(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Kn();let r=new Je(((e,t)=>e-t)),i=Wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||rt.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Wn()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=qn();l.forEach((e=>{if(!i.has(e)){const r=gr(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return re.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):En(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):re.resolve(zn());let o=-1,a=i;return s.next((t=>re.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?re.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Wn()))).next((e=>({batchId:o,changes:Bn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=Un();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Un();return this.indexManager.getCollectionParents(e,i).next((o=>re.forEach(o,(o=>{const a=function(e,t){return new bn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vt.newInvalidDocument(r)))}));let n=Un();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&vr(s.mutation,r,rt.empty(),L.now()),Rn(t,r)&&(n=n.insert(e,r))})),n}))}}class io{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return re.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ai(e.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:zi(e.bundledQuery),readTime:ai(e.readTime)}}(t)),re.resolve()}}class so{constructor(){this.overlays=new Je(z.comparator),this.hr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zn();return re.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),re.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),re.resolve()}getOverlaysForCollection(e,t,n){const r=zn(),i=t.length+1,s=new z(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Je(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return re.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Nr(t,n));let i=this.hr.get(t);void 0===i&&(i=Wn(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class oo{constructor(){this.Pr=new et(ao.Ir),this.Tr=new et(ao.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new ao(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new ao(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new z(new V([])),n=new ao(t,e),r=new ao(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new z(new V([])),n=new ao(t,e),r=new ao(t,e+1);let i=Wn();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ao(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ao{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return z.comparator(e.key,t.key)||j(e.pr,t.pr)}static Er(e,t){return j(e.pr,t.pr)||z.comparator(e.key,t.key)}}class lo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new et(ao.Ir)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ir(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new ao(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,t){return re.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ao(t,0),r=new ao(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new et(j);return t.forEach((e=>{const t=new ao(e,0),r=new ao(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),re.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;z.isDocumentKey(i)||(i=i.child(""));const s=new ao(new z(i),0);let o=new et(j);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),re.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){v(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return re.forEach(t.mutations,(r=>{const i=new ao(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new ao(t,0),r=this.wr.firstAfterOrEqual(n);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class co{constructor(e){this.vr=e,this.docs=new Je(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return re.resolve(n?n.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let n=Fn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vt.newInvalidDocument(e))})),re.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Fn();const s=t.path,o=new z(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Z(J(o),n)<=0||(r.has(o.key)||Rn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,n,r){y()}Fr(e,t){return re.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new uo(this)}getSize(e){return re.resolve(this.size)}}class uo extends Ws{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),re.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class ho{constructor(e){this.persistence=e,this.Mr=new Ln((e=>fn(e)),pn),this.lastRemoteSnapshotVersion=M.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oo,this.targetCount=0,this.Br=Ps.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),re.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Ps(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.qn(t),re.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),re.waitFor(i).next((()=>r))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return re.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),re.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),re.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return re.resolve(n)}containsKey(e,t){return re.resolve(this.Nr.containsKey(t))}}class fo{constructor(e,t){this.Lr={},this.overlays={},this.kr=new me(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ho(this),this.indexManager=new ys,this.remoteDocumentCache=function(e){return new co(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Oi(t),this.$r=new io(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new so,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new lo(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){f("MemoryPersistence","Starting transaction:",e);const r=new po(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return re.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class po extends te{constructor(e){super(),this.currentSequenceNumber=e}}class mo{constructor(e){this.persistence=e,this.zr=new oo,this.jr=null}static Hr(e){return new mo(e)}get Jr(){if(this.jr)return this.jr;throw y()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),re.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),re.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Jr,(n=>{const r=z.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,M.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return re.or([()=>re.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class go{constructor(e,t){this.persistence=e,this.Zr=new Ln((e=>be(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ks(this,t)}static Hr(e,t){return new go(e,t)}Ur(){}Wr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return re.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?re.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,M.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),re.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),re.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_t(e.data.value)),t}er(e,t,n){return re.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return re.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class yo{constructor(e){this.serializer=e}N(e,t,n,r){const i=new ie("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0}),e.createObjectStore("documentMutations")}(e),vo(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=re.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),vo(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:M.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ee,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return re.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Fe});t.createIndex("collectionPathOverlayIndex",Ve,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ue,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ce});t.createIndex("documentKeyIndex",Ie),t.createIndex("collectionGroupIndex",Ae)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Oe}).createIndex("sequenceNumberIndex",Pe,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Le}).createIndex("documentKeyIndex",Me,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=As(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>re.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>re.forEach(n,(n=>{v(n.userId===t.userId);const r=Vi(this.serializer,n);return Is(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new V(n),o=function(e){return[0,be(e)]}(s);r.push(t.get(o).next((n=>n?re.resolve():(n=>t.put({targetId:0,path:be(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>re.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:je});const n=t.store("collectionParents"),r=new vs,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:be(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new V(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Se(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Ui(n),i=Bi(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new z(V.fromString(e.document.name).popFirst(5)):e.noDocument?z.fromSegments(e.noDocument.path):e.unknownDocument?z.fromSegments(e.unknownDocument.path):y()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>re.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Ys(this.serializer),i=new fo(mo.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Wn();Vi(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),re.forEach(n,((e,n)=>{const s=new c(n),o=Yi.lt(this.serializer,s),a=i.getIndexManager(s),l=Ns.lt(s,this.serializer,a,i.referenceDelegate);return new ro(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new He(t,me._e),e).next()}))}))}}function vo(e){e.createObjectStore("targetDocuments",{keyPath:De}).createIndex("documentTargetsIndex",Re,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ne,{unique:!0}),e.createObjectStore("targetGlobal")}const bo="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wo{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!wo.D())throw new x(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gs(this,r),this.Ti=t+"main",this.serializer=new Oi(a),this.Ei=new se(this.Ti,this.ui,new yo(this.serializer)),this.Qr=new Ls(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ys(this.serializer),this.$r=new Hi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(w.FAILED_PRECONDITION,bo);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new me(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>So(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(le(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return xo(e).get("owner").next((e=>re.resolve(this.Si(e))))}bi(e){return So(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=We(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return re.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?re.resolve(!0):xo(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new x(w.FAILED_PRECONDITION,bo);return!1}}return!(!this.networkEnabled||!this.inForeground)||So(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&f("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new He(e,me._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>So(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Ns.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ws(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Yi.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){f("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Ge:14===e?Ke:13===e?qe:12===e?ze:11===e?Be:void y()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new He(r,this.kr?this.kr.next():me._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw p("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new x(w.FAILED_PRECONDITION,ee);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return xo(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new x(w.FAILED_PRECONDITION,bo)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xo(e).put("owner",t)}static D(){return se.D()}yi(e){const t=xo(e);return t.get("owner").next((e=>this.Si(e)?(f("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(p("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;o.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return f("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function xo(e){return We(e,"owner")}function So(e){return We(e,"clientMetadata")}function Eo(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class _o{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Wn(),r=Wn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _o(e,t.fromCache,n,r)}}class To{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ko{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=o.isSafari()?8:se.v(o.getUA())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new To;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(d()<=s.LogLevel.DEBUG&&f("QueryEngine","SDK will not create cache indexes for query:",Dn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),re.resolve()):(d()<=s.LogLevel.DEBUG&&f("QueryEngine","Query:",Dn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(d()<=s.LogLevel.DEBUG&&f("QueryEngine","The SDK decides to create cache indexes for query:",Dn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(t))):re.resolve())}ji(e,t){if(Sn(t))return re.resolve(null);let n=Tn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=In(t,null,"F"),n=Tn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wn(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,In(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Sn(t)||r.isEqual(M.min())?re.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?re.resolve(null):(d()<=s.LogLevel.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dn(t)),this.es(e,o,t,X(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new et(On(e));return t.forEach(((t,r)=>{Rn(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return d()<=s.LogLevel.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Dn(t)),this.zi.getDocumentsMatchingQuery(e,t,$.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Co{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Je(j),this.rs=new Ln((e=>fn(e)),pn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ro(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Io(e,t,n,r){return new Co(e,t,n,r)}async function Ao(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Wn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function No(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Do(e,t,n){let r=Wn(),i=Wn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Fn();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(M.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Ro(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function jo(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,re.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new ji(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Oo(e,t,n){const r=b(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!le(e))throw e;f("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Po(e,t,n){const r=b(e);let i=M.min(),s=Wn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=b(e),i=r.rs.get(n);return void 0!==i?re.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Tn(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:M.min(),n?s:Wn()))).next((e=>(Fo(r,jn(t),e),{documents:e,hs:s})))))}function Lo(e,t){const n=b(e),r=b(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Mo(e,t){const n=b(e),r=n.ss.get(t)||M.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,X(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Fo(n,t,e),e)))}function Fo(e,t,n){let r=e.ss.get(t)||M.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wn();const r=await jo(e,Tn(zi(t.bundledQuery))),i=b(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=ai(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(st.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Uo(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bo(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zo(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class qo{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new x(r.error.code,r.error.message))),s?new qo(e,t,r.state,i):(p("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ko{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new x(n.error.code,n.error.message))),i?new Ko(e,n.state,r):(p("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Go{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Yn();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=ve(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Go(e,i):(p("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Ho{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ho(t.clientId,t.onlineState):(p("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Wo{constructor(){this.activeTargetIds=Yn()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qo{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Je(j),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Uo(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Wo),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Uo(this.persistenceKey,n));if(e){const t=Go.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(zo(this.persistenceKey,e));if(n){const r=Ko.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zo(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t}setItem(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(f("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=me._e;if(null!=e)try{const n=JSON.parse(e);v("number"==typeof n),t=n}catch(e){p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==me._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new qo(this.currentUser,e,t,n),i=Bo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Bo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=zo(this.persistenceKey,e),i=new Ko(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Go.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qo.Es(new c(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Ko.Es(r,t)}xs(e){return Ho.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);f("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Yn();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Yo{constructor(){this.no=new Wo,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xo{io(e){}shutdown(){}}class Jo{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $o=null;function Zo(){return null===$o?$o=268435456+Math.round(2147483648*Math.random()):$o++,"0x"+$o.toString(16)}const ea={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ta{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const na="WebChannelConnection";class ra extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Zo(),o=this.bo(e,t.toUriEncodedString());f("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(f("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw m("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=ea[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Zo();return new Promise(((s,o)=>{const l=new a.XhrIo;l.setWithCredentials(!0),l.listenOnce(a.EventType.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case a.ErrorCode.NO_ERROR:const t=l.getResponseJson();f(na,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case a.ErrorCode.TIMEOUT:f(na,"RPC '".concat(e,"' ").concat(i," timed out")),o(new x(w.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:const n=l.getStatus();if(f(na,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",l.getResponseText()),n>0){let e=l.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(t)>=0?t:w.UNKNOWN}(t.status);o(new x(e,t.message))}else o(new x(w.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new x(w.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f(na,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);f(na,"RPC '".concat(e,"' ").concat(i," sending request:"),r),l.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=Zo(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=a.createWebChannelTransport(),o=a.getStatEventTarget(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const u=i.join("");f(na,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),l);const h=s.createWebChannel(u,l);let d=!1,p=!1;const g=new ta({lo:t=>{p?f(na,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(f(na,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),h.open(),d=!0),f(na,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),h.send(t))},ho:()=>h.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(h,a.WebChannel.EventType.OPEN,(()=>{p||f(na,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),y(h,a.WebChannel.EventType.CLOSE,(()=>{p||(p=!0,f(na,"RPC '".concat(e,"' stream ").concat(r," transport closed")),g.Vo())})),y(h,a.WebChannel.EventType.ERROR,(t=>{p||(p=!0,m(na,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),g.Vo(new x(w.UNAVAILABLE,"The operation could not be completed")))})),y(h,a.WebChannel.EventType.MESSAGE,(t=>{var n;if(!p){const i=t.data[0];v(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){f(na,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=jr[e];if(void 0!==t)return Lr(t)}(t),i=o.message;void 0===n&&(n=w.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),p=!0,g.Vo(new x(n,i)),h.close()}else f(na,"RPC '".concat(e,"' stream ").concat(r," received:"),i),g.mo(i)}})),y(o,a.Event.STAT_EVENT,(t=>{t.stat===a.Stat.PROXY?f(na,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===a.Stat.NOPROXY&&f(na,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{g.Ro()}),0),g}}function ia(){return"undefined"!=typeof window?window:null}function sa(){return"undefined"!=typeof document?document:null}function oa(e){return new ni(e,!0)}class aa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&f("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class la{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aa(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===w.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new x(w.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return f("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ca extends la{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(v(void 0===t||"string"==typeof t),st.fromBase64String(t||"")):(v(void 0===t||t instanceof Uint8Array),st.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?w.UNKNOWN:Lr(e.code);return new x(t,e.message||"")}(o);n=new Qr(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=di(e,r.document.name),s=ai(r.document.updateTime),o=r.document.createTime?ai(r.document.createTime):M.min(),a=new Mt({mapValue:{fields:r.document.fields}}),l=Vt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Hr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=di(e,r.document),s=r.readTime?ai(r.readTime):M.min(),o=Vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hr([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=di(e,r.document),s=r.removedTargetIds||[];n=new Hr([],s,i,null)}else{if(!("filter"in t))return y();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Rr(r,i),o=e.targetId;n=new Wr(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return M.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?M.min():t.readTime?ai(t.readTime):M.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=mi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mn(r)?{documents:xi(e,r)}:{query:Si(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=si(e,t.resumeToken);const r=ri(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(M.min())>0){n.readTime=ii(e,t.snapshotVersion.toTimestamp());const r=ri(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=mi(this.serializer),t.removeTarget=e,this.t_(t)}}class ua extends la{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(v(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(v(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ai(e.updateTime):ai(t);return n.isEqual(M.min())&&(n=ai(t)),new dr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ai(e.commitTime);return this.listener.T_(n,t)}return v(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=mi(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>bi(this.serializer,e)))};this.t_(t)}}class ha extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,ci(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new x(w.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,ci(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new x(w.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class da{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(p(t),this.g_=!1):f("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class fa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Sa(this)&&(f("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.v_.add(4),await ma(t),t.x_.set("Unknown"),t.v_.delete(4),await pa(t)}(this))}))})),this.x_=new da(n,r)}}async function pa(e){if(Sa(e))for(const t of e.F_)await t(!0)}async function ma(e){for(const t of e.F_)await t(!1)}function ga(e,t){const n=b(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),xa(n)?wa(n):Ua(n).Jo()&&va(n,t))}function ya(e,t){const n=b(e),r=Ua(n);n.C_.delete(t),r.Jo()&&ba(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Sa(n)&&n.x_.set("Unknown"))}function va(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(M.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ua(e).c_(t)}function ba(e,t){e.O_.Oe(t),Ua(e).l_(t)}function wa(e){e.O_=new Xr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ua(e).start(),e.x_.p_()}function xa(e){return Sa(e)&&!Ua(e).Ho()&&e.C_.size>0}function Sa(e){return 0===b(e).v_.size}function Ea(e){e.O_=void 0}async function _a(e){e.C_.forEach(((t,n)=>{va(e,t)}))}async function Ta(e,t){Ea(e),xa(e)?(e.x_.S_(t),wa(e)):e.x_.set("Unknown")}async function ka(e,t,n){if(e.x_.set("Online"),t instanceof Qr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ca(e,n)}else if(t instanceof Hr?e.O_.$e(t):t instanceof Wr?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(M.min()))try{const t=await No(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(st.EMPTY_BYTE_STRING,r.snapshotVersion)),ba(e,t);const i=new ji(r.target,t,n,r.sequenceNumber);va(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){f("RemoteStore","Failed to raise snapshot:",t),await Ca(e,t)}}async function Ca(e,t,n){if(!le(t))throw t;e.v_.add(1),await ma(e),e.x_.set("Offline"),n||(n=()=>No(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{f("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await pa(e)}))}function Ia(e,t){return t().catch((n=>Ca(e,n,t)))}async function Aa(e){const t=b(e),n=Ba(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Na(t);)try{const e=await Ro(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Da(t,e)}catch(e){await Ca(t,e)}Ra(t)&&ja(t)}function Na(e){return Sa(e)&&e.D_.length<10}function Da(e,t){e.D_.push(t);const n=Ba(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Ra(e){return Sa(e)&&!Ba(e).Ho()&&e.D_.length>0}function ja(e){Ba(e).start()}async function Oa(e){Ba(e).d_()}async function Pa(e){const t=Ba(e);for(const n of e.D_)t.I_(n.mutations)}async function La(e,t,n){const r=e.D_.shift(),i=Ar.from(r,t,n);await Ia(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Aa(e)}async function Ma(e,t){t&&Ba(e).P_&&await async function(e,t){if(function(e){return Pr(e)&&e!==w.ABORTED}(t.code)){const n=e.D_.shift();Ba(e).Zo(),await Ia(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Aa(e)}}(e,t),Ra(e)&&ja(e)}async function Fa(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials");const r=Sa(n);n.v_.add(3),await ma(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await pa(n)}async function Va(e,t){const n=b(e);t?(n.v_.delete(2),await pa(n)):t||(n.v_.add(2),await ma(n),n.x_.set("Unknown"))}function Ua(e){return e.N_||(e.N_=function(e,t,n){const r=b(e);return r.R_(),new ca(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:_a.bind(null,e),To:Ta.bind(null,e),u_:ka.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),xa(e)?wa(e):e.x_.set("Unknown")):(await e.N_.stop(),Ea(e))}))),e.N_}function Ba(e){return e.B_||(e.B_=function(e,t,n){const r=b(e);return r.R_(),new ua(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Oa.bind(null,e),To:Ma.bind(null,e),E_:Pa.bind(null,e),T_:La.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Aa(e)):(await e.B_.stop(),e.D_.length>0&&(f("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class za{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new za(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qa(e,t){if(p("AsyncQueue","".concat(t,": ").concat(e)),le(e))return new x(w.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ka{constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=Un(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ka))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ka;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ga{constructor(){this.L_=new Je(z.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):y():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ha{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ha(e,t,Ka.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&An(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wa{constructor(){this.q_=void 0,this.Q_=[]}}class Qa{constructor(){this.queries=new Ln((e=>Nn(e)),An),this.onlineState="Unknown",this.K_=new Set}}async function Ya(e,t){const n=b(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Wa),i)try{s.q_=await n.onListen(r)}catch(e){const n=qa(e,"Initialization of query '".concat(Dn(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&Za(n)}async function Xa(e,t){const n=b(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ja(e,t){const n=b(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Za(n)}function $a(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Za(e){e.K_.forEach((e=>{e.next()}))}class el{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ha(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class tl{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class nl{constructor(e){this.serializer=e}Ps(e){return di(this.serializer,e)}Is(e){return e.metadata.exists?vi(this.serializer,e.document,!1):Vt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ai(e)}}class rl{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=il(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=V.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new nl(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Wn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=b(e);let s=Wn(),o=Fn();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await jo(i,function(e){return Tn(xn(V.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Do(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new nl(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Vo(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function il(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class sl{constructor(e){this.key=e}}class ol{constructor(e){this.key=e}}class al{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Wn(),this.mutatedKeys=Wn(),this.ua=On(e),this.ca=new Ka(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Ga,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Rn(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new Ha(this.query,e.ca,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ga,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Wn(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new ol(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new sl(n))})),t}Ra(e){this.oa=e.hs,this.aa=Wn();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Ha.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class ll{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cl{constructor(e){this.key=e,this.ma=!1}}class ul{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Ln((e=>Nn(e)),An),this.pa=new Map,this.ya=new Set,this.wa=new Je(z.comparator),this.Sa=new Map,this.ba=new oo,this.Da={},this.Ca=new Map,this.va=Ps.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function hl(e,t){const n=Ml(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await jo(n.localStore,Tn(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await dl(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&ga(n.remoteStore,e)}return i}async function dl(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Po(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return El(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await Po(e.localStore,t,!0),o=new al(t,s.hs),a=o.ha(s.documents),l=Gr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);El(e,n,c.da);const u=new ll(t,n,o);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function fl(e,t){const n=b(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!An(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Oo(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),ya(n.remoteStore,r.targetId),xl(n,r.targetId)})).catch(ne)):(xl(n,r.targetId),await Oo(n.localStore,r.targetId,!0))}async function pl(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(st.EMPTY_BYTE_STRING,M.min()).withLastLimboFreeSnapshotVersion(M.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=Fn(),l=Wn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Do(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(M.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return re.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?v(r.ma):e.removedDocuments.size>0&&(v(r.ma),r.ma=!1))})),await kl(n,e,t)}catch(e){await ne(e)}}function ml(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Za(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gl(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Je(z.comparator);e=e.insert(s,Vt.newNoDocument(s,M.min()));const n=Wn().add(s),i=new Kr(M.min(),new Map,new Je(j),e,n);await pl(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),Tl(r)}else await Oo(r.localStore,t,!1).then((()=>xl(r,t,n))).catch(ne)}async function yl(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=re.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);v(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);wl(n,r,null),bl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kl(n,e)}catch(e){await ne(e)}}async function vl(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(v(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);wl(r,t,n),bl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await kl(r,e)}catch(n){await ne(n)}}function bl(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function wl(e,t,n){const r=b(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function xl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Sl(e,t)}))}function Sl(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(ya(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Tl(e))}function El(e,t,n){for(const r of n)r instanceof sl?(e.ba.addReference(r.key,t),_l(e,r)):r instanceof ol?(f("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Sl(e,r.key)):y()}function _l(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(f("SyncEngine","New document in limbo: "+n),e.ya.add(r),Tl(e))}function Tl(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new z(V.fromString(t)),r=e.va.next();e.Sa.set(r,new cl(n)),e.wa=e.wa.insert(n,r),ga(e.remoteStore,new ji(Tn(xn(n.path)),r,"TargetPurposeLimboResolution",me._e))}}async function kl(e,t,n){const r=b(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=_o.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>re.forEach(t,(t=>re.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>re.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!le(e))throw e;f("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Cl(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){f("SyncEngine","User change. New user:",t.toKey());const e=await Ao(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new x(w.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await kl(n,e.us)}}function Il(e,t){const n=b(e),r=n.Sa.get(t);if(r&&r.ma)return Wn().add(r.key);{let e=Wn();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Al(e,t){const n=b(e),r=await Po(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&El(n,t.targetId,i.da),i}async function Nl(e,t){const n=b(e);return Mo(n.localStore,t).then((e=>kl(n,e)))}async function Dl(e,t,n,r){const i=b(e),s=await function(e,t){const n=b(e),r=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):re.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Aa(i.remoteStore):"acknowledged"===n||"rejected"===n?(wl(i,t,r||null),bl(i,t),function(e,t){b(b(e).mutationQueue).Mn(t)}(i.localStore,t)):y(),await kl(i,s)):f("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Rl(e,t,n){const r=b(e),i=[],s=[];for(const o of t){let e;const t=r.pa.get(o);if(t&&0!==t.length){e=await jo(r.localStore,Tn(t[0]));for(const e of t){const t=r.ga.get(e),n=await Al(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Lo(r.localStore,o);e=await jo(r.localStore,t),await dl(r,jl(t),o,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function jl(e){return wn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ol(e){return function(e){return b(b(e).persistence).Li()}(b(e).localStore)}async function Pl(e,t,n,r){const i=b(e);if(i.Fa)return void f("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Mo(i.localStore,jn(s[0])),r=Kr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,st.EMPTY_BYTE_STRING);await kl(i,e,r);break}case"rejected":await Oo(i.localStore,t,!0),xl(i,t,r);break;default:y()}}async function Ll(e,t,n){const r=Ml(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){f("SyncEngine","Adding an already active target "+e);continue}const t=await Lo(r.localStore,e),n=await jo(r.localStore,t);await dl(r,jl(t),n.targetId,!1,n.resumeToken),ga(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Oo(r.localStore,e,!1).then((()=>{ya(r.remoteStore,e),xl(r,e)})).catch(ne)}}function Ml(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Il.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gl.bind(null,t),t.fa.u_=Ja.bind(null,t.eventManager),t.fa.xa=$a.bind(null,t.eventManager),t}function Fl(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vl.bind(null,t),t}class Vl{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=oa(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Io(this.persistence,new ko,e.initialUser,this.serializer)}createPersistence(e){return new fo(mo.Hr,this.serializer)}createSharedClientState(e){return new Yo}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ul extends Vl{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){v(this.persistence.referenceDelegate instanceof go);const n=this.persistence.referenceDelegate.garbageCollector;return new zs(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new fo((e=>go.Hr(e,t)),this.serializer)}}class Bl extends Vl{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await Fl(this.Na.syncEngine),await Aa(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Io(this.persistence,new ko,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new zs(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new pe(t,this.persistence);return new fe(e.asyncQueue,n)}createPersistence(e){const t=Eo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new wo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ia(),sa(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yo}}class zl extends Bl{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Qo&&(this.sharedClientState.syncEngine={Zs:Dl.bind(null,t),Xs:Pl.bind(null,t),eo:Ll.bind(null,t),Li:Ol.bind(null,t),Ys:Nl.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=b(e);if(Ml(n),Fl(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Rl(n,e.toArray());n.Fa=!0,await Va(n.remoteStore,!0);for(const r of t)ga(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(xl(n,i),Oo(n.localStore,i,!0)))),ya(n.remoteStore,i)})),await t,await Rl(n,e),function(e){const t=b(e);t.Sa.forEach(((e,n)=>{ya(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Je(z.comparator)}(n),n.Fa=!1,await Va(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=ia();if(!Qo.D(t))throw new x(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Eo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qo(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ql{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ml(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cl.bind(null,this.syncEngine),await Va(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qa}createDatastore(e){const t=oa(e.databaseInfo.databaseId),n=function(e){return new ra(e)}(e.databaseInfo);return function(e,t,n,r){return new ha(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new fa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ml(this.syncEngine,e,0)),Jo.D()?new Jo:new Xo)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ul(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=b(e);f("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await ma(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Gl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):p("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Hl{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new S,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new tl(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Wl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new x(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=b(e),r={documents:t.map((e=>hi(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,V.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){v(!!t.found),t.found.name,t.found.updateTime;const n=di(e,t.found.name),r=ai(t.found.updateTime),i=t.found.createTime?ai(t.found.createTime):M.min(),s=new Mt({mapValue:{fields:t.found.fields}});return Vt.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){v(!!t.missing),v(!!t.readTime);const n=di(e,t.missing),r=ai(t.readTime);return Vt.newNoDocument(n,r)}(e,t):y()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());v(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=z.fromPath(t);this.mutations.push(new Cr(n,this.precondition(n)))})),await async function(e,t){const n=b(e),r={writes:t.map((e=>bi(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,V.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw y();t=M.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new x(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(M.min())?fr.exists(!1):fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(M.min()))throw new x(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ql{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new aa(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Wl(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!ge(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pr(t)}return!1}}class Yl{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=c.UNAUTHENTICATED,this.clientId=R.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{f("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(f("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qa(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xl(e,t){e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ao(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Jl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Zl(e);f("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Fa(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Fa(t.remoteStore,n))),e._onlineComponents=t}function $l(e){return"FirebaseError"===e.name?e.code===w.FAILED_PRECONDITION||e.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Zl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){f("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!$l(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await Xl(e,new Vl)}}else f("FirestoreClient","Using default OfflineComponentProvider"),await Xl(e,new Vl);return e._offlineComponents}async function ec(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(f("FirestoreClient","Using user provided OnlineComponentProvider"),await Jl(e,e._uninitializedComponentsProvider._online)):(f("FirestoreClient","Using default OnlineComponentProvider"),await Jl(e,new ql))),e._onlineComponents}function tc(e){return Zl(e).then((e=>e.persistence))}function nc(e){return Zl(e).then((e=>e.localStore))}function rc(e){return ec(e).then((e=>e.remoteStore))}function ic(e){return ec(e).then((e=>e.syncEngine))}function sc(e){return ec(e).then((e=>e.datastore))}async function oc(e){const t=await ec(e),n=t.eventManager;return n.onListen=hl.bind(null,t.syncEngine),n.onUnlisten=fl.bind(null,t.syncEngine),n}function ac(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Gl({next:s=>{t.enqueueAndForget((()=>Xa(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new x(w.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new x(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new el(xn(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Ya(e,o)}(await oc(e),e.asyncQueue,t,n,r))),r.promise}function lc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Gl({next:n=>{t.enqueueAndForget((()=>Xa(e,o))),n.fromCache&&"server"===r.source?i.reject(new x(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new el(n,s,{includeMetadataChanges:!0,Z_:!0});return Ya(e,o)}(await oc(e),e.asyncQueue,t,n,r))),r.promise}function cc(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Fr().encode(e):e,function(e,t){return new Hl(e,t)}(function(e,t){if(e instanceof Uint8Array)return Kl(e,t);if(e instanceof ArrayBuffer)return Kl(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,oa(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=b(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=b(e),r=ai(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(il(r));const i=new rl(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const o=await i.complete();return await kl(e,o.sa,void 0),await function(e,t){const n=b(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ia)}catch(e){return m("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await ic(e),i,r)}))}function uc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hc=new Map;function dc(e,t,n){if(!n)throw new x(w.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fc(e,t,n,r){if(!0===t&&!0===r)throw new x(w.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function pc(e){if(!z.isDocumentKey(e))throw new x(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mc(e){if(z.isDocumentKey(e))throw new x(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":y()}function yc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new x(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gc(e);throw new x(w.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function vc(e,t){if(t<=0)throw new x(w.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class bc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new x(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new x(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new x(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new x(w.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _;switch(e.type){case"firstParty":return new I(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new x(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hc.get(e);t&&(f("ComponentProvider","Removing Datastore"),hc.delete(e),t.terminate())}(this),Promise.resolve()}}function xc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=yc(e,wc))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=c.MOCK_USER;else{t=o.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new x(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new c(s)}e._authCredentials=new T(new E(t,n))}}class Sc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sc(this.firestore,e,this._query)}}class Ec{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ec(this.firestore,e,this._key)}}class _c extends Sc{constructor(e,t,n){super(e,t,xn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ec(this.firestore,null,new z(e))}withConverter(e){return new _c(this.firestore,e,this._path)}}function Tc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=o.getModularInstance(e),1===arguments.length&&(t=R.newId()),dc("doc","path",t),e instanceof wc){const n=V.fromString(t,...r);return pc(n),new Ec(e,null,new z(n))}{if(!(e instanceof Ec||e instanceof _c))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(V.fromString(t,...r));return pc(n),new Ec(e.firestore,e instanceof _c?e.converter:null,new z(n))}}function kc(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),e instanceof Sc&&t instanceof Sc&&e.firestore===t.firestore&&An(e._query,t._query)&&e.converter===t.converter}class Cc{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new aa(this,"async_queue_retry"),this._u=()=>{const e=sa();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=sa();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=sa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new S;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!le(e))throw e;f("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw p("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=za.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&y()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Ic(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Ac{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Nc extends wc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Cc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rc(this),this._firestoreClient.terminate()}}function Dc(e){return e._firestoreClient||Rc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Rc(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ft(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,uc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Yl(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function jc(e,t,n){const r=new S;return e.asyncQueue.enqueue((async()=>{try{await Xl(e,n),await Jl(e,t),r.resolve()}catch(e){const n=e;if(!$l(n))throw n;m("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Oc(e){if(e._initialized||e._terminated)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Lc{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Mc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mc(st.fromBase64String(e))}catch(e){throw new x(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Mc(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new x(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new B(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vc{constructor(e){this._methodName=e}}class Uc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new x(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new x(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const Bc=/^__.*__$/;class zc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xr(e,this.data,t,this.fieldTransforms)}}class qc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class Gc{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Gc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return hu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Kc(this.du)&&Bc.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Hc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||oa(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Gc({du:e,methodName:t,wu:n,path:B.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(e){const t=e._freezeSettings(),n=oa(e._databaseId);return new Hc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qc(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);au("Data must be an object, but it was:",o,r);const a=su(r,o);let l,c;if(s.merge)l=new rt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=lu(t,r,n);if(!o.contains(i))throw new x(w.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));du(e,i)||e.push(i)}l=new rt(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new zc(new Mt(a),l,c)}class Yc extends Vc{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yc}}function Xc(e,t,n){return new Gc({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Jc extends Vc{_toFieldTransform(e){return new hr(e.path,new rr)}isEqual(e){return e instanceof Jc}}class $c extends Vc{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Xc(this,e,!0),n=this.bu.map((e=>iu(e,t))),r=new ir(n);return new hr(e.path,r)}isEqual(e){return e instanceof $c&&o.deepEqual(this.bu,e.bu)}}class Zc extends Vc{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Xc(this,e,!0),n=this.bu.map((e=>iu(e,t))),r=new or(n);return new hr(e.path,r)}isEqual(e){return e instanceof Zc&&o.deepEqual(this.bu,e.bu)}}class eu extends Vc{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new lr(e.serializer,$n(e.serializer,this.Du));return new hr(e.path,t)}isEqual(e){return e instanceof eu&&this.Du===e.Du}}function tu(e,t,n,r){const i=e.Su(1,t,n);au("Data must be an object, but it was:",i,r);const s=[],a=Mt.empty();Ye(r,((e,r)=>{const l=uu(t,e,n);r=o.getModularInstance(r);const c=i.fu(l);if(r instanceof Yc)s.push(l);else{const e=iu(r,c);null!=e&&(s.push(l),a.set(l,e))}}));const l=new rt(s);return new qc(a,l,i.fieldTransforms)}function nu(e,t,n,r,i,s){const a=e.Su(1,t,n),l=[lu(t,r,n)],c=[i];if(s.length%2!=0)throw new x(w.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let o=0;o<s.length;o+=2)l.push(lu(t,s[o])),c.push(s[o+1]);const u=[],h=Mt.empty();for(let f=l.length-1;f>=0;--f)if(!du(u,l[f])){const e=l[f];let t=c[f];t=o.getModularInstance(t);const n=a.fu(e);if(t instanceof Yc)u.push(e);else{const r=iu(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new rt(u);return new qc(h,d,a.fieldTransforms)}function ru(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iu(n,e.Su(r?4:3,t))}function iu(e,t){if(ou(e=o.getModularInstance(e)))return au("Unsupported field value:",t,e),su(e,t);if(e instanceof Vc)return function(e,t){if(!Kc(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=iu(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=o.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $n(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=L.fromDate(e);return{timestampValue:ii(t.serializer,n)}}if(e instanceof L){const n=new L(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ii(t.serializer,n)}}if(e instanceof Uc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mc)return{bytesValue:si(t.serializer,e._byteString)};if(e instanceof Ec){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:li(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(gc(e)))}(e,t)}function su(e,t){const n={};return Xe(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ye(e,((e,r)=>{const i=iu(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ou(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof L||e instanceof Uc||e instanceof Mc||e instanceof Ec||e instanceof Vc)}function au(e,t,n){if(!ou(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=gc(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function lu(e,t,n){if((t=o.getModularInstance(t))instanceof Fc)return t._internalPath;if("string"==typeof t)return uu(e,t);throw hu("Field path arguments must be of type string or ",e,!1,void 0,n)}const cu=new RegExp("[~\\*/\\[\\]]");function uu(e,t,n){if(t.search(cu)>=0)throw hu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Fc(...t.split("."))._internalPath}catch(r){throw hu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hu(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new x(w.INVALID_ARGUMENT,a+e+l)}function du(e,t){return e.some((e=>e.isEqual(t)))}class fu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ec(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pu extends fu{data(){return super.data()}}function mu(e,t){return"string"==typeof t?uu(e,t):t instanceof Fc?t._internalPath:t._delegate._internalPath}function gu(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new x(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yu{}class vu extends yu{}class bu extends vu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new bu(e,t,n)}_apply(e){const t=this._parse(e);return Iu(e._query,t),new Sc(e.firestore,e.converter,Cn(e._query,t))}_parse(e){const t=Wc(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new x(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Cu(o,s);const t=[];for(const n of o)t.push(ku(r,e,n));a={arrayValue:{values:t}}}else a=ku(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Cu(o,s),a=ru(n,t,o,"in"===s||"not-in"===s);return Ht.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class wu extends yu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wu(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Wt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Iu(n,i),n=Cn(n,i)}(e._query,t),new Sc(e.firestore,e.converter,Cn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xu extends vu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xu(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new x(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new x(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qt(t,n)}(e._query,this._field,this._direction);return new Sc(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new bn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Su extends vu{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Su(e,t,n)}_apply(e){return new Sc(e.firestore,e.converter,In(e._query,this._limit,this._limitType))}}class Eu extends vu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Eu(e,t,n)}_apply(e){const t=Tu(e,this.type,this._docOrFields,this._inclusive);return new Sc(e.firestore,e.converter,function(e,t){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class _u extends vu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new _u(e,t,n)}_apply(e){const t=Tu(e,this.type,this._docOrFields,this._inclusive);return new Sc(e.firestore,e.converter,function(e,t){return new bn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Tu(e,t,n,r){if(n[0]=o.getModularInstance(n[0]),n[0]instanceof fu)return function(e,t,n,r,i){if(!r)throw new x(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of _n(e))if(o.field.isKeyField())s.push(Tt(t,r.key));else{const e=r.data.field(o.field);if(ut(e))throw new x(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new x(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Ut(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Wc(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new x(w.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new x(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!En(e)&&-1!==s.indexOf("/"))throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(V.fromString(s));if(!z.isDocumentKey(n))throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new z(n);a.push(Tt(t,i))}else{const e=ru(n,r,s);a.push(e)}}return new Ut(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ku(e,t,n){if("string"==typeof(n=o.getModularInstance(n))){if(""===n)throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!En(t)&&-1!==n.indexOf("/"))throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(V.fromString(n));if(!z.isDocumentKey(r))throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Tt(e,new z(r))}if(n instanceof Ec)return Tt(e,n._key);throw new x(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gc(n),"."))}function Cu(e,t){if(!Array.isArray(e)||0===e.length)throw new x(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Iu(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new x(w.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new x(w.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Au(e,t){if(!(t instanceof bu||t instanceof wu))throw new x(w.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Nu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ct(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ye(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Uc(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ht(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dt(e));default:return null}}convertTimestamp(e){const t=at(e);return new L(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=V.fromString(e);v(Ri(n));const r=new pt(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||p("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Du(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ru extends Nu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ec(this.firestore,null,t)}}function ju(){return new Pc("count")}class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends fu{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(mu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Lu extends Pu{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Mu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ou(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Lu(this._firestore,this._userDataWriter,n.key,n,new Ou(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new x(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Lu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ou(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Lu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ou(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Fu(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class Vu extends Nu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ec(this.firestore,null,t)}}function Uu(e,t){return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Fl(e);try{const e=await function(e,t){const n=b(e),r=L.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Fn(),l=Wn();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=br(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Sr(e.key,t,Ft(t.value.mapValue),fr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Bn(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Je(j)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await kl(r,e.changes),await Aa(r.remoteStore)}catch(e){const t=qa(e,"Failed to persist write");n.reject(t)}}(await ic(e),t,n))),n.promise}(Dc(e),t)}function Bu(e,t,n){const r=n.docs.get(t._key),i=new Vu(e);return new Pu(e,i,t._key,r,new Ou(n.hasPendingWrites,n.fromCache),t.converter)}function zu(e,t){const n=yc(e.firestore,Nc),r=Dc(n),i=function(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}(t,((e,t)=>new Dr(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new S;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await sc(e);r.resolve(async function(e,t,n){var r;const i=b(e),{request:s,V_:o,parent:a}=function(e,t,n){const{ut:r,parent:i}=Si(e,t),s={},o=[];let a=0;return n.forEach((e=>{const t="aggregate_"+a++;s[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:Ii(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:Ii(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:r.structuredQuery},parent:r.parent},V_:s,parent:i}}(i.serializer,function(e){const t=b(e);return t.Pe||(t.Pe=kn(t,e.explicitOrderBy)),t.Pe}(t),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));v(1===l.length);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[o[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Vu(e);return new Lc(t,r,n)}(n,e,t)))}class qu{constructor(e){this.kind="memory",this._onlineComponentProvider=new ql,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Vl}toJSON(){return{kind:this.kind}}}class Ku{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=Yu(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Gu{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Vl}toJSON(){return{kind:this.kind}}}class Hu{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Ul(e)}toJSON(){return{kind:this.kind}}}class Wu{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new ql,this._offlineComponentProvider=new Bl(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class Qu{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new ql,this._offlineComponentProvider=new zl(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function Yu(e){return new Wu(null==e?void 0:e.forceOwnership)}const Xu={maxAttempts:5};class Ju{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wc(e)}set(e,t,n){this._verifyNotCommitted();const r=$u(e,this._firestore),i=Du(r.converter,t,n),s=Qc(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,fr.none())),this}update(e,t,n){this._verifyNotCommitted();const r=$u(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=o.getModularInstance(t))||t instanceof Fc?nu(this._dataReader,"WriteBatch.update",r._key,t,n,a):tu(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$u(e,this._firestore);return this._mutations=this._mutations.concat(new kr(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $u(e,t){if((e=o.getModularInstance(e)).firestore!==t)throw new x(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Zu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wc(e)}get(e){const t=$u(e,this._firestore),n=new Ru(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return y();const r=e[0];if(r.isFoundDocument())return new fu(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new fu(this._firestore,n,t._key,null,t.converter);throw y()}))}set(e,t,n){const r=$u(e,this._firestore),i=Du(r.converter,t,n),s=Qc(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=$u(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=o.getModularInstance(t))||t instanceof Fc?nu(this._dataReader,"Transaction.update",r._key,t,n,a):tu(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=$u(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$u(e,this._firestore),n=new Vu(this._firestore);return super.get(e).then((e=>new Pu(this._firestore,n,t._key,e._document,new Ou(!1,!1),t.converter)))}}function eh(e,t){if("string"!=typeof e[t])throw new x(w.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class th{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function nh(e,t){e._client.verifyNotTerminated(),function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){b(e).ts.Ui=t}(await nc(e),t)))}(e._client,t).then((e=>f("setting persistent cache index auto creation isEnabled=".concat(t," succeeded")))).catch((e=>m("setting persistent cache index auto creation isEnabled=".concat(t," failed"),e)))}const rh=new WeakMap;class ih{constructor(){this.Cu=new Map}static get instance(){return sh||(sh=new ih,function(e){if(Mr)throw new Error("a TestingHooksSpi instance is already set");Mr=e}(sh)),sh}tt(e){this.Cu.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Cu;return n.set(t,e),()=>n.delete(t)}}let sh=null;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){u=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Nc(new k(e.getProvider("auth-internal")),new N(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new x(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pt(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(l,"4.4.2",e),r.registerVersion(l,"4.4.2","cjs2017")}(),t.AbstractUserDataWriter=Nu,t.AggregateField=Pc,t.AggregateQuerySnapshot=Lc,t.Bytes=Mc,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=_c,t.DocumentReference=Ec,t.DocumentSnapshot=Pu,t.FieldPath=Fc,t.FieldValue=Vc,t.Firestore=Nc,t.FirestoreError=x,t.GeoPoint=Uc,t.LoadBundleTask=Ac,t.PersistentCacheIndexManager=th,t.Query=Sc,t.QueryCompositeFilterConstraint=wu,t.QueryConstraint=vu,t.QueryDocumentSnapshot=Lu,t.QueryEndAtConstraint=_u,t.QueryFieldFilterConstraint=bu,t.QueryLimitConstraint=Su,t.QueryOrderByConstraint=xu,t.QuerySnapshot=Mu,t.QueryStartAtConstraint=Eu,t.SnapshotMetadata=Ou,t.Timestamp=L,t.Transaction=Zu,t.WriteBatch=Ju,t._AutoId=R,t._ByteString=st,t._DatabaseId=pt,t._DocumentKey=z,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new A(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=_,t._FieldPath=B,t._TestingHooks=class{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return ih.instance.onExistenceFilterMismatch(e)}},t._cast=yc,t._debugAssert=function(e,t){e||y()},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=fc,t.addDoc=function(e,t){const n=yc(e.firestore,Nc),r=Tc(e),i=Du(e.converter,t);return Uu(n,[Qc(Wc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fr.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof Pc&&t instanceof Pc&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return kc(e.query,t.query)&&o.deepEqual(e.data(),t.data())},t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Au("and",e))),wu._create("and",t)},t.arrayRemove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Zc("arrayRemove",t)},t.arrayUnion=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $c("arrayUnion",t)},t.average=function(e){return new Pc("avg",lu("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new x(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new S;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!se.D())return Promise.resolve();const t=e+"main";await se.delete(t)}(Eo(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=o.getModularInstance(e),dc("collection","path",t),e instanceof wc){const n=V.fromString(t,...r);return mc(n),new _c(e,null,n)}{if(!(e instanceof Ec||e instanceof _c))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(V.fromString(t,...r));return mc(n),new _c(e.firestore,null,n)}},t.collectionGroup=function(e,t){if(e=yc(e,wc),dc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new x(w.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Sc(e,null,function(e){return new bn(V.emptyPath(),e)}(t))},t.connectFirestoreEmulator=xc,t.count=ju,t.deleteAllPersistentCacheIndexes=function(e){e._client.verifyNotTerminated(),function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=b(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await nc(e))))}(e._client).then((e=>f("deleting all persistent cache indexes succeeded"))).catch((e=>m("deleting all persistent cache indexes failed",e)))},t.deleteDoc=function(e){return Uu(yc(e.firestore,Nc),[new kr(e._key,fr.none())])},t.deleteField=function(){return new Yc("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await tc(e),n=await rc(e);return t.setNetworkEnabled(!1),async function(e){const t=b(e);t.v_.add(0),await ma(t),t.x_.set("Offline")}(n)}))}(Dc(e=yc(e,Nc)))},t.disablePersistentCacheIndexAutoCreation=function(e){nh(e,!1)},t.doc=Tc,t.documentId=function(){return new Fc("__name__")},t.enableIndexedDbPersistence=function(e,t){Oc(e=yc(e,Nc));const n=Dc(e);if(n._uninitializedComponentsProvider)throw new x(w.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ql;return jc(n,i,new Bl(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))},t.enableMultiTabIndexedDbPersistence=function(e){Oc(e=yc(e,Nc));const t=Dc(e);if(t._uninitializedComponentsProvider)throw new x(w.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new ql;return jc(t,r,new zl(r,n.cacheSizeBytes))},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await tc(e),n=await rc(e);return t.setNetworkEnabled(!0),function(e){const t=b(e);return t.v_.delete(0),pa(t)}(n)}))}(Dc(e=yc(e,Nc)))},t.enablePersistentCacheIndexAutoCreation=function(e){nh(e,!0)},t.endAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _u._create("endAt",t,!0)},t.endBefore=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _u._create("endBefore",t,!1)},t.ensureFirestoreConfigured=Dc,t.executeWrite=Uu,t.getAggregateFromServer=zu,t.getCountFromServer=function(e){return zu(e,{count:ju()})},t.getDoc=function(e){e=yc(e,Ec);const t=yc(e.firestore,Nc);return ac(Dc(t),e._key).then((n=>Bu(t,e,n)))},t.getDocFromCache=function(e){e=yc(e,Ec);const t=yc(e.firestore,Nc),n=Dc(t),r=new Vu(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=b(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new x(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=qa(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await nc(e),t,n))),n.promise}(n,e._key).then((n=>new Pu(t,r,e._key,n,new Ou(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=yc(e,Ec);const t=yc(e.firestore,Nc);return ac(Dc(t),e._key,{source:"server"}).then((n=>Bu(t,e,n)))},t.getDocs=function(e){e=yc(e,Sc);const t=yc(e.firestore,Nc),n=Dc(t),r=new Vu(t);return gu(e._query),lc(n,e._query).then((n=>new Mu(t,r,e,n)))},t.getDocsFromCache=function(e){e=yc(e,Sc);const t=yc(e.firestore,Nc),n=Dc(t),r=new Vu(t);return function(e,t){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Po(e,t,!0),i=new al(t,r.hs),s=i.ha(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=qa(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await nc(e),t,n))),n.promise}(n,e._query).then((n=>new Mu(t,r,e,n)))},t.getDocsFromServer=function(e){e=yc(e,Sc);const t=yc(e.firestore,Nc),n=Dc(t),r=new Vu(t);return lc(n,e._query,{source:"server"}).then((n=>new Mu(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||"(default)",s=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=o.getDefaultEmulatorHostnameAndPort("firestore");e&&xc(s,...e)}return s},t.getPersistentCacheIndexManager=function(e){var t;e=yc(e,Nc);const n=rh.get(e);if(n)return n;const r=Dc(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new th(r);return rh.set(e,i),i},t.increment=function(e){return new eu("increment",e)},t.initializeFirestore=function(e,t,n){n||(n="(default)");const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(o.deepEqual(r,t))return e;throw new x(w.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new x(w.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return vc("limit",e),Su._create("limit",e,"F")},t.limitToLast=function(e){return vc("limitToLast",e),Su._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=Dc(e=yc(e,Nc)),r=new Ac;return cc(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new Gu},t.memoryLocalCache=function(e){return new qu(e)},t.memoryLruGarbageCollector=function(e){return new Hu(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=b(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await nc(e),t)))}(Dc(e=yc(e,Nc)),t).then((t=>t?new Sc(e,null,t.query):null))},t.onSnapshot=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=o.getModularInstance(e);let l={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||Ic(n[c])||(l=n[c],c++);const u={includeMetadataChanges:l.includeMetadataChanges};if(Ic(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,d,f;if(e instanceof Ec)d=yc(e.firestore,Nc),f=xn(e._key.path),h={next:t=>{n[c]&&n[c](Bu(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=yc(e,Sc);d=yc(t.firestore,Nc),f=t._query;const r=new Vu(d);h={next:e=>{n[c]&&n[c](new Mu(d,r,t,e))},error:n[c+1],complete:n[c+2]},gu(e._query)}return function(e,t,n,r){const i=new Gl(r),s=new el(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Ya(await oc(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Xa(await oc(e),s)))}}(Dc(d),f,u,h)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new Gl(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).K_.add(t),t.next()}(await oc(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).K_.delete(t)}(await oc(e),n)))}}(Dc(e=yc(e,Nc)),Ic(t)?t:{next:t})},t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Au("or",e))),wu._create("or",t)},t.orderBy=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=mu("orderBy",e);return xu._create(n,t)},t.persistentLocalCache=function(e){return new Ku(e)},t.persistentMultipleTabManager=function(){return new Qu},t.persistentSingleTabManager=Yu,t.query=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof yu&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof wu)).length,n=e.filter((e=>e instanceof bu)).length;if(t>1||t>0&&n>0)throw new x(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e},t.queryEqual=kc,t.refEqual=function(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),(e instanceof Ec||e instanceof _c)&&(t instanceof Ec||t instanceof _c)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=yc(e,Nc);const r=Object.assign(Object.assign({},Xu),n);return function(e){if(e.maxAttempts<1)throw new x(w.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new S;return e.asyncQueue.enqueueAndForget((async()=>{const i=await sc(e);new Ql(e.asyncQueue,i,n,t,r).ja()})),r.promise}(Dc(e),(n=>t(new Zu(e,n))),r)},t.serverTimestamp=function(){return new Jc("serverTimestamp")},t.setDoc=function(e,t,n){e=yc(e,Ec);const r=yc(e.firestore,Nc),i=Du(e.converter,t,n);return Uu(r,[Qc(Wc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fr.none())])},t.setIndexConfiguration=function(e,t){var n;const r=Dc(e=yc(e,Nc));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new x(w.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=eh(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=uu("setIndexConfiguration",eh(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new W(e,2)):"ASCENDING"===n.order?t.push(new W(e,0)):"DESCENDING"===n.order&&t.push(new W(e,1))}n.push(new q(q.UNKNOWN_ID,e,t,Y.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=b(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,l=0;for(;a<o&&l<s;){const s=n(e[l],t[a]);s<0?i(e[l++]):s>0?r(t[a++]):(a++,l++)}for(;a<o;)r(t[a++]);for(;l<s;)i(e[l++])}(n,t,H,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>re.waitFor(i)))))}(await nc(e),t)))}(r,i)},t.setLogLevel=function(e){h.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof Pu&&t instanceof Pu?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mu&&t instanceof Mu&&e._firestore===t._firestore&&kc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Eu._create("startAfter",t,!1)},t.startAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Eu._create("startAt",t,!0)},t.sum=function(e){return new Pc("sum",lu("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n){e=yc(e,Ec);const r=yc(e.firestore,Nc),i=Wc(r);let s;for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Fc?nu(i,"updateDoc",e._key,t,n,l):tu(i,"updateDoc",e._key,t),Uu(r,[s.toMutation(e._key,fr.exists(!0))])},t.waitForPendingWrites=function(e){return function(e){const t=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=b(e);Sa(n.remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=qa(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await ic(e),t))),t.promise}(Dc(e=yc(e,Nc)))},t.where=function(e,t,n){const r=t,i=mu("where",e);return bu._create(i,r,n)},t.writeBatch=function(e){return Dc(e=yc(e,Nc)),new Ju(e,(t=>Uu(e,t)))}},6155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5971),s=[];t.LogLevel=void 0,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(t.LogLevel||(t.LogLevel={}));var o={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},a=t.LogLevel.INFO,l=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),c=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=l[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[o].apply(console,i.__spreadArray(["[".concat(s,"]  ").concat(e.name,":")],n,!1))}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?o[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=u,t.setLogLevel=function(e){s.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=o[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");r>=(null!==i&&void 0!==i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:s,type:n.name})}},i=0,a=s;i<a.length;i++){r(a[i])}}},9164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new l;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=o(e);return a.encodeByteArray(t,!0)},u=function(e){return c(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(x,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new b(n,s,t)}}const x=/\{\$([^}]+)}/g;function S(e){return JSON.parse(e)}const E=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=S(h(s[0])||""),n=S(h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function _(e){return null!==e&&"object"===typeof e}class T{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function k(){}function C(e,t){return"".concat(e," failed: ").concat(t," argument ")}const I=144e5;t.CONSTANTS=r,t.DecodeBase64StringError=l,t.Deferred=g,t.ErrorFactory=w,t.FirebaseError=b,t.MAX_VALUE_MILLIS=I,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)},t.assert=i,t.assertionError=s,t.async=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Promise.resolve(!0).then((()=>{e(...r)})).catch((e=>{t&&t(e)}))}},t.base64=a,t.base64Decode=h,t.base64Encode=c,t.base64urlEncodeWithoutPadding=u,t.calculateBackoffMillis=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(I,n+r)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")},t.createSubscribe=function(e,t){const n=new T(e,t);return n.subscribe.bind(n)},t.decode=E,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],o=n[s];if(_(r)&&_(o)){if(!e(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!r.includes(s))return!1;return!0},t.deepExtend=d,t.errorPrefix=C,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=m,t.getDefaultEmulatorHostnameAndPort=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t["_".concat(e)]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=E(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isBrowserExtension=function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"===typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=E(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=E(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){const t=E(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=S,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):"".concat(e)},t.promiseWithTimeout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;const n=new g;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate.");s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(C(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(C(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(C(e,"namespace")+"must be a valid firebase namespace.")}},4786:(e,t,n)=>{(function(){var t;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:r(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}var s="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a,l=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function c(e,t){if(t)e:{var n=l;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var u;e:{var h={};try{h.__proto__={a:!0},u=h.a;break e}catch(ln){}u=!1}a=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=a;function f(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function p(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}c("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),c("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=l[t[n]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&o(i.prototype,e,{configurable:!0,writable:!0,value:function(){return f(r(this))}})}return e})),c("Promise",(function(e){function t(e){this.g=0,this.i=void 0,this.h=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var s=l.setTimeout;n.prototype.i=function(e){s(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.B),reject:e(this.l)}},t.prototype.B=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.D(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.m(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.g)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.g);this.g=e,this.i=t,2===this.g&&this.C(),this.u()},t.prototype.C=function(){var e=this;s((function(){if(e.v()){var t=l.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.v=function(){if(this.o)return!1;var e=l.CustomEvent,t=l.Event,n=l.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=l.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.u=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)o.h(this.h[e]);this.h=null}};var o=new n;return t.prototype.D=function(e){var t=this.j();e.la(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){s(n)}}:t}var i,s,o=new t((function(e,t){i=e,s=t}));return this.la(r(e,i),r(n,s)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.la=function(e,t){function n(){switch(r.g){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.g)}}var r=this;null==this.h?o.h(n):this.h.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var s=i(e),o=s.next();!o.done;o=s.next())r(o.value).la(t,n)}))},t.all=function(e){var n=i(e),s=n.next();return s.done?r([]):new t((function(e,t){function i(t){return function(n){o[t]=n,0==--a&&e(o)}}var o=[],a=0;do{o.push(void 0),a++,r(s.value).la(i(o.length-1),t),s=n.next()}while(!s.done)}))},t})),c("Array.prototype.values",(function(e){return e||function(){return p(this,(function(e,t){return t}))}})),c("Array.prototype.keys",(function(e){return e||function(){return p(this,(function(e){return e}))}})),c("WeakMap",(function(e){function t(e){if(this.g=(c+=Math.random()+1).toString(),e){e=i(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function s(e){if(!m(e,l)){var t=new n;o(e,l,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&s(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(i){return!1}}())return e;var l="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var c=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(s(e),!m(e,l))throw Error("WeakMap key fail: "+e);return e[l][this.g]=t,this},t.prototype.get=function(e){return r(e)&&m(e,l)?e[l][this.g]:void 0},t.prototype.has=function(e){return r(e)&&m(e,l)&&m(e[l],this.g)},t.prototype.delete=function(e){return!!(r(e)&&m(e,l)&&m(e[l],this.g))&&delete e[l][this.g]},t})),c("Map",(function(e){function t(){var e={};return e.V=e.next=e.head=e}function n(e,t){var n=e.g;return f((function(){if(n){for(;n.head!=e.g;)n=n.V;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?o.has(t)?n=o.get(t):(n=""+ ++a,o.set(t,n)):n="p_"+t;var r=e.h[n];if(r&&m(e.h,n))for(e=0;e<r.length;e++){var i=r[e];if(t!==t&&i.key!==i.key||t===i.key)return{id:n,list:r,index:e,K:i}}return{id:n,list:r,index:-1,K:void 0}}function s(e){if(this.h={},this.g=t(),this.size=0,e){e=i(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),s=r.next();return!s.done&&s.value[0]==t&&"s"==s.value[1]&&!((s=r.next()).done||4!=s.value[0].x||"t"!=s.value[1]||!r.next().done)}catch(o){return!1}}())return e;var o=new WeakMap;s.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.K?n.K.value=t:(n.K={next:this.g,V:this.g.V,head:this.g,key:e,value:t},n.list.push(n.K),this.g.V.next=n.K,this.g.V=n.K,this.size++),this},s.prototype.delete=function(e){return!(!(e=r(this,e)).K||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.K.V.next=e.K.next,e.K.next.V=e.K.V,e.K.head=null,this.size--,!0)},s.prototype.clear=function(){this.h={},this.g=this.g.V=t(),this.size=0},s.prototype.has=function(e){return!!r(this,e).K},s.prototype.get=function(e){return(e=r(this,e).K)&&e.value},s.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},s.prototype.keys=function(){return n(this,(function(e){return e.key}))},s.prototype.values=function(){return n(this,(function(e){return e.value}))},s.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},s.prototype[Symbol.iterator]=s.prototype.entries;var a=0;return s})),c("Array.prototype.find",(function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var s=n[i];if(e.call(t,s,i,n)){e=s;break e}}e=void 0}return e}})),c("Array.prototype.entries",(function(e){return e||function(){return p(this,(function(e,t){return[e,t]}))}})),c("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var s=0;!(i=e.next()).done;)r.push(t.call(n,i.value,s++))}else for(i=e.length,s=0;s<i;s++)r.push(t.call(n,e[s],s));return r}})),c("Set",(function(e){function t(e){if(this.g=new Map,e){e=i(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),s=r.next();return!s.done&&s.value[0]==t&&s.value[1]==t&&(!(s=r.next()).done&&s.value[0]!=t&&4==s.value[0].x&&s.value[1]==s.value[0]&&r.next().done)}catch(o){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(r){return e.call(t,r,r,n)}))},t)}));var g=g||{},y=this||self;function v(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function w(e){return Object.prototype.hasOwnProperty.call(e,x)&&e[x]||(e[x]=++S)}var x="closure_uid_"+(1e9*Math.random()>>>0),S=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:_).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.dc=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function I(){0!=A&&(N[w(this)]=this),this.s=this.s,this.o=this.o}var A=0,N={};I.prototype.s=!1,I.prototype.va=function(){if(!this.s&&(this.s=!0,this.O(),0!=A)){var e=w(this);if(0!=A&&this.o&&0<this.o.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete N[e]}},I.prototype.O=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var D=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function R(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function j(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(v(r)){var i=e.length||0,s=r.length||0;e.length=i+s;for(var o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};y.addEventListener("test",n,t),y.removeEventListener("test",n,t)}catch(r){}return e}();function L(e){return/^[\s\xa0]*$/.test(e)}function M(){var e=y.navigator;return e&&(e=e.userAgent)?e:""}function F(e){return-1!=M().indexOf(e)}function V(e){return V[" "](e),e}V[" "]=function(){};var U,B,z=F("Opera"),q=F("Trident")||F("MSIE"),K=F("Edge"),G=K||q,H=F("Gecko")&&!(-1!=M().toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),W=-1!=M().toLowerCase().indexOf("webkit")&&!F("Edge");function Q(){var e=y.document;return e?e.documentMode:void 0}e:{var Y="",X=function(){var e=M();return H?/rv:([^\);]+)(\)|;)/.exec(e):K?/Edge\/([\d\.]+)/.exec(e):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):W?/WebKit\/(\S+)/.exec(e):z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(Y=X?X[1]:""),q){var J=Q();if(null!=J&&J>parseFloat(Y)){U=String(J);break e}}U=Y}if(y.document&&q){var $=Q();B=$||(parseInt(U,10)||void 0)}else B=void 0;var Z=B;function ee(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(H){e:{try{V(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:te[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ee.Z.h.call(this)}}C(ee,O);var te={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),re=0;function ie(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.oa=i,this.key=++re,this.ha=this.ka=!1}function se(e){e.ha=!0,e.listener=null,e.proxy=null,e.src=null,e.oa=null}function oe(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ae(e){var t,n={};for(t in e)n[t]=e[t];return n}var le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<le.length;s++)n=le[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ue(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=D(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(se(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ha&&s.listener==t&&s.capture==!!n&&s.oa==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=de(e,t,r,i);return-1<o?(t=e[o],n||(t.ka=!1)):((t=new ie(t,this.src,s,!!r,i)).ka=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)me(e,t[s],n,r,i);return null}return n=_e(n),e&&e[ne]?e.P(t,n,b(r)?!!r.capture:!!r,i):ge(e,t,n,!1,r,i)}function ge(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=b(i)?!!i.capture:!!i,a=Se(e);if(a||(e[fe]=a=new ue(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ye(e,t[s],n,r,i);return null}return n=_e(n),e&&e[ne]?e.R(t,n,b(r)?!!r.capture:!!r,i):ge(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ve(e,t[s],n,r,i);else r=b(r)?!!r.capture:!!r,n=_e(n),e&&e[ne]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=de(s=e.g[t],n,r,i))&&(se(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=de(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ha){var t=e.src;if(t&&t[ne])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(he(n,e),0==n.h&&(n.src=null,t[fe]=null)):se(e)}}}function we(e){return e in pe?pe[e]:pe[e]="on"+e}function xe(e,t){if(e.ha)e=!0;else{t=new ee(t,this);var n=e.listener,r=e.oa||e.src;e.ka&&be(e),e=n.call(r,t)}return e}function Se(e){return(e=e[fe])instanceof ue?e:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(e){return"function"===typeof e?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Te(){I.call(this),this.i=new ue(this),this.T=this,this.J=null}function ke(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.T,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;ce(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ce(o,r,!0,t)&&i}if(i=Ce(o=t.g=e,r,!0,t)&&i,i=Ce(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ce(o=t.g=n[s],r,!1,t)&&i}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ha&&o.capture==n){var a=o.listener,l=o.oa||o.src;o.ka&&he(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}C(Te,I),Te.prototype[ne]=!0,Te.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},Te.prototype.O=function(){if(Te.Z.O.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)se(n[r]);delete t.g[e],t.h--}}this.J=null},Te.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.R=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ie=y.JSON.stringify;function Ae(e,t){this.i=e,this.j=t,this.h=0,this.g=null}function Ne(){this.h=this.g=null}function De(){var e=Fe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}Ae.prototype.get=function(){if(0<this.h){this.h--;var e=this.g;this.g=e.next,e.next=null}else e=this.i();return e},Ne.prototype.add=function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n};var Re=new Ae((function(){return new je}),(function(e){return e.reset()}));function je(){this.next=this.g=this.h=null}function Oe(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e){y.setTimeout((function(){throw e}),0)}je.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},je.prototype.reset=function(){this.next=this.g=this.h=null};var Le,Me=!1,Fe=new Ne;function Ve(e,t){Le||function(){var e=y.Promise.resolve(void 0);Le=function(){e.then(Ue)}}(),Me||(Le(),Me=!0),Fe.add(e,t)}function Ue(){for(var e;e=De();){try{e.h.call(e.g)}catch(n){Pe(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function Be(e,t){Te.call(this),this.h=e||1,this.g=t||y,this.j=T(this.tb,this),this.l=Date.now()}function ze(e){e.ia=!1,e.U&&(e.g.clearTimeout(e.U),e.U=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:y.setTimeout(e,t||0)}function Ke(e,t,n){I.call(this),this.m=null!=n?e.bind(n):e,this.j=t,this.h=null,this.i=!1,this.g=null}if(C(Be,Te),(t=Be.prototype).ia=!1,t.U=null,t.tb=function(){if(this.ia){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.U=this.g.setTimeout(this.j,this.h-e):(this.U&&(this.g.clearTimeout(this.U),this.U=null),ke(this,"tick"),this.ia&&(ze(this),this.start()))}},t.start=function(){this.ia=!0,this.U||(this.U=this.g.setTimeout(this.j,this.h),this.l=Date.now())},t.O=function(){Be.Z.O.call(this),ze(this),delete this.g},Ke.prototype=s(I.prototype),Ke.prototype.constructor=Ke,d)d(Ke,I);else for(var Ge in I)if("prototype"!=Ge)if(Object.defineProperties){var He=Object.getOwnPropertyDescriptor(I,Ge);He&&Object.defineProperty(Ke,Ge,He)}else Ke[Ge]=I[Ge];function We(e){e.g=qe((function(){e.g=null,e.i&&(e.i=!1,We(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}function Qe(e){I.call(this),this.h=e,this.g={}}Ke.Z=I.prototype,Ke.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:We(this)},Ke.prototype.O=function(){I.prototype.O.call(this),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},C(Qe,I);var Ye=[];function Xe(e,t,n,r){Array.isArray(n)||(n&&(Ye[0]=n.toString()),n=Ye);for(var i=0;i<n.length;i++){var s=me(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Je(e){oe(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function $e(){this.g=!0}function Ze(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ie(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Qe.prototype.O=function(){Qe.Z.O.call(this),Je(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Ha=function(){this.g=!1},$e.prototype.info=function(){};var et={},tt=null;function nt(){return tt=tt||new Te}function rt(e){O.call(this,et.Wa,e)}function it(e){var t=nt();ke(t,new rt(t,e))}function st(e,t){O.call(this,et.STAT_EVENT,e),this.stat=t}function ot(e){var t=nt();ke(t,new st(t,e))}function at(e,t){O.call(this,et.Xa,e),this.size=t}function lt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return y.setTimeout((function(){e()}),t)}et.Wa="serverreachability",C(rt,O),et.STAT_EVENT="statevent",C(st,O),et.Xa="timingevent",C(at,O);var ct={NO_ERROR:0,ub:1,Hb:2,Gb:3,Bb:4,Fb:5,Ib:6,Ta:7,TIMEOUT:8,Lb:9},ut={zb:"complete",Vb:"success",Ua:"error",Ta:"abort",Nb:"ready",Ob:"readystatechange",TIMEOUT:"timeout",Jb:"incrementaldata",Mb:"progress",Cb:"downloadprogress",cc:"uploadprogress"};function ht(){}function dt(e){return e.h||(e.h=e.i())}function ft(){}ht.prototype.h=null;var pt,mt={OPEN:"a",yb:"b",Ua:"c",Kb:"d"};function gt(){O.call(this,"d")}function yt(){O.call(this,"c")}function vt(){}function bt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.Y=r||1,this.W=new Qe(this),this.R=xt,e=G?125:void 0,this.X=new Be(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.M=this.G=this.aa=this.C=null,this.D=[],this.g=null,this.o=0,this.s=this.v=null,this.ea=-1,this.J=!1,this.P=0,this.N=null,this.da=this.L=this.ca=this.T=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}C(gt,O),C(yt,O),C(vt,ht),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},pt=new vt;var xt=45e3,St={},Et={};function _t(e,t,n){e.M=1,e.A=qt(Ft(t)),e.u=n,e.T=!0,Tt(e,null)}function Tt(e,t){e.G=Date.now(),At(e),e.B=Ft(e.A);var n=e.B,r=e.Y;Array.isArray(r)||(r=[String(r)]),nn(n.i,"t",r),e.o=0,n=e.l.J,e.h=new wt,e.g=sr(e.l,n?t:null,!e.u),0<e.P&&(e.N=new Ke(T(e.Sa,e,e.g),e.P)),Xe(e.W,e.g,"readystatechange",e.qb),t=e.I?ae(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ja(e.B,e.v,e.u,t)):(e.v="GET",e.g.ja(e.B,e.v,null,t)),it(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.Y,e.u)}function kt(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.l.Ka)}function Ct(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=It(e,n))==Et){4==t&&(e.s=4,ot(14),i=!1),Ze(e.j,e.m,null,"[Incomplete Response]");break}if(r==St){e.s=4,ot(15),Ze(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ze(e.j,e.m,r,null),Ot(e,r)}kt(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,ot(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.da&&(e.da=!0,(t=e.l).g==e&&t.ea&&!t.N&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(t),t.N=!0,ot(11))):(Ze(e.j,e.m,n,"[Invalid Chunked Response]"),jt(e),Rt(e))}function It(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Et:(n=Number(t.substring(n,r)),isNaN(n)?St:(r+=1)+n>t.length?Et:(t=t.slice(r,r+n),e.o=r+n,t))}function At(e){e.aa=Date.now()+e.R,Nt(e,e.R)}function Nt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=lt(T(e.ob,e),t)}function Dt(e){e.C&&(y.clearTimeout(e.C),e.C=null)}function Rt(e){0==e.l.H||e.J||er(e.l,e)}function jt(e){Dt(e);var t=e.N;t&&"function"==typeof t.va&&t.va(),e.N=null,ze(e.X),Je(e.W),e.g&&(t=e.g,e.g=null,t.abort(),t.va())}function Ot(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||dn(n.i,e)))if(!e.L&&dn(n.i,e)&&3==n.H){try{var r=n.Ma.g.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zn(n),qn(n)}Xn(n),ot(18)}}else n.Ia=i[1],0<n.Ia-n.X&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=lt(T(n.lb,n),6e3));if(1>=hn(n.i)&&n.ra){try{n.ra()}catch(g){}n.ra=void 0}}else nr(n,11)}else if((e.L||n.g==e)&&Zn(n),!L(t))for(i=n.Ma.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.X=s[0],s=s[1],2==n.H)if("c"==s[0]){n.L=s[1],n.sa=s[2];var o=s[3];null!=o&&(n.ua=o,n.l.info("VER="+n.ua));var a=s[4];null!=a&&(n.Ja=a,n.l.info("SVER="+n.Ja));var l=s[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.M=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var u=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=r.i;h.g||-1==u.indexOf("spdy")&&-1==u.indexOf("quic")&&-1==u.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Ga=d,zt(r.I,r.D,d))}}n.H=3,n.h&&n.h.Ea(),n.ea&&(n.T=Date.now()-e.G,n.l.info("Handshake RTT: "+n.T+"ms"));var f=e;if((r=n).za=ir(r,r.J?r.sa:null,r.aa),f.L){pn(r.i,f);var p=f,m=r.M;m&&p.setTimeout(m),p.C&&(Dt(p),At(p)),r.g=f}else Yn(r);0<n.j.length&&Gn(n)}else"stop"!=s[0]&&"close"!=s[0]||nr(n,7);else 3==n.H&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?nr(n,7):zn(n):"noop"!=s[0]&&n.h&&n.h.Da(s),n.A=0)}it(4)}catch(g){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(v(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.wa&&"function"==typeof e.wa)return e.wa();if(!e.ba||"function"!=typeof e.ba){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(v(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.ba&&"function"==typeof e.ba)return e.ba();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(v(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(t=bt.prototype).setTimeout=function(e){this.R=e},t.qb=function(e){e=e.target;var t=this.N;t&&3==Ln(e)?t.l():this.Sa(e)},t.Sa=function(e){try{if(e==this.g)e:{var t=Ln(this.g),n=this.g.La(),r=this.g.fa();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ma()||Mn(this.g)))){this.J||4!=t||7==n||it(8==n||0>=r?3:2),Dt(this);var i=this.g.fa();this.ea=i;t:if(kt(this)){var s=Mn(this.g);e="";var o=s.length,a=4==Ln(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){jt(this),Rt(this);var l="";break t}this.h.i=new y.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.length=0,this.h.g+=e,this.o=0,l=this.h.g}else l=this.g.ma();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.Y,t,i),this.i){if(this.ca&&!this.L){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.s=3,ot(12),jt(this),Rt(this);break e}Ze(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ot(this,i)}this.T?(Ct(this,t,l),G&&this.i&&3==t&&(Xe(this.W,this.X,"tick",this.pb),this.X.start())):(Ze(this.j,this.m,l,null),Ot(this,l)),4==t&&jt(this),this.i&&!this.J&&(4==t?er(this.l,this):(this.i=!1,At(this)))}else(function(e){var t={};e=(e.g&&2<=Ln(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!L(e[n])){var r=Oe(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var s=t[i]||[];t[i]=s,s.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==i&&0<l.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),jt(this),Rt(this)}}}catch(d){}},t.pb=function(){if(this.g){var e=Ln(this.g),t=this.g.ma();this.o<t.length&&(Dt(this),Ct(this,e,t),this.i&&4!=e&&At(this))}},t.cancel=function(){this.J=!0,jt(this)},t.ob=function(){this.C=null;var e=Date.now();0<=e-this.aa?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.M&&(it(3),ot(17)),jt(this),this.s=2,Rt(this)):Nt(this,this.aa-e)};var Lt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mt(e){var t;this.g=this.s=this.j="",this.o=null,this.m=this.h="",this.l=!1,e instanceof Mt?(this.l=e.l,Vt(this,e.j),this.s=e.s,this.g=e.g,Ut(this,e.o),this.h=e.h,Bt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(Lt))?(this.l=!1,Vt(this,t[1]||"",!0),this.s=Kt(t[2]||""),this.g=Kt(t[3]||"",!0),Ut(this,t[4]),this.h=Kt(t[5]||"",!0),Bt(this,t[6]||"",!0),this.m=Kt(t[7]||"")):(this.l=!1,this.i=new $t(null,this.l))}function Ft(e){return new Mt(e)}function Vt(e,t,n){e.j=n?Kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.o=t}else e.o=null}function Bt(e,t,n){t instanceof $t?(e.i=t,function(e,t){t&&!e.j&&(Zt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(en(this,t),nn(this,n,e))}),e)),e.j=t}(e.i,e.l)):(n||(t=Gt(t,Xt)),e.i=new $t(t,e.l))}function zt(e,t,n){e.i.set(t,n)}function qt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,Wt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.o)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Yt:Qt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Gt(n,Jt)),e.join("")},Mt.prototype.resolve=function(e){var t=Ft(this),n=!!e.j;n?Vt(t,e.j):n=!!e.s,n?t.s=e.s:n=!!e.g,n?t.g=e.g:n=null!=e.o;var r=e.h;if(n)Ut(t,e.o);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?Bt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};var Wt=/[#\/\?@]/g,Qt=/[#\?:]/g,Yt=/[#\?]/g,Xt=/[#\?@]/g,Jt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function en(e,t){Zt(e),t=sn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tn(e,t){return Zt(e),t=sn(e,t),e.g.has(t)}function nn(e,t,n){en(e,t),0<n.length&&(e.i=null,e.g.set(sn(e,t),R(n)),e.h+=n.length)}function rn(e){var t=new $t;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function sn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){this.g=e,this.map=t}function an(e){this.l=e||cn,y.PerformanceNavigationTiming?e=0<(e=y.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(y.g&&y.g.Na&&y.g.Na()&&y.g.Na().hc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(t=$t.prototype).add=function(e,t){Zt(this),this.i=null,e=sn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){Zt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.wa=function(){Zt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},t.ba=function(e){Zt(this);var t=[];if("string"===typeof e)tn(this,e)&&(t=t.concat(this.g.get(sn(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return Zt(this),this.i=null,tn(this,e=sn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.ba(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.ba(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var ln,cn=10;function un(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hn(e){return e.h?1:e.g?e.g.size:0}function dn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){for(var t=e.i,n=(e=i(e.g.values())).next();!n.done;n=e.next())t=t.concat(n.value.D);return t}return R(e.i)}function gn(){}function yn(){this.g=new gn}function vn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;b(e)&&(i=Ie(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function wn(e){this.l=e.ic||null,this.j=e.rb||!1}function xn(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(var e=i(this.g.values()),t=e.next();!t.done;t=e.next())t.value.cancel();this.g.clear()}},gn.prototype.stringify=function(e){return y.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return y.JSON.parse(e,void 0)},C(wn,ht),wn.prototype.g=function(){return new xn(this.l,this.j)},wn.prototype.i=(ln={},function(){return ln}),C(xn,Te);var Sn=0;function En(e){e.j.read().then(e.$a.bind(e)).catch(e.na.bind(e))}function _n(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tn(e)}function Tn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(t=xn.prototype).open=function(e,t){if(this.readyState!=Sn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tn(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||y).fetch(new Request(this.B,t)).then(this.cb.bind(this),this.na.bind(this))},t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=Sn},t.cb=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.ab.bind(this),this.na.bind(this));else if("undefined"!==typeof y.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else e.text().then(this.bb.bind(this),this.na.bind(this))},t.$a=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_n(this):Tn(this),3==this.readyState&&En(this)}},t.bb=function(e){this.g&&(this.response=this.responseText=e,_n(this))},t.ab=function(e){this.g&&(this.response=e,_n(this))},t.na=function(){this.g&&_n(this)},t.setRequestHeader=function(e,t){this.v.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kn=y.JSON.parse;function Cn(e){Te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.D=!1,this.B=0,this.A=null,this.L=In,this.M=this.N=!1}C(Cn,Te);var In="",An=/^https?$/i,Nn=["POST","PUT"];function Dn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),On(e)}function Rn(e){e.D||(e.D=!0,ke(e,"complete"),ke(e,"error"))}function jn(e){if(e.h&&"undefined"!=typeof g&&(!e.C[1]||4!=Ln(e)||2!=e.fa()))if(e.v&&4==Ln(e))qe(e.Oa,0,e);else if(ke(e,"readystatechange"),4==Ln(e)){e.h=!1;try{var t,n=e.fa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.I).match(Lt)[1]||null;!s&&y.self&&y.self.location&&(s=y.self.location.protocol.slice(0,-1)),i=!An.test(s?s.toLowerCase():"")}t=i}if(t)ke(e,"complete"),ke(e,"success");else{e.m=6;try{var o=2<Ln(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.fa()+"]",Rn(e)}}finally{On(e)}}}function On(e,t){if(e.g){Pn(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ke(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.g&&e.M&&(e.g.ontimeout=null),e.A&&(y.clearTimeout(e.A),e.A=null)}function Ln(e){return e.g?e.g.readyState:0}function Mn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.L){case In:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fn(e){var t="";return oe(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Fn(n),"string"===typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):zt(e,t,n))}function Un(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.Ja=0,this.j=[],this.l=new $e,this.sa=this.za=this.I=this.aa=this.g=this.Ga=this.D=this.qa=this.o=this.W=this.s=null,this.ib=this.Y=0,this.gb=Un("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.ca=!0,this.Ia=this.X=-1,this.da=this.A=this.C=0,this.eb=Un("baseRetryDelayMs",5e3,e),this.kb=Un("retryDelaySeedMs",1e4,e),this.hb=Un("forwardChannelMaxRetries",2,e),this.Aa=Un("forwardChannelRequestTimeoutMs",2e4,e),this.ya=e&&e.xmlHttpFactory||void 0,this.Ka=e&&e.useFetchStreams||!1,this.M=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.L="",this.i=new an(e&&e.concurrentRequestLimit),this.Ma=new yn,this.R=e&&e.fastHandshake||!1,this.P=e&&e.encodeInitMessageHeaders||!1,this.R&&this.P&&(this.P=!1),this.fb=e&&e.ec||!1,e&&e.Ha&&this.l.Ha(),e&&e.forceLongPolling&&(this.ca=!1),this.ea=!this.R&&this.ca&&e&&e.detectBufferingProxy||!1,this.ta=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ta=e.longPollingTimeout),this.ra=void 0,this.T=0,this.N=!1,this.pa=this.B=null}function zn(e){if(Kn(e),3==e.H){var t=e.Y++,n=Ft(e.I);if(zt(n,"SID",e.L),zt(n,"RID",t),zt(n,"TYPE","terminate"),Wn(e,n),(t=new bt(e,e.l,t)).M=2,t.A=qt(Ft(n)),n=!1,y.navigator&&y.navigator.sendBeacon)try{n=y.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&y.Image&&((new Image).src=t.A,n=!0),n||(t.g=sr(t.l,null),t.g.ja(t.A)),t.G=Date.now(),At(t)}rr(e)}function qn(e){e.g&&(Jn(e),e.g.cancel(),e.g=null)}function Kn(e){qn(e),e.u&&(y.clearTimeout(e.u),e.u=null),Zn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&y.clearTimeout(e.m),e.m=null)}function Gn(e){un(e.i)||e.m||(e.m=!0,Ve(e.Qa,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.Y++;var r=Ft(e.I);zt(r,"SID",e.L),zt(r,"RID",n),zt(r,"AID",e.X),Wn(e,r),e.o&&e.s&&Vn(r,e.o,e.s),n=new bt(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.D.concat(e.j)),t=Qn(e,n,1e3),n.setTimeout(Math.round(.5*e.Aa)+Math.round(.5*e.Aa*Math.random())),fn(e.i,n),_t(n,r,t)}function Wn(e,t){e.qa&&oe(e.qa,(function(e,n){zt(t,n,e)})),e.h&&Pt({},(function(e,n){zt(t,n,e)}))}function Qn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?T(e.h.Ya,e.h,e):null;e:for(var i=e.j,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var c=i[l].g,u=i[l].map;if(0>(c-=s))s=Math.max(0,i[l].g-100),a=!1;else try{vn(u,o,"req"+c+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break e}}return e=e.j.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.da=1,Ve(e.Pa,e),e.A=0)}function Xn(e){return!(e.g||e.u||3<=e.A)&&(e.da++,e.u=lt(T(e.Pa,e),tr(e,e.A)),e.A++,!0)}function Jn(e){null!=e.B&&(y.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new bt(e,e.l,"rpc",e.da),null===e.o&&(e.g.I=e.s),e.g.P=0;var t=Ft(e.za);zt(t,"RID","rpc"),zt(t,"SID",e.L),zt(t,"AID",e.X),zt(t,"CI",e.G?"0":"1"),!e.G&&e.ta&&zt(t,"TO",e.ta),zt(t,"TYPE","xmlhttp"),Wn(e,t),e.o&&e.s&&Vn(t,e.o,e.s),e.M&&e.g.setTimeout(e.M);var n=e.g;e=e.sa,n.M=1,n.A=qt(Ft(t)),n.u=null,n.T=!0,Tt(n,e)}function Zn(e){null!=e.v&&(y.clearTimeout(e.v),e.v=null)}function er(e,t){var n=null;if(e.g==t){Zn(e),Jn(e),e.g=null;var r=2}else{if(!dn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ke(r=nt(),new at(r,n,t,i)),Gn(e)}else Yn(e);else if(3==(i=t.s)||0==i&&0<t.ea||!(1==r&&function(e,t){return!(hn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.D.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.gb?0:e.hb))&&(e.m=lt(T(e.Qa,e,t),tr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nr(e,5);break;case 4:nr(e,10);break;case 3:nr(e,6);break;default:nr(e,2)}}function tr(e,t){var n=e.eb+Math.floor(Math.random()*e.kb);return e.isActive()||(n*=2),n*t}function nr(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=T(e.sb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),y.location&&"http"==y.location.protocol||Vt(n,"https"),qt(n)),function(e,t){var n=new $e;if(y.Image){var r=new Image;r.onload=k(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=k(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=k(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=k(bn,n,r,"TestLoadImage: timeout",!1,t),y.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ot(2);e.H=0,e.h&&e.h.Ca(t),rr(e),Kn(e)}function rr(e){if(e.H=0,e.pa=[],e.h){var t=mn(e.i);0==t.length&&0==e.j.length||(j(e.pa,t),j(e.pa,e.j),e.i.i.length=0,R(e.j),e.j.length=0),e.h.Ba()}}function ir(e,t,n){var r=n instanceof Mt?Ft(n):new Mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ut(r,r.o);else{var i=y.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Mt(null);r&&Vt(s,r),t&&(s.g=t),i&&Ut(s,i),n&&(s.h=n),r=s}return n=e.D,t=e.Ga,n&&t&&zt(r,n,t),zt(r,"VER",e.ua),Wn(e,r),r}function sr(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ka&&!e.ya?new Cn(new wn({rb:n})):new Cn(e.ya)).Ra(e.J),t}function or(){}function ar(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function lr(e,t){Te.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Fa&&(e?e["X-WebChannel-Client-Profile"]=t.Fa:e={"X-WebChannel-Client-Profile":t.Fa}),this.g.W=e,(e=t&&t.fc)&&!L(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!L(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function cr(e){gt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ur(){yt.call(this),this.status=1}function hr(e){this.g=e}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function pr(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(t=Cn.prototype).Ra=function(e){this.N=e},t.ja=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pt.g(),this.C=this.u?dt(this.u):dt(pt),this.g.onreadystatechange=T(this.Oa,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void Dn(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(var o=(s=i(r.keys())).next();!o.done;o=s.next())o=o.value,n.set(o,r.get(o))}for(r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),s=y.FormData&&e instanceof y.FormData,!(0<=D(Nn,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r=(t=i(n)).next();!r.done;r=t.next())r=(n=i(r.value)).next().value,n=n.next().value,this.g.setRequestHeader(r,n);this.L&&(this.g.responseType=this.L),"withCredentials"in this.g&&this.g.withCredentials!==this.N&&(this.g.withCredentials=this.N);try{Pn(this),0<this.B&&((this.M=function(e){return q&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=T(this.xa,this)):this.A=qe(this.xa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dn(this,a)}},t.xa=function(){"undefined"!=typeof g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ke(this,"complete"),ke(this,"abort"),On(this))},t.O=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),On(this,!0)),Cn.Z.O.call(this)},t.Oa=function(){this.s||(this.G||this.v||this.l?jn(this):this.nb())},t.nb=function(){jn(this)},t.isActive=function(){return!!this.g},t.fa=function(){try{return 2<Ln(this)?this.g.status:-1}catch(ln){return-1}},t.ma=function(){try{return this.g?this.g.responseText:""}catch(ln){return""}},t.Za=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kn(t)}},t.La=function(){return this.m},t.Va=function(){return"string"===typeof this.j?this.j:String(this.j)},(t=Bn.prototype).ua=8,t.H=1,t.Qa=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.Y=Math.floor(1e5*Math.random()),e=this.Y++;var t,n=new bt(this,this.l,e),r=this.s;if(this.W&&(r?ce(r=ae(r),this.W):r=this.W),null!==this.o||this.P||(n.I=r,r=null),this.R)e:{for(var i=t=0;i<this.j.length;i++){var s=this.j[i];if(void 0===(s="__data__"in s.map&&"string"===typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=i;break e}if(4096===t||i===this.j.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Qn(this,n,t),zt(i=Ft(this.I),"RID",e),zt(i,"CVER",22),this.D&&zt(i,"X-HTTP-Session-Id",this.D),Wn(this,i),r&&(this.P?t="headers="+encodeURIComponent(String(Fn(r)))+"&"+t:this.o&&Vn(i,this.o,r)),fn(this.i,n),this.fb&&zt(i,"TYPE","init"),this.R?(zt(i,"$req",t),zt(i,"SID","null"),n.ca=!0,_t(n,i,null)):_t(n,i,t),this.H=2}}else 3==this.H&&(e?Hn(this,e):0==this.j.length||un(this.i)||Hn(this))},t.Pa=function(){if(this.u=null,$n(this),this.ea&&!(this.N||null==this.g||0>=this.T)){var e=2*this.T;this.l.info("BP detection timer enabled: "+e),this.B=lt(T(this.mb,this),e)}},t.mb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.N=!0,ot(10),qn(this),$n(this))},t.lb=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),ot(19))},t.sb=function(e){e?(this.l.info("Successfully pinged google.com"),ot(2)):(this.l.info("Failed to ping google.com"),ot(1))},t.isActive=function(){return!!this.h&&this.h.isActive(this)},(t=or.prototype).Ea=function(){},t.Da=function(){},t.Ca=function(){},t.Ba=function(){},t.isActive=function(){return!0},t.Ya=function(){},ar.prototype.g=function(e,t){return new lr(e,t)},C(lr,Te),lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ot(0),e.aa=t,e.qa=n||{},e.G=e.ca,e.I=ir(e,null,e.aa),Gn(e)},lr.prototype.close=function(){zn(this.g)},lr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ie(e),e=n);t.j.push(new on(t.ib++,e)),3==t.H&&Gn(t)},lr.prototype.O=function(){this.g.h=null,delete this.j,zn(this.g),delete this.g,lr.Z.O.call(this)},C(cr,gt),C(ur,yt),C(hr,or),hr.prototype.Ea=function(){ke(this.g,"a")},hr.prototype.Da=function(e){ke(this.g,new cr(e))},hr.prototype.Ca=function(e){ke(this.g,new ur(e))},hr.prototype.Ba=function(){ke(this.g,"b")},C(dr,(function(){this.blockSize=-1})),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)fr(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){fr(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){fr(this,r),i=0;break}}this.h=i,this.i+=t},dr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var mr={};function gr(e){return-128<=e&&128>e?function(e,t){var n=mr;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new pr([0|e],0>e?-1:0)})):new pr([0|e],0>e?-1:0)}function yr(e){if(isNaN(e)||!isFinite(e))return br;if(0>e)return _r(yr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=vr;return new pr(t,0)}var vr=4294967296,br=gr(0),wr=gr(1),xr=gr(16777216);function Sr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Er(e){return-1==e.h}function _r(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new pr(n,~e.h).add(wr)}function Tr(e,t){return e.add(_r(t))}function kr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Cr(e,t){this.g=e,this.h=t}function Ir(e,t){if(Sr(t))throw Error("division by zero");if(Sr(e))return new Cr(br,br);if(Er(e))return t=Ir(_r(e),t),new Cr(_r(t.g),_r(t.h));if(Er(t))return t=Ir(e,_r(t)),new Cr(_r(t.g),t.h);if(30<e.g.length){if(Er(e)||Er(t))throw Error("slowDivide_ only works with positive integers.");for(var n=wr,r=t;0>=r.$(e);)n=Ar(n),r=Ar(r);var i=Nr(n,1),s=Nr(r,1);for(r=Nr(r,2),n=Nr(n,2);!Sr(r);){var o=s.add(r);0>=o.$(e)&&(i=i.add(n),s=o),r=Nr(r,1),n=Nr(n,1)}return t=Tr(e,i.S(t)),new Cr(i,t)}for(i=br;0<=e.$(t);){for(n=Math.max(1,Math.floor(e.ga()/t.ga())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yr(n)).S(t);Er(o)||0<o.$(e);)o=(s=yr(n-=r)).S(t);Sr(s)&&(s=wr),i=i.add(s),e=Tr(e,o)}return new Cr(i,e)}function Ar(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.F(r)<<1|e.F(r-1)>>>31;return new pr(n,e.h)}function Nr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.F(s+n)>>>t|e.F(s+n+1)<<32-t:e.F(s+n);return new pr(i,e.h)}(t=pr.prototype).ga=function(){if(Er(this))return-_r(this).ga();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.F(n);e+=(0<=r?r:vr+r)*t,t*=vr}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Sr(this))return"0";if(Er(this))return"-"+_r(this).toString(e);for(var t=yr(Math.pow(e,6)),n=this,r="";;){var i=Ir(n,t).g,s=((0<(n=Tr(n,i.S(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Sr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.F=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.$=function(e){return Er(e=Tr(this,e))?-1:Sr(e)?0:1},t.abs=function(){return Er(this)?_r(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.F(i))+(65535&e.F(i)),o=(s>>>16)+(this.F(i)>>>16)+(e.F(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new pr(n,-2147483648&n[n.length-1]?-1:0)},t.S=function(e){if(Sr(this)||Sr(e))return br;if(Er(this))return Er(e)?_r(this).S(_r(e)):_r(_r(this).S(e));if(Er(e))return _r(this.S(_r(e)));if(0>this.$(xr)&&0>e.$(xr))return yr(this.ga()*e.ga());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.F(r)>>>16,o=65535&this.F(r),a=e.F(i)>>>16,l=65535&e.F(i);n[2*r+2*i]+=o*l,kr(n,2*r+2*i),n[2*r+2*i+1]+=s*l,kr(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,kr(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,kr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new pr(n,0)},t.jb=function(e){return Ir(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)&e.F(r);return new pr(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)|e.F(r);return new pr(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.F(r)^e.F(r);return new pr(n,this.h^e.h)},ar.prototype.createWebChannel=ar.prototype.g,lr.prototype.send=lr.prototype.u,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,ut.COMPLETE="complete",ft.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Te.prototype.listen=Te.prototype.P,Cn.prototype.listenOnce=Cn.prototype.R,Cn.prototype.getLastError=Cn.prototype.Va,Cn.prototype.getLastErrorCode=Cn.prototype.La,Cn.prototype.getStatus=Cn.prototype.fa,Cn.prototype.getResponseJson=Cn.prototype.Za,Cn.prototype.getResponseText=Cn.prototype.ma,Cn.prototype.send=Cn.prototype.ja,Cn.prototype.setWithCredentials=Cn.prototype.Ra,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,pr.prototype.add=pr.prototype.add,pr.prototype.multiply=pr.prototype.S,pr.prototype.modulo=pr.prototype.jb,pr.prototype.compare=pr.prototype.$,pr.prototype.toNumber=pr.prototype.ga,pr.prototype.toString=pr.prototype.toString,pr.prototype.getBits=pr.prototype.F,pr.fromNumber=yr,pr.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return _r(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=yr(Math.pow(n,8)),i=br,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=yr(Math.pow(n,o)),i=i.S(o).add(yr(a))):i=(i=i.S(r)).add(yr(a))}return i},e.exports.createWebChannelTransport=function(){return new ar},e.exports.getStatEventTarget=function(){return nt()},e.exports.ErrorCode=ct,e.exports.EventType=ut,e.exports.Event=et,e.exports.Stat={Ab:0,Db:1,Eb:2,Xb:3,bc:4,Zb:5,$b:6,Yb:7,Wb:8,ac:9,PROXY:10,NOPROXY:11,Ub:12,Qb:13,Rb:14,Pb:15,Sb:16,Tb:17,wb:18,vb:19,xb:20},e.exports.FetchXmlHttpFactory=wn,e.exports.WebChannel=ft,e.exports.XhrIo=Cn,e.exports.Md5=dr,e.exports.Integer=pr}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},5154:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5651);r.registerVersion("firebase","10.8.0","app"),Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},6005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5054);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,_e=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function ke(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Ee||null!==_e)&&(Ae(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){je=!1}function Pe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,o,a,l){Le=!1,Me=null,Pe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,_t,Tt,kt=!1,Ct=[],It=null,At=null,Nt=null,Dt=new Map,Rt=new Map,jt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),Dt.forEach(Vt),Rt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return _n}var kn=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),jn=[9,13,27,32],On=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Mn=u&&(!On||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Fr(e,0)}function Yn(e){if(W(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,xe(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},_r={};function Tr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),Ir=Tr("animationstart"),Ar=Tr("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var jr=0;jr<Dr.length;jr++){var Or=Dr[jr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}De((function(){var r=s,i=xe(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case kr:case Cr:case Ir:l=yn;break;case Ar:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Gr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Kn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Re(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var Si=[],Ei=-1;function _i(e){return{current:e}}function Ti(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function ki(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},Ii=_i(Ci),Ai=_i(!1),Ni=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ti(Ai),Ti(Ii)}function Oi(e,t,n){if(Ii.current!==Ci)throw Error(s(168));ki(Ii,t),ki(Ai,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,ki(Ii,e),ki(Ai,Ai.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ii),ki(Ii,e)):Ti(Ai),ki(Ai,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=_i(null),vs=null,bs=null,ws=null;function xs(){ws=bs=vs=null}function Ss(e){var t=ys.current;Ti(ys),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _s(e,t){vs=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===vs)throw Error(s(308));bs=e,vs.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function Ps(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;Ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function Us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ps(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),Ps(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Ri(t)?Ni:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Ri(t)?Ni:Ii.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Hs(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case S:return(t=Vc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Hs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Pc(o.type,o.key,o.props,null,r.mode,l)).ref=Hs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(P(o))return g(r,s,o,l);Ws(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Ys(!0),Js=Ys(!1),$s={},Zs=_i($s),eo=_i($s),to=_i($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=_i(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,bo=!1,wo=0,xo=0;function So(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function To(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Ko(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&po)||jo(n,t,i)}return i}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Po(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Mo(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Bo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Is(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){bo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Ts,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&po)||jo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Io)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Co(),go.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:Xo,useContext:Ts,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=r),da(0,t)},n}function ma(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function xa(e,t,n,r){t.child=null===e?Js(t,null,n,r):Xs(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return _s(t,i),r=_o(e,t,n,r,s,i),n=To(),null===e||wa?(is&&n&&es(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_a(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ol,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,jl),jl|=r;return xa(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ri(n)?Ni:Ii.current;return s=Di(t,s),_s(t,i),n=_o(e,t,n,r,s,i),r=To(),null===e||wa?(is&&r&&es(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ia(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(_s(t,i),null===t.stateNode)Ka(e,t),qs(t,n,r),Gs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Di(t,c=Ri(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ks(t,o,r,c),Ns=!1;var d=t.memoizedState;o.state=d,Ms(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Ns?("function"===typeof u&&(Us(t,n,u,r),l=t.memoizedState),(a=Ns||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Di(t,l=Ri(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ks(t,o,r,l),Ns=!1,d=t.memoizedState,o.state=d,Ms(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Ns?("function"===typeof f&&(Us(t,n,f,r),p=t.memoizedState),(c=Ns||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ga(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):xa(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Da(e,t,n,r,i){return fs(),ps(i),t.flags|=256,xa(e,t,n,r),t.child}var Ra,ja,Oa,Pa,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,As(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Ri(t.type)&&ji(),Wa(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),ja(e,t),Wa(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Vr(Pr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Vr(Pr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return io(),ja(e,t),null===e&&zr(t.stateNode.containerInfo),Wa(t),null;case 10:return Ss(t.type._context),Wa(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ha(o,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ha(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Pa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ja=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Za=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Tc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Xa;var c=Ja;if(Xa=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Za=l):El(i);for(;null!==s;)Za=s,wl(s,t,n),s=s.sibling;Za=i,Xa=a,Ja=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):xl(e)}}function xl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){Tc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Tc(t,o,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var _l,Tl=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Al=0,Nl=null,Dl=null,Rl=0,jl=0,Ol=_i(0),Pl=0,Ll=null,Ml=0,Fl=0,Vl=0,Ul=null,Bl=null,zl=0,ql=1/0,Kl=null,Gl=!1,Hl=null,Wl=null,Ql=!1,Yl=null,Xl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(Fl|=n),4===Pl&&lc(e,Rl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Je()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Al)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Al;Al|=2;var o=mc();for(Nl===e&&Rl===t||(Kl=null,ql=Je()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}xs(),kl.current=o,Al=i,null!==Dl?t=0:(Nl=null,Rl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Bl,Kl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Bl,Kl),t);break}Sc(e,Bl,Kl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Bl,Kl),r);break}Sc(e,Bl,Kl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Bl,Kl),ic(e,Je()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Je()+500,Vi&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Al=t))&&zi()}}function dc(){jl=Ol.current,Ti(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:io(),Ti(Ai),Ti(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Dl=e=Oc(e.current,null),Rl=jl=t,Pl=0,Ll=null,Vl=Fl=Ml=0,Bl=Ul=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(xs(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,bo=!1,wo=0,Cl.current=null,null===n||null===n.return){Pl=1,Ll=t,Dl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(w){t=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Nl||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Nl,Rl)}function yc(e,t){var n=Al;Al|=2;var r=mc();for(Nl===e&&Rl===t||(Kl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(xs(),Al=n,kl.current=r,null!==Dl)throw Error(s(261));return Nl=null,Rl=0,Pl}function vc(){for(;null!==Dl;)wc(Dl)}function bc(){for(;null!==Dl&&!Ye();)wc(Dl)}function wc(e){var t=_l(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?xc(e):Dl=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,jl)))return void(Dl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Pl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Sc(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Dl=Nl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Tc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Al=l,bt=a,Il.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,zi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function Ec(){if(null!==Yl){var e=wt(Xl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Tc(l,l.return,S)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function _c(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Tc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Rl&n)===n&&(4===Pl||3===Pl&&(130023424&Rl)===Rl&&500>Je()-zl?fc(e,0):Vl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case _:a=8,i|=8;break;case T:return(e=Rc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case j:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case I:a=11;break e;case D:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Bc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=js(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rc(e,i,o,s),Ps(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:so(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(ao,1&ao.current),null!==(e=Ga(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ga(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Di(t,Ii.current);_s(t,n),i=_o(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Gs(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Rs(e,t),Ms(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Da(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ga(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ga(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=js(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_s(t,n),r=r(i=Ts(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ea(e,t,r,i=gs(r.type,i),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ka(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,_s(t,n),qs(t,r,i),Gs(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Gc(o);a.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Gc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Je()),0===(6&Al)&&(ql=Je()+500,zi()))}break;case 13:hc((function(){var t=As(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},St=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},_t=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));W(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,ke,Ce,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=A(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(S);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,T=null,k=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function N(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?E():(_=!1,T=null)}}else _=!1}if("function"===typeof b)E=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=N,E=function(){R.postMessage(null)}}else E=function(){y(N,0)};function j(e){T=e,_||(_=!0,E())}function O(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,O(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},9073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>y,openDB:()=>g,unwrap:()=>m,wrap:()=>p});const r=(e,t)=>t.some((t=>e instanceof t));let i,s;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(m(this),t,...r);return l.set(s,t.sort?t.sort():[t]),p(s)}}function f(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(p(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=p(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(p(o.result),e.oldVersion,e.newVersion,p(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function y(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),p(n).then((()=>{}))}const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return w.set(t,s),s}h=(e=>({...e,get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(h)},5971:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>O,__assign:()=>s,__asyncDelegator:()=>T,__asyncGenerator:()=>_,__asyncValues:()=>k,__await:()=>E,__awaiter:()=>p,__classPrivateFieldGet:()=>D,__classPrivateFieldIn:()=>j,__classPrivateFieldSet:()=>R,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>L,__esDecorate:()=>c,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>N,__importStar:()=>A,__makeTemplateObject:()=>C,__metadata:()=>f,__param:()=>l,__propKey:()=>h,__read:()=>b,__rest:()=>o,__runInitializers:()=>u,__setFunctionName:()=>d,__spread:()=>w,__spreadArray:()=>S,__spreadArrays:()=>x,__values:()=>v,default:()=>M});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,s){function o(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var g=(0,n[f])("accessor"===l?{get:h.get,set:h.set}:h[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(a=o(g.get))&&(h.get=a),(a=o(g.set))&&(h.set=a),(a=o(g.init))&&i.unshift(a)}else(a=o(g))&&("field"===l?i.unshift(a):h[c]=a)}u&&Object.defineProperty(u,r.name,h),d=!0}function u(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"===typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(l){a=[6,l],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function x(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function S(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&g(t,e,n);return I(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function R(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function j(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function O(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var P="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function L(e){function t(t){e.error=e.hasError?new P(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(s){t(s)}}if(e.hasError)throw e.error}()}const M={__extends:i,__assign:s,__rest:o,__decorate:a,__param:l,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:y,__values:v,__read:b,__spread:w,__spreadArrays:x,__spreadArray:S,__await:E,__asyncGenerator:_,__asyncDelegator:T,__asyncValues:k,__makeTemplateObject:C,__importStar:A,__importDefault:N,__classPrivateFieldGet:D,__classPrivateFieldSet:R,__classPrivateFieldIn:j,__addDisposableResource:O,__disposeResources:L}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d4aba7ab.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-app:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ha,hasStandardBrowserEnv:()=>da,hasStandardBrowserWebWorkerEnv:()=>pa});var t=n(2791),r=n.t(t,2),i=n(4164),s=n.t(i,2);const o=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(l||(l={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,h=l.Pop,m=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){h=l.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:h,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:p(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(a({},o.state,{idx:g}),""));let w={get action(){return h},get location(){return e(i,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(c,v),m=e,()=>{i.removeEventListener(c,v),m=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=l.Push;let r=f(w.location,e,t);n&&n(r,e),g=y()+1;let a=d(r,g),c=w.createHref(r);try{o.pushState(a,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;i.location.assign(c)}s&&m&&m({action:h,location:w.location,delta:1})},replace:function(e,t){h=l.Replace;let r=f(w.location,e,t);n&&n(r,e),g=y();let i=d(r,g),a=w.createHref(r);o.replaceState(i,"",a),s&&m&&m({action:h,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const v=new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,i],o="string"===typeof e.id?e.id:s.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=a({},e,t(e),{id:o});return r[o]=n,n}{let n=a({},e,t(e),{id:o,children:void 0});return r[o]=n,e.children&&(n.children=b(e.children,t,s,r)),n}}))}function w(e,t,n){void 0===n&&(n="/");let r=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=D(i[o],j(r));return s}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=S(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:\w+$/,_=3,T=2,k=1,C=10,I=-2,A=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=I),t&&(r+=T),n.filter((e=>!A(e))).reduce(((e,t)=>e+(E.test(t)?_:""===t?k:C)),r)}function D(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:F([i,c.pathname]),pathnameBase:V(F([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return s}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function j(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=a({},e),u(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let s,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:B(i)}}(i,s),h=l&&"/"!==l&&l.endsWith("/"),d=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class z{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],G=new Set(K),H=["get",...K],W=new Set(H),Q=new Set([301,302,303,307,308]),Y=new Set([307,308]),X={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Z=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),te="remix-router-transitions";function ne(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=ee;let s,o={},c=b(e.routes,i,void 0,o),d=e.basename||"/",p=a({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),m=null,g=new Set,v=null,x=null,S=null,E=null!=e.hydrationData,_=w(c,e.history.location,d),T=null;if(null==_){let t=be(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ve(c);_=n,T={[r.id]:t}}let k,C,I=!_.some((e=>e.route.lazy))&&(!_.some((e=>e.route.loader))||null!=e.hydrationData),A={historyAction:e.history.action,location:e.history.location,matches:_,initialized:I,navigation:X,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},N=l.Pop,D=!1,R=!1,j=new Map,P=null,L=!1,M=!1,F=[],V=[],U=new Map,B=0,z=-1,q=new Map,K=new Set,G=new Map,H=new Map,W=new Set,Q=new Map,ne=new Map,se=!1;function ae(e,t){void 0===t&&(t={}),A=a({},A,e);let n=[],r=[];p.v7_fetcherPersist&&A.fetchers.forEach(((e,t)=>{"idle"===e.state&&(W.has(t)?r.push(t):n.push(t))})),[...g].forEach((e=>e(A,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),p.v7_fetcherPersist&&(n.forEach((e=>A.fetchers.delete(e))),r.forEach((e=>Ne(e))))}function le(t,n,r){var i,o;let u,{flushSync:h}=void 0===r?{}:r,d=null!=A.actionData&&null!=A.navigation.formMethod&&Ce(A.navigation.formMethod)&&"loading"===A.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?A.actionData:null;let f=n.loaderData?ge(A.loaderData,n.loaderData,n.matches||[],n.errors):A.loaderData,p=A.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,$))));let m,g=!0===D||null!=A.navigation.formMethod&&Ce(A.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);if(s&&(c=s,s=void 0),L||N===l.Pop||(N===l.Push?e.history.push(t,t.state):N===l.Replace&&e.history.replace(t,t.state)),N===l.Pop){let e=j.get(A.location.pathname);e&&e.has(t.pathname)?m={currentLocation:A.location,nextLocation:t}:j.has(t.pathname)&&(m={currentLocation:t,nextLocation:A.location})}else if(R){let e=j.get(A.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),j.set(A.location.pathname,e)),m={currentLocation:A.location,nextLocation:t}}ae(a({},n,{actionData:u,loaderData:f,historyAction:N,location:t,initialized:!0,navigation:X,revalidation:"idle",restoreScrollPosition:Ge(t,n.matches||A.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===h}),N=l.Pop,D=!1,R=!1,L=!1,M=!1,F=[],V=[]}async function ce(t,n,r){C&&C.abort(),C=null,N=t,L=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(v&&S){let n=Ke(e,t);v[n]=S()}}(A.location,A.matches),D=!0===(r&&r.preventScrollReset),R=!0===(r&&r.enableViewTransition);let u=s||c,h=r&&r.overrideNavigation,f=w(u,n,d),p=!0===(r&&r.flushSync);if(!f){let e=be(404,{pathname:n.pathname}),{matches:t,route:r}=ve(u);return qe(),void le(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:p})}if(A.initialized&&!M&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(A.location,n)&&!(r&&r.submission&&Ce(r.submission.formMethod)))return void le(n,{matches:f},{flushSync:p});C=new AbortController;let m,g,b=he(e.history,n,C.signal,r&&r.submission);if(r&&r.pendingError)g={[ye(f).route.id]:r.pendingError};else if(r&&r.submission&&Ce(r.submission.formMethod)){let e=await async function(e,t,n,r,s){void 0===s&&(s={});pe();let a,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);ae({navigation:c},{flushSync:!0===s.flushSync});let u=De(r,t);if(u.route.action||u.route.lazy){if(a=await ue("action",e,u,r,o,i,d),e.signal.aborted)return{shortCircuited:!0}}else a={type:y.error,error:be(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(_e(a)){let e;return e=s&&null!=s.replace?s.replace:a.location===A.location.pathname+A.location.search,await de(A,a,{submission:n,replace:e}),{shortCircuited:!0}}if(Ee(a)){let e=ye(r,u.route.id);return!0!==(s&&s.replace)&&(N=l.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(Se(a))throw be(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:a.data}}}(b,n,r.submission,f,{replace:r.replace,flushSync:p});if(e.shortCircuited)return;m=e.pendingActionData,g=e.pendingActionError,h=je(n,r.submission),p=!1,b=new Request(b.url,{signal:b.signal})}let{shortCircuited:x,loaderData:E,errors:_}=await async function(t,n,r,i,o,l,u,h,f,p){let m=i||je(n,o),g=o||l||Re(m),y=s||c,[v,b]=oe(e.history,A,r,g,n,M,F,V,G,K,y,d,f,p);if(qe((e=>!(r&&r.some((t=>t.route.id===e)))||v&&v.some((t=>t.route.id===e)))),z=++B,0===v.length&&0===b.length){let e=Fe();return le(n,a({matches:r,loaderData:{},errors:p||null},f?{actionData:f}:{},e?{fetchers:new Map(A.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(!L){b.forEach((e=>{let t=A.fetchers.get(e.key),n=Oe(void 0,t?t.data:void 0);A.fetchers.set(e.key,n)}));let e=f||A.actionData;ae(a({navigation:m},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},b.length>0?{fetchers:new Map(A.fetchers)}:{}),{flushSync:h})}b.forEach((e=>{U.has(e.key)&&Le(e.key),e.controller&&U.set(e.key,e.controller)}));let w=()=>b.forEach((e=>Le(e.key)));C&&C.signal.addEventListener("abort",w);let{results:x,loaderResults:S,fetcherResults:E}=await fe(A.matches,r,v,b,t);if(t.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",w);b.forEach((e=>U.delete(e.key)));let _=we(x);if(_){if(_.idx>=v.length){let e=b[_.idx-v.length].key;K.add(e)}return await de(A,_.result,{replace:u}),{shortCircuited:!0}}let{loaderData:T,errors:k}=me(A,r,v,S,p,b,E,Q);Q.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&Q.delete(t)}))}));let I=Fe(),N=Ve(z),D=I||N||b.length>0;return a({loaderData:T,errors:k},D?{fetchers:new Map(A.fetchers)}:{})}(b,n,f,h,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,p,m,g);x||(C=null,le(n,a({matches:f},m?{actionData:m}:{},{loaderData:E,errors:_})))}async function de(r,i,s){let{submission:o,fetcherSubmission:c,replace:h}=void 0===s?{}:s;i.revalidate&&(M=!0);let p=f(r.location,i.location,{_isRedirect:!0});if(u(p,"Expected a location on the redirect navigation"),n){let n=!1;if(i.reloadDocument)n=!0;else if(Z.test(i.location)){const r=e.history.createURL(i.location);n=r.origin!==t.location.origin||null==O(r.pathname,d)}if(n)return void(h?t.location.replace(i.location):t.location.assign(i.location))}C=null;let m=!0===h?l.Replace:l.Push,{formMethod:g,formAction:y,formEncType:v}=r.navigation;!o&&!c&&g&&y&&v&&(o=Re(r.navigation));let b=o||c;if(Y.has(i.status)&&b&&Ce(b.formMethod))await ce(m,p,{submission:a({},b,{formAction:i.location}),preventScrollReset:D});else{let e=je(p,o);await ce(m,p,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:D})}}async function fe(t,n,r,s,a){let l=await Promise.all([...r.map((e=>ue("loader",a,e,n,o,i,d))),...s.map((t=>{if(t.matches&&t.match&&t.controller)return ue("loader",he(e.history,t.path,t.controller.signal),t.match,t.matches,o,i,d);return{type:y.error,error:be(404,{pathname:t.path})}}))]),c=l.slice(0,r.length),u=l.slice(r.length);return await Promise.all([Ie(t,r,c,c.map((()=>a.signal)),!1,A.loaderData),Ie(t,s.map((e=>e.match)),u,s.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:l,loaderResults:c,fetcherResults:u}}function pe(){M=!0,F.push(...qe()),G.forEach(((e,t)=>{U.has(t)&&(V.push(t),Le(t))}))}function xe(e,t,n){void 0===n&&(n={}),A.fetchers.set(e,t),ae({fetchers:new Map(A.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Te(e,t,n,r){void 0===r&&(r={});let i=ye(A.matches,t);Ne(e),ae({errors:{[i.route.id]:n},fetchers:new Map(A.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ke(e){return p.v7_fetcherPersist&&(H.set(e,(H.get(e)||0)+1),W.has(e)&&W.delete(e)),A.fetchers.get(e)||J}function Ne(e){let t=A.fetchers.get(e);!U.has(e)||t&&"loading"===t.state&&q.has(e)||Le(e),G.delete(e),q.delete(e),K.delete(e),W.delete(e),A.fetchers.delete(e)}function Le(e){let t=U.get(e);u(t,"Expected fetch controller: "+e),t.abort(),U.delete(e)}function Me(e){for(let t of e){let e=Pe(ke(t).data);A.fetchers.set(t,e)}}function Fe(){let e=[],t=!1;for(let n of K){let r=A.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(K.delete(n),e.push(n),t=!0)}return Me(e),t}function Ve(e){let t=[];for(let[n,r]of q)if(r<e){let e=A.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(Le(n),q.delete(n),t.push(n))}return Me(t),t.length>0}function Ue(e){A.blockers.delete(e),ne.delete(e)}function Be(e,t){let n=A.blockers.get(e)||$;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(A.blockers);r.set(e,t),ae({blockers:r})}function ze(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===ne.size)return;ne.size>1&&h(!1,"A router only supports one blocker at a time");let i=Array.from(ne.entries()),[s,o]=i[i.length-1],a=A.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function qe(e){let t=[];return Q.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),Q.delete(r))})),t}function Ke(e,t){if(x){return x(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,A.loaderData))))||e.key}return e.key}function Ge(e,t){if(v){let n=Ke(e,t),r=v[n];if("number"===typeof r)return r}return null}return k={get basename(){return d},get state(){return A},get routes(){return c},get window(){return t},initialize:function(){if(m=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(se)return void(se=!1);h(0===ne.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=ze({currentLocation:A.location,nextLocation:r,historyAction:n});return s&&null!=i?(se=!0,e.history.go(-1*i),void Be(s,{state:"blocked",location:r,proceed(){Be(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(A.blockers);e.set(s,$),ae({blockers:e})}})):ce(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(te);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,j);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(te,JSON.stringify(r))}catch(n){h(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,j);t.addEventListener("pagehide",e),P=()=>t.removeEventListener("pagehide",e)}return A.initialized||ce(l.Pop,A.location),k},subscribe:function(e){return g.add(e),()=>g.delete(e)},enableScrollRestoration:function(e,t,n){if(v=e,S=t,x=n||null,!E&&A.navigation===X){E=!0;let e=Ge(A.location,A.matches);null!=e&&ae({restoreScrollPosition:e})}return()=>{v=null,S=null,x=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=re(A.location,A.matches,d,p.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:s,submission:o,error:c}=ie(p.v7_normalizeFormMethod,!1,i,r),u=A.location,h=f(A.location,s,r&&r.state);h=a({},h,e.history.encodeLocation(h));let m=r&&null!=r.replace?r.replace:void 0,g=l.Push;!0===m?g=l.Replace:!1===m||null!=o&&Ce(o.formMethod)&&o.formAction===A.location.pathname+A.location.search&&(g=l.Replace);let y=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),b=ze({currentLocation:u,nextLocation:h,historyAction:g});if(!b)return await ce(g,h,{submission:o,pendingError:c,preventScrollReset:y,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});Be(b,{state:"blocked",location:h,proceed(){Be(b,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,r)},reset(){let e=new Map(A.blockers);e.set(b,$),ae({blockers:e})}})},fetch:function(t,n,a,l){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(t)&&Le(t);let h=!0===(l&&l.unstable_flushSync),f=s||c,m=re(A.location,A.matches,d,p.v7_prependBasename,a,n,null==l?void 0:l.relative),g=w(f,m,d);if(!g)return void Te(t,n,be(404,{pathname:m}),{flushSync:h});let{path:y,submission:v,error:b}=ie(p.v7_normalizeFormMethod,!0,m,l);if(b)return void Te(t,n,b,{flushSync:h});let x=De(g,y);D=!0===(l&&l.preventScrollReset),v&&Ce(v.formMethod)?async function(t,n,r,a,l,h,f){if(pe(),G.delete(t),!a.route.action&&!a.route.lazy){let e=be(405,{method:f.formMethod,pathname:r,routeId:n});return void Te(t,n,e,{flushSync:h})}let p=A.fetchers.get(t);xe(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(f,p),{flushSync:h});let m=new AbortController,g=he(e.history,r,m.signal,f);U.set(t,m);let y=B,v=await ue("action",g,a,l,o,i,d);if(g.signal.aborted)return void(U.get(t)===m&&U.delete(t));if(W.has(t))return void xe(t,Pe(void 0));if(_e(v))return U.delete(t),z>y?void xe(t,Pe(void 0)):(K.add(t),xe(t,Oe(f)),de(A,v,{fetcherSubmission:f}));if(Ee(v))return void Te(t,n,v.error);if(Se(v))throw be(400,{type:"defer-action"});let b=A.navigation.location||A.location,x=he(e.history,b,m.signal),S=s||c,E="idle"!==A.navigation.state?w(S,A.navigation.location,d):A.matches;u(E,"Didn't find any matches after fetcher action");let _=++B;q.set(t,_);let T=Oe(f,v.data);A.fetchers.set(t,T);let[k,I]=oe(e.history,A,E,f,b,M,F,V,G,K,S,d,{[a.route.id]:v.data},void 0);I.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=A.fetchers.get(t),r=Oe(void 0,n?n.data:void 0);A.fetchers.set(t,r),U.has(t)&&Le(t),e.controller&&U.set(t,e.controller)})),ae({fetchers:new Map(A.fetchers)});let D=()=>I.forEach((e=>Le(e.key)));m.signal.addEventListener("abort",D);let{results:R,loaderResults:j,fetcherResults:O}=await fe(A.matches,E,k,I,x);if(m.signal.aborted)return;m.signal.removeEventListener("abort",D),q.delete(t),U.delete(t),I.forEach((e=>U.delete(e.key)));let P=we(R);if(P){if(P.idx>=k.length){let e=I[P.idx-k.length].key;K.add(e)}return de(A,P.result)}let{loaderData:L,errors:H}=me(A,A.matches,k,j,void 0,I,O,Q);if(A.fetchers.has(t)){let e=Pe(v.data);A.fetchers.set(t,e)}Ve(_),"loading"===A.navigation.state&&_>z?(u(N,"Expected pending action"),C&&C.abort(),le(A.navigation.location,{matches:E,loaderData:L,errors:H,fetchers:new Map(A.fetchers)})):(ae({errors:H,loaderData:ge(A.loaderData,L,E,H),fetchers:new Map(A.fetchers)}),M=!1)}(t,n,y,x,g,h,v):(G.set(t,{routeId:n,path:y}),async function(t,n,r,s,a,l,c){let h=A.fetchers.get(t);xe(t,Oe(c,h?h.data:void 0),{flushSync:l});let f=new AbortController,p=he(e.history,r,f.signal);U.set(t,f);let m=B,g=await ue("loader",p,s,a,o,i,d);Se(g)&&(g=await Ae(g,p.signal,!0)||g);U.get(t)===f&&U.delete(t);if(p.signal.aborted)return;if(W.has(t))return void xe(t,Pe(void 0));if(_e(g))return z>m?void xe(t,Pe(void 0)):(K.add(t),void await de(A,g));if(Ee(g))return void Te(t,n,g.error);u(!Se(g),"Unhandled fetcher deferred data"),xe(t,Pe(g.data))}(t,n,y,x,g,h,v))},revalidate:function(){pe(),ae({revalidation:"loading"}),"submitting"!==A.navigation.state&&("idle"!==A.navigation.state?ce(N||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation}):ce(A.historyAction,A.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ke,deleteFetcher:function(e){if(p.v7_fetcherPersist){let t=(H.get(e)||0)-1;t<=0?(H.delete(e),W.add(e)):H.set(e,t)}else Ne(e);ae({fetchers:new Map(A.fetchers)})},dispose:function(){m&&m(),P&&P(),g.clear(),C&&C.abort(),A.fetchers.forEach(((e,t)=>Ne(t))),A.blockers.forEach(((e,t)=>Ue(t)))},getBlocker:function(e,t){let n=A.blockers.get(e)||$;return ne.get(e)!==t&&ne.set(e,t),n},deleteBlocker:Ue,_internalFetchControllers:U,_internalActiveDeferreds:Q,_internalSetRoutes:function(e){o={},s=b(e,i,void 0,o)}},k}Symbol("deferred");function re(e,t,n,r,i,s,o){let a,l;if(s){a=[];for(let e of t)if(a.push(e),e.route.id===s){l=e;break}}else a=t,l=t[t.length-1];let c=M(i||".",L(a).map((e=>e.pathnameBase)),O(e.pathname,n)||e.pathname,"path"===o);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Ne(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:F([n,c.pathname])),p(c)}function ie(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!ke(r.formMethod))return{path:n,error:be(405,{method:r.formMethod})};let i,s,o=()=>({path:n,error:be(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),c=xe(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ce(l))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ce(l))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return o()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=de(r.formData),s=r.formData;else if(r.body instanceof FormData)i=de(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=fe(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=fe(i)}catch(f){return o()}let h={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ce(h.formMethod))return{path:n,submission:h};let d=m(n);return t&&d.search&&Ne(d.search)&&i.append("index",""),d.search="?"+i,{path:p(d),submission:h}}function se(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function oe(e,t,n,r,i,s,o,l,c,u,h,d,f,p){let m=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,g=e.createURL(t.location),y=e.createURL(i),v=p?Object.keys(p)[0]:void 0,b=se(n,v).filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((t=>t===e.route.id)))return!0;let i=t.matches[n],l=e;return le(e,a({currentUrl:g,currentParams:i.params,nextUrl:y,nextParams:l.params},r,{actionResult:m,defaultShouldRevalidate:s||g.pathname+g.search===y.pathname+y.search||g.search!==y.search||ae(i,l)}))})),x=[];return c.forEach(((e,i)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let o=w(h,e.path,d);if(!o)return void x.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(i),f=De(o,e.path),p=!1;p=!u.has(i)&&(!!l.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?s:le(f,a({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:s})))),p&&x.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:f,controller:new AbortController})})),[b,x]}function ae(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function le(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ce(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];u(i,"No route found in manifest");let s={};for(let o in r){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;h(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||v.has(o)||(s[o]=r[o])}Object.assign(i,s),Object.assign(i,a({},t(i),{lazy:void 0}))}async function ue(e,t,n,r,i,s,o,a){let l,c,h;void 0===a&&(a={});let d=e=>{let r,i=new Promise(((e,t)=>r=t));return h=()=>r(),t.signal.addEventListener("abort",h),Promise.race([e({request:t,params:n.params,context:a.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([d(r).catch((t=>{e=t})),ce(n.route,s,i)]);if(e)throw e;c=t[0]}else{if(await ce(n.route,s,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw be(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:y.data,data:void 0}}c=await d(r)}else{if(!r){let e=new URL(t.url);throw be(404,{pathname:e.pathname+e.search})}c=await d(r)}u(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(m){l=y.error,c=m}finally{h&&t.signal.removeEventListener("abort",h)}if(Te(c)){let e,i=c.status;if(Q.has(i)){let e=c.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Z.test(e)){if(!a.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=O(r.pathname,o);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=re(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,e);if(a.isStaticRequest)throw c.headers.set("Location",e),c;return{type:y.redirect,status:i,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(a.isRouteRequest){throw{type:l===y.error?y.error:y.data,response:c}}let s=c.headers.get("Content-Type");return e=s&&/\bapplication\/json\b/.test(s)?await c.json():await c.text(),l===y.error?{type:l,error:new z(i,c.statusText,e),headers:c.headers}:{type:y.data,data:e,statusCode:c.status,headers:c.headers}}return l===y.error?{type:l,error:c}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(c)?{type:y.deferred,deferredData:c,statusCode:null==(f=c.init)?void 0:f.status,headers:(null==(p=c.init)?void 0:p.headers)&&new Headers(c.init.headers)}:{type:y.data,data:c};var f,p}function he(e,t,n,r){let i=e.createURL(xe(t)).toString(),s={signal:n};if(r&&Ce(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=de(r.formData):s.body=r.formData}return new Request(i,s)}function de(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function fe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function pe(e,t,n,r,i){let s,o={},a=null,l=!1,c={};return n.forEach(((n,h)=>{let d=t[h].route.id;if(u(!_e(n),"Cannot handle redirect results in processLoaderData"),Ee(n)){let t=ye(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),o[d]=void 0,l||(l=!0,s=q(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else Se(n)?(i.set(d,n.deferredData),o[d]=n.deferredData.data):o[d]=n.data,null==n.statusCode||200===n.statusCode||l||(s=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:c}}function me(e,t,n,r,i,s,o,l){let{loaderData:c,errors:h}=pe(t,n,r,i,l);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];u(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");let i=o[d];if(!r||!r.signal.aborted)if(Ee(i)){let r=ye(e.matches,null==n?void 0:n.route.id);h&&h[r.route.id]||(h=a({},h,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(_e(i))u(!1,"Unhandled fetcher revalidation redirect");else if(Se(i))u(!1,"Unhandled fetcher deferred data");else{let n=Pe(i.data);e.fetchers.set(t,n)}}return{loaderData:c,errors:h}}function ge(e,t,n,r){let i=a({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ye(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ve(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function be(e,t){let{pathname:n,routeId:r,method:i,type:s}=void 0===t?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?a="defer() is not supported in actions":"invalid-body"===s&&(a="Unable to encode submission body")):403===e?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",a='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new z(e||500,o,new Error(a),!0)}function we(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(_e(n))return{result:n,idx:t}}}function xe(e){return p(a({},"string"===typeof e?m(e):e,{hash:""}))}function Se(e){return e.type===y.deferred}function Ee(e){return e.type===y.error}function _e(e){return(e&&e.type)===y.redirect}function Te(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function ke(e){return W.has(e.toLowerCase())}function Ce(e){return G.has(e.toLowerCase())}async function Ie(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),h=null!=c&&!ae(c,l)&&void 0!==(s&&s[l.route.id]);if(Se(a)&&(i||h)){let e=r[o];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ae(a,e,i).then((e=>{e&&(n[o]=e||n[o])}))}}}async function Ae(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(r){return{type:y.error,error:r}}return{type:y.data,data:e.deferredData.data}}}function Ne(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function De(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&Ne(n||""))return e[e.length-1];let r=L(e);return r[r.length-1]}function Re(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function je(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Oe(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}const Me=t.createContext(null);const Fe=t.createContext(null);const Ve=t.createContext(null);const Ue=t.createContext(null);const Be=t.createContext({outlet:null,matches:[],isDataRoute:!1});const ze=t.createContext(null);function qe(){return null!=t.useContext(Ue)}function Ke(){return qe()||u(!1),t.useContext(Ue).location}function Ge(e){t.useContext(Ve).static||t.useLayoutEffect(e)}function He(){let{isDataRoute:e}=t.useContext(Be);return e?function(){let{router:e}=nt(et.UseNavigateStable),n=it(tt.UseNavigateStable),r=t.useRef(!1);Ge((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Le({fromRouteId:n},i)))}),[e,n]);return i}():function(){qe()||u(!1);let e=t.useContext(Me),{basename:n,navigator:r}=t.useContext(Ve),{matches:i}=t.useContext(Be),{pathname:s}=Ke(),o=JSON.stringify(L(i).map((e=>e.pathnameBase))),a=t.useRef(!1);return Ge((()=>{a.current=!0})),t.useCallback((function(t,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof t)return void r.go(t);let l=M(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:F([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,o,s,e])}()}function We(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(Be),{pathname:s}=Ke(),o=JSON.stringify(L(i).map(((e,t)=>t===i.length-1?e.pathname:e.pathnameBase)));return t.useMemo((()=>M(e,JSON.parse(o),s,"path"===r)),[e,o,s,r])}function Qe(e,n,r){qe()||u(!1);let{navigator:i}=t.useContext(Ve),{matches:s}=t.useContext(Be),o=s[s.length-1],a=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,d=Ke();if(n){var f;let e="string"===typeof n?m(n):n;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||u(!1),h=e}else h=d;let p=h.pathname||"/",g=w(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});let y=Ze(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:F([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:F([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r);return n&&y?t.createElement(Ue.Provider,{value:{location:Le({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:l.Pop}},y):y}function Ye(){let e=function(){var e;let n=t.useContext(ze),r=rt(tt.UseRouteError),i=it(tt.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const Xe=t.createElement(Ye,null);class Je extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Be.Provider,{value:this.props.routeContext},t.createElement(ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $e(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(Me);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Be.Provider,{value:n},i)}function Ze(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let o=e,a=null==(i=r)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Xe);let u=n.concat(o.slice(0,s+1)),h=()=>{let n;return n=l?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement($e,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(Je,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var et=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(et||{}),tt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tt||{});function nt(e){let n=t.useContext(Me);return n||u(!1),n}function rt(e){let n=t.useContext(Fe);return n||u(!1),n}function it(e){let n=function(e){let n=t.useContext(Be);return n||u(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||u(!1),r.route.id}r.startTransition;function st(e){let{basename:n="/",children:r=null,location:i,navigationType:s=l.Pop,navigator:o,static:a=!1}=e;qe()&&u(!1);let c=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:c,navigator:o,static:a})),[c,o,a]);"string"===typeof i&&(i=m(i));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=i,v=t.useMemo((()=>{let e=O(d,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:y},navigationType:s}}),[c,d,f,p,g,y,s]);return null==v?null:t.createElement(Ve.Provider,{value:h},t.createElement(Ue.Provider,{children:r,value:v}))}new Promise((()=>{}));t.Component;function ot(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ct=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function ut(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=at({},t,{errors:ht(t.errors)})),t}function ht(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,s]of t)if(s&&"RouteErrorResponse"===s.__type)n[i]=new z(s.status,s.statusText,s.data,!0===s.internal);else if(s&&"Error"===s.__type){if(s.__subType){let e=window[s.__subType];if("function"===typeof e)try{let t=new e(s.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(s.message);e.stack="",n[i]=e}}else n[i]=s;return n}const dt=t.createContext({isTransitioning:!1});const ft=t.createContext(new Map);const pt=r.startTransition,mt=s.flushSync;function gt(e){mt?mt(e):e()}class yt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function vt(e){let{fallbackElement:n,router:r,future:i}=e,[s,o]=t.useState(r.state),[a,l]=t.useState(),[c,u]=t.useState({isTransitioning:!1}),[h,d]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),y=t.useRef(new Map),{v7_startTransition:v}=i||{},b=t.useCallback((e=>{v?function(e){pt?pt(e):e()}(e):e()}),[v]),w=t.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:s}=t;n.forEach((e=>y.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&y.current.set(t,e.data)}));let a=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(s&&!a){if(i){gt((()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let t=r.window.document.startViewTransition((()=>{gt((()=>o(e)))}));return t.finished.finally((()=>{gt((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void gt((()=>p(t)))}f?(h&&h.resolve(),f.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else i?gt((()=>o(e))):b((()=>o(e)))}),[r.window,f,h,y,b]);t.useLayoutEffect((()=>r.subscribe(w)),[r,w]),t.useEffect((()=>{c.isTransitioning&&!c.flushSync&&d(new yt)}),[c]),t.useEffect((()=>{if(h&&a&&r.window){let e=a,t=h.promise,n=r.window.document.startViewTransition((async()=>{b((()=>o(e))),await t}));n.finished.finally((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[b,a,h,r.window]),t.useEffect((()=>{h&&a&&s.location.key===a.location.key&&h.resolve()}),[h,f,s.location,a]),t.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]);let x=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),S=r.basename||"/",E=t.useMemo((()=>({router:r,navigator:x,static:!1,basename:S})),[r,x,S]);return t.createElement(t.Fragment,null,t.createElement(Me.Provider,{value:E},t.createElement(Fe.Provider,{value:s},t.createElement(ft.Provider,{value:y.current},t.createElement(dt.Provider,{value:c},t.createElement(st,{basename:S,location:s.location,navigationType:s.historyAction,navigator:x},s.initialized?t.createElement(bt,{routes:r.routes,state:s}):n))))),null)}function bt(e){let{routes:t,state:n}=e;return Qe(t,void 0,n)}const wt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=lt(e,ct),{basename:g}=t.useContext(Ve),y=!1;if("string"===typeof h&&xt.test(h)&&(r=h,wt))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=O(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(w){}let v=function(e,n){let{relative:r}=void 0===n?{}:n;qe()||u(!1);let{basename:i,navigator:s}=t.useContext(Ve),{hash:o,pathname:a,search:l}=We(e,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:F([i,a])),s.createHref({pathname:c,search:l,hash:o})}(h,{relative:s}),b=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=He(),u=Ke(),h=We(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:p(u)===p(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,r,e,o,a,l])}(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});return t.createElement("a",at({},m,{href:r||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:c}))}));var Et,_t;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Et||(Et={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_t||(_t={}));var Tt=n(184);const kt=function(){return(0,Tt.jsx)("div",{className:"foot",children:"Copyright 2024"})},Ct=()=>{const[e,n]=(0,t.useState)(!1);return(0,Tt.jsxs)("div",{className:"sidebar ".concat(e?"open":""),children:[!e&&(0,Tt.jsx)("button",{className:"toggle-btn",onClick:()=>{n(!e)},children:"Teams"}),e&&(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("button",{className:"close-btn",onClick:()=>{n(!1)},children:(0,Tt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAFHSURBVEhL7ZTNTsMwDIDtAAMJJF6GDa7QISEBE0LlJbchEIIbewDgaYrWAxvY2FU6wfILFzjsu0RtUn914hhW/E+q/v6gPj44t49JpkXv9PWod2Efv2HsuKDq7w0M8YiIxrWI7OsgVdE9Y+ZrBBjWHokjWGOcATLJBx1iHsUkGtwwjBFxExAYDJKdWiBxXKZF94QBbhBwS8aZQbzafny6s9MNX4OH1ihegRKT5AZXggLFJ3lnotzgSlSgLEnm8oEM0MkJriQFSiNhuG0OU1CRBC9TwRWninx8AKxLBlk/s0xS0B6o5KrbMtetEdNGqoRbogJPtZRS6Jdysd5EkrwnSjDtWClW0hqM3t7flmlOnWv/aVpEQuL2osxLtDN5fpB+Uqa2yz0DZlmPmEpd2Z283LcSqV0E4qyqhOrwZ+1asw616xV/DcAnEI3ZpVY/OmQAAAAASUVORK5CYII=",alt:"Close",className:"closeButton"})}),(0,Tt.jsx)("span",{className:"sidebar-title",children:"Teams"})]}),(0,Tt.jsxs)("ul",{children:[(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/AtlantaHawks",children:"Atlanta Hawks"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/BostonCeltics",children:"Boston Celtics"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/BrooklynNets",children:"Brooklyn Nets"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/CharlotteHornets",children:"Charlotte Hornets"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/ChicagoBulls",children:"Chicago Bulls"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/ClevelandCavaliers",children:"Cleveland Cavaliers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/DallasMavericks",children:"Dallas Mavericks"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/DenverNuggets",children:"Denver Nuggets"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/DetroitPistons",children:"Detroit Pistons"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/GoldenStateWarriors",children:"Golden State Warriors"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/HoustonRockets",children:"Houston Rockets"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/IndianaPacers",children:"Indiana Pacers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/LAClippers",children:"LA Clippers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/LosAngelesLakers",children:"Los Angeles Lakers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/MemphisGrizzlies",children:"Memphis Grizzlies"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/MiamiHeat",children:"Miami Heat"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/MilwaukeeBucks",children:"Milwaukee Bucks"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/MinnesotaTimberwolves",children:"Minnesota Timberwolves"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/NewOrleansPelicans",children:"New Orleans Pelicans"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/NewYorkKnicks",children:"New York Knicks"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/OklahomaCityThunder",children:"Oklahoma City Thunder"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/OrlandoMagic",children:"Orlando Magic"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/Philadelphia76ers",children:"Philadelphia 76ers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/PhoenixSuns",children:"Phoenix Suns"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/PortlandTrailBlazers",children:"Portland Trail Blazers"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/SacramentoKings",children:"Sacramento Kings"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/SanAntonioSpurs",children:"San Antonio Spurs"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/TorontoRaptors",children:"Toronto Raptors"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/UtahJazz",children:"Utah Jazz"})}),(0,Tt.jsx)("li",{children:(0,Tt.jsx)(St,{to:"/WashingtonWizards",children:"Washington Wizards"})})]})]})},It=n.p+"static/media/logo.fc1e232869883ac89b31.png",At=()=>{const e=Ke();return(0,Tt.jsx)("div",{className:"navbar",children:(0,Tt.jsxs)("div",{className:"centeredContent",children:[(0,Tt.jsx)("h1",{className:"logo",children:(0,Tt.jsx)(St,{to:"/",children:(0,Tt.jsx)("img",{src:It,alt:"Logo",className:"logosize"})})}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsx)("div",{className:"tab-bar",children:[{path:"/",label:"Home"},{path:"/Odds",label:"Odds"},{path:"/BettingGuide",label:"Betting Guide"}].map((t=>(0,Tt.jsx)(St,{to:t.path,className:"tab ".concat(e.pathname===t.path?"active":""),children:t.label},t.path)))})]})})};function Nt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}function Rt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Rt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const jt=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Rt(e))&&(r&&(r+=" "),r+=t);return r};function Ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}const Pt=t.createContext();function Lt(e,t){const n=Dt({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Dt({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},s&&Object.keys(s)?i&&Object.keys(i)?(n[r]=Dt({},s),Object.keys(i).forEach((e=>{n[r][e]=Lt(i[e],s[e])}))):n[r]=s:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function Mt(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Lt(t.components[n].defaultProps,r):r}function Ft(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Vt(e){if(!Ft(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=Vt(e[n])})),t}function Ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?Dt({},e):e;return Ft(e)&&Ft(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(Ft(t[i])&&i in e&&Ft(e[i])?r[i]=Ut(e[i],t[i],n):n.clone?r[i]=Ft(t[i])?Vt(t[i]):t[i]:r[i]=t[i])})),r}const Bt=["values","unit","step"],zt=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>Dt({},e,{[t.key]:t.val})),{})};const qt={borderRadius:4},Kt={xs:0,sm:600,md:900,lg:1200,xl:1536},Gt={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(Kt[e],"px)")};function Ht(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Gt;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||Gt;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||Kt).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function Wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function Qt(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Yt(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Xt(e){if("string"!==typeof e)throw new Error(Yt(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Jt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function $t(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Jt(e,n)||i,t&&(r=t(r,i,e)),r}const Zt=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],o=Jt(e.theme,r)||{};return Ht(e,s,(e=>{let r=$t(o,i,e);return e===r&&"string"===typeof e&&(r=$t(o,i,"".concat(t).concat("default"===e?"":Xt(e)),e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const en=function(e,t){return t?Ut(e,t,{clone:!1}):e};const tn={m:"margin",p:"padding"},nn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sn=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!rn[e])return[e];e=rn[e]}const[t,n]=e.split(""),r=tn[t],i=nn[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),on=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],an=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ln=[...on,...an];function cn(e,t,n,r){var i;const s=null!=(i=Jt(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function un(e){return cn(e,"spacing",8)}function hn(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function dn(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=hn(t,n),e)),{})}(sn(n),r);return Ht(e,e[n],i)}function fn(e,t){const n=un(e.theme);return Object.keys(e).map((r=>dn(e,t,r,n))).reduce(en,{})}function pn(e){return fn(e,on)}function mn(e){return fn(e,an)}function gn(e){return fn(e,ln)}pn.propTypes={},pn.filterProps=on,mn.propTypes={},mn.filterProps=an,gn.propTypes={},gn.filterProps=ln;const yn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?en(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function vn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}const bn=Zt({prop:"border",themeKey:"borders",transform:vn}),wn=Zt({prop:"borderTop",themeKey:"borders",transform:vn}),xn=Zt({prop:"borderRight",themeKey:"borders",transform:vn}),Sn=Zt({prop:"borderBottom",themeKey:"borders",transform:vn}),En=Zt({prop:"borderLeft",themeKey:"borders",transform:vn}),_n=Zt({prop:"borderColor",themeKey:"palette"}),Tn=Zt({prop:"borderTopColor",themeKey:"palette"}),kn=Zt({prop:"borderRightColor",themeKey:"palette"}),Cn=Zt({prop:"borderBottomColor",themeKey:"palette"}),In=Zt({prop:"borderLeftColor",themeKey:"palette"}),An=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=cn(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:hn(t,e)});return Ht(e,e.borderRadius,n)}return null};An.propTypes={},An.filterProps=["borderRadius"];yn(bn,wn,xn,Sn,En,_n,Tn,kn,Cn,In,An);const Nn=e=>{if(void 0!==e.gap&&null!==e.gap){const t=cn(e.theme,"spacing",8),n=e=>({gap:hn(t,e)});return Ht(e,e.gap,n)}return null};Nn.propTypes={},Nn.filterProps=["gap"];const Dn=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=cn(e.theme,"spacing",8),n=e=>({columnGap:hn(t,e)});return Ht(e,e.columnGap,n)}return null};Dn.propTypes={},Dn.filterProps=["columnGap"];const Rn=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=cn(e.theme,"spacing",8),n=e=>({rowGap:hn(t,e)});return Ht(e,e.rowGap,n)}return null};Rn.propTypes={},Rn.filterProps=["rowGap"];yn(Nn,Dn,Rn,Zt({prop:"gridColumn"}),Zt({prop:"gridRow"}),Zt({prop:"gridAutoFlow"}),Zt({prop:"gridAutoColumns"}),Zt({prop:"gridAutoRows"}),Zt({prop:"gridTemplateColumns"}),Zt({prop:"gridTemplateRows"}),Zt({prop:"gridTemplateAreas"}),Zt({prop:"gridArea"}));function jn(e,t){return"grey"===t?t:e}yn(Zt({prop:"color",themeKey:"palette",transform:jn}),Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:jn}),Zt({prop:"backgroundColor",themeKey:"palette",transform:jn}));function On(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Pn=Zt({prop:"width",transform:On}),Ln=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||Kt[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:On(t)}};return Ht(e,e.maxWidth,t)}return null};Ln.filterProps=["maxWidth"];const Mn=Zt({prop:"minWidth",transform:On}),Fn=Zt({prop:"height",transform:On}),Vn=Zt({prop:"maxHeight",transform:On}),Un=Zt({prop:"minHeight",transform:On}),Bn=(Zt({prop:"size",cssProperty:"width",transform:On}),Zt({prop:"size",cssProperty:"height",transform:On}),yn(Pn,Ln,Mn,Fn,Vn,Un,Zt({prop:"boxSizing"})),{border:{themeKey:"borders",transform:vn},borderTop:{themeKey:"borders",transform:vn},borderRight:{themeKey:"borders",transform:vn},borderBottom:{themeKey:"borders",transform:vn},borderLeft:{themeKey:"borders",transform:vn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:An},color:{themeKey:"palette",transform:jn},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:jn},backgroundColor:{themeKey:"palette",transform:jn},p:{style:mn},pt:{style:mn},pr:{style:mn},pb:{style:mn},pl:{style:mn},px:{style:mn},py:{style:mn},padding:{style:mn},paddingTop:{style:mn},paddingRight:{style:mn},paddingBottom:{style:mn},paddingLeft:{style:mn},paddingX:{style:mn},paddingY:{style:mn},paddingInline:{style:mn},paddingInlineStart:{style:mn},paddingInlineEnd:{style:mn},paddingBlock:{style:mn},paddingBlockStart:{style:mn},paddingBlockEnd:{style:mn},m:{style:pn},mt:{style:pn},mr:{style:pn},mb:{style:pn},ml:{style:pn},mx:{style:pn},my:{style:pn},margin:{style:pn},marginTop:{style:pn},marginRight:{style:pn},marginBottom:{style:pn},marginLeft:{style:pn},marginX:{style:pn},marginY:{style:pn},marginInline:{style:pn},marginInlineStart:{style:pn},marginInlineEnd:{style:pn},marginBlock:{style:pn},marginBlockStart:{style:pn},marginBlockEnd:{style:pn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Nn},rowGap:{style:Rn},columnGap:{style:Dn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:On},maxWidth:{style:Ln},minWidth:{transform:On},height:{transform:On},maxHeight:{transform:On},minHeight:{transform:On},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const zn=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:o=e,themeKey:a,transform:l,style:c}=s;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=Jt(n,a)||{};if(c)return c(i);return Ht(i,t,(t=>{let n=$t(u,l,t);return t===n&&"string"===typeof t&&(n=$t(u,l,"".concat(e).concat("default"===t?"":Xt(t)),t)),!1===o?n:{[o]:n}}))}return function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=null!=(r=s.unstable_sxConfig)?r:Bn;function a(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const i=Wt(s.breakpoints),a=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],c=s,"function"===typeof a?a(c):a);var a,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(o[n])l=en(l,e(n,i,s,o));else{const e=Ht({theme:s},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=en(l,e):l[n]=t({sx:i,theme:s})}else l=en(l,e(n,i,s,o))})),Qt(a,l)}return Array.isArray(i)?i.map(a):a(i)}}();zn.filterProps=["sx"];const qn=zn,Kn=["breakpoints","palette","spacing","shape"];const Gn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,s=Nt(e,Kn),o=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Nt(e,Bt),s=zt(t),o=Object.keys(s);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const s=o.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[o[s]]?t[o[s]]:i)-r/100).concat(n,")")}return Dt({keys:o,values:s,up:a,down:l,between:c,only:function(e){return o.indexOf(e)+1<o.length?c(e,o[o.indexOf(e)+1]):a(e)},not:function(e){const t=o.indexOf(e);return 0===t?a(o[1]):t===o.length-1?l(o[t]):c(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=un({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let l=Ut({breakpoints:o,direction:"ltr",components:{},palette:Dt({mode:"light"},n),spacing:a,shape:Dt({},qt,i)},s);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>Ut(e,t)),l),l.unstable_sxConfig=Dt({},Bn,null==s?void 0:s.unstable_sxConfig),l.unstable_sx=function(e){return qn({sx:e,theme:this})},l};var Hn=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Wn=Math.abs,Qn=String.fromCharCode,Yn=Object.assign;function Xn(e){return e.trim()}function Jn(e,t,n){return e.replace(t,n)}function $n(e,t){return e.indexOf(t)}function Zn(e,t){return 0|e.charCodeAt(t)}function er(e,t,n){return e.slice(t,n)}function tr(e){return e.length}function nr(e){return e.length}function rr(e,t){return t.push(e),e}var ir=1,sr=1,or=0,ar=0,lr=0,cr="";function ur(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:ir,column:sr,length:o,return:""}}function hr(e,t){return Yn(ur("",null,null,"",null,null,0),e,{length:-e.length},t)}function dr(){return lr=ar>0?Zn(cr,--ar):0,sr--,10===lr&&(sr=1,ir--),lr}function fr(){return lr=ar<or?Zn(cr,ar++):0,sr++,10===lr&&(sr=1,ir++),lr}function pr(){return Zn(cr,ar)}function mr(){return ar}function gr(e,t){return er(cr,e,t)}function yr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vr(e){return ir=sr=1,or=tr(cr=e),ar=0,[]}function br(e){return cr="",e}function wr(e){return Xn(gr(ar-1,Er(91===e?e+2:40===e?e+1:e)))}function xr(e){for(;(lr=pr())&&lr<33;)fr();return yr(e)>2||yr(lr)>3?"":" "}function Sr(e,t){for(;--t&&fr()&&!(lr<48||lr>102||lr>57&&lr<65||lr>70&&lr<97););return gr(e,mr()+(t<6&&32==pr()&&32==fr()))}function Er(e){for(;fr();)switch(lr){case e:return ar;case 34:case 39:34!==e&&39!==e&&Er(lr);break;case 40:41===e&&Er(e);break;case 92:fr()}return ar}function _r(e,t){for(;fr()&&e+lr!==57&&(e+lr!==84||47!==pr()););return"/*"+gr(t,ar-1)+"*"+Qn(47===e?e:fr())}function Tr(e){for(;!yr(pr());)fr();return gr(e,ar)}var kr="-ms-",Cr="-moz-",Ir="-webkit-",Ar="comm",Nr="rule",Dr="decl",Rr="@keyframes";function jr(e,t){for(var n="",r=nr(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Or(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Dr:return e.return=e.return||e.value;case Ar:return"";case Rr:return e.return=e.value+"{"+jr(e.children,r)+"}";case Nr:e.value=e.props.join(",")}return tr(n=jr(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pr(e){return br(Lr("",null,null,null,[""],e=vr(e),0,[0],e))}function Lr(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,d=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",w=i,x=s,S=r,E=b;g;)switch(p=v,v=fr()){case 40:if(108!=p&&58==Zn(E,h-1)){-1!=$n(E+=Jn(wr(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=wr(v);break;case 9:case 10:case 13:case 32:E+=xr(p);break;case 92:E+=Sr(mr()-1,7);continue;case 47:switch(pr()){case 42:case 47:rr(Fr(_r(fr(),mr()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=tr(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(E=Jn(E,/\f/g,"")),f>0&&tr(E)-h&&rr(f>32?Vr(E+";",r,n,h-1):Vr(Jn(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(rr(S=Mr(E,t,n,c,u,i,a,b,w=[],x=[],h),s),123===v)if(0===u)Lr(E,t,S,S,w,s,h,a,x);else switch(99===d&&110===Zn(E,3)?100:d){case 100:case 108:case 109:case 115:Lr(e,S,S,r&&rr(Mr(e,S,S,0,0,i,a,b,i,w=[],h),x),i,x,h,a,r?w:x);break;default:Lr(E,S,S,S,[""],x,0,a,x)}}c=u=f=0,m=y=1,b=E="",h=o;break;case 58:h=1+tr(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==dr())continue;switch(E+=Qn(v),v*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(tr(E)-1)*y,y=1;break;case 64:45===pr()&&(E+=wr(fr())),d=pr(),u=h=tr(b=E+=Tr(mr())),v++;break;case 45:45===p&&2==tr(E)&&(m=0)}}return s}function Mr(e,t,n,r,i,s,o,a,l,c,u){for(var h=i-1,d=0===i?s:[""],f=nr(d),p=0,m=0,g=0;p<r;++p)for(var y=0,v=er(e,h+1,h=Wn(m=o[p])),b=e;y<f;++y)(b=Xn(m>0?d[y]+" "+v:Jn(v,/&\f/g,d[y])))&&(l[g++]=b);return ur(e,t,n,0===i?Nr:a,l,c,u)}function Fr(e,t,n){return ur(e,t,n,Ar,Qn(lr),er(e,2,-2),0)}function Vr(e,t,n,r){return ur(e,t,n,Dr,er(e,0,r),er(e,r+1,-1),r)}var Ur=function(e,t,n){for(var r=0,i=0;r=i,i=pr(),38===r&&12===i&&(t[n]=1),!yr(i);)fr();return gr(e,ar)},Br=function(e,t){return br(function(e,t){var n=-1,r=44;do{switch(yr(r)){case 0:38===r&&12===pr()&&(t[n]=1),e[n]+=Ur(ar-1,t,n);break;case 2:e[n]+=wr(r);break;case 4:if(44===r){e[++n]=58===pr()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Qn(r)}}while(r=fr());return e}(vr(e),t))},zr=new WeakMap,qr=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||zr.get(n))&&!r){zr.set(e,!0);for(var i=[],s=Br(t,i),o=n.props,a=0,l=0;a<s.length;a++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},Kr=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Gr(e,t){switch(function(e,t){return 45^Zn(e,0)?(((t<<2^Zn(e,0))<<2^Zn(e,1))<<2^Zn(e,2))<<2^Zn(e,3):0}(e,t)){case 5103:return Ir+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ir+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ir+e+Cr+e+kr+e+e;case 6828:case 4268:return Ir+e+kr+e+e;case 6165:return Ir+e+kr+"flex-"+e+e;case 5187:return Ir+e+Jn(e,/(\w+).+(:[^]+)/,Ir+"box-$1$2"+kr+"flex-$1$2")+e;case 5443:return Ir+e+kr+"flex-item-"+Jn(e,/flex-|-self/,"")+e;case 4675:return Ir+e+kr+"flex-line-pack"+Jn(e,/align-content|flex-|-self/,"")+e;case 5548:return Ir+e+kr+Jn(e,"shrink","negative")+e;case 5292:return Ir+e+kr+Jn(e,"basis","preferred-size")+e;case 6060:return Ir+"box-"+Jn(e,"-grow","")+Ir+e+kr+Jn(e,"grow","positive")+e;case 4554:return Ir+Jn(e,/([^-])(transform)/g,"$1"+Ir+"$2")+e;case 6187:return Jn(Jn(Jn(e,/(zoom-|grab)/,Ir+"$1"),/(image-set)/,Ir+"$1"),e,"")+e;case 5495:case 3959:return Jn(e,/(image-set\([^]*)/,Ir+"$1$`$1");case 4968:return Jn(Jn(e,/(.+:)(flex-)?(.*)/,Ir+"box-pack:$3"+kr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ir+e+e;case 4095:case 3583:case 4068:case 2532:return Jn(e,/(.+)-inline(.+)/,Ir+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(e)-1-t>6)switch(Zn(e,t+1)){case 109:if(45!==Zn(e,t+4))break;case 102:return Jn(e,/(.+:)(.+)-([^]+)/,"$1"+Ir+"$2-$3$1"+Cr+(108==Zn(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$n(e,"stretch")?Gr(Jn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Zn(e,t+1))break;case 6444:switch(Zn(e,tr(e)-3-(~$n(e,"!important")&&10))){case 107:return Jn(e,":",":"+Ir)+e;case 101:return Jn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ir+(45===Zn(e,14)?"inline-":"")+"box$3$1"+Ir+"$2$3$1"+kr+"$2box$3")+e}break;case 5936:switch(Zn(e,t+11)){case 114:return Ir+e+kr+Jn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ir+e+kr+Jn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ir+e+kr+Jn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ir+e+kr+e+e}return e}var Hr=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Dr:e.return=Gr(e.value,e.length);break;case Rr:return jr([hr(e,{value:Jn(e.value,"@","@"+Ir)})],r);case Nr:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jr([hr(e,{props:[Jn(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return jr([hr(e,{props:[Jn(t,/:(plac\w+)/,":"+Ir+"input-$1")]}),hr(e,{props:[Jn(t,/:(plac\w+)/,":-moz-$1")]}),hr(e,{props:[Jn(t,/:(plac\w+)/,kr+"input-$1")]})],r)}return""}))}}],Wr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Hr;var i,s,o={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var l,c,u=[Or,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=nr(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}([qr,Kr].concat(r,u));s=function(e,t,n,r){l=n,jr(Pr(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Hn({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return d.sheet.hydrate(a),d};var Qr={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Yr(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Xr=/[A-Z]|^ms/g,Jr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$r=function(e){return 45===e.charCodeAt(1)},Zr=function(e){return null!=e&&"boolean"!==typeof e},ei=Yr((function(e){return $r(e)?e:e.replace(Xr,"-$&").toLowerCase()})),ti=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Jr,(function(e,t,n){return ri={name:t,styles:n,next:ri},t}))}return 1===Qr[e]||$r(e)||"number"!==typeof t||0===t?t:t+"px"};function ni(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ri={name:n.name,styles:n.styles,next:ri},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ri={name:r.name,styles:r.styles,next:ri},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ni(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":Zr(o)&&(r+=ei(s)+":"+ti(s,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var a=ni(e,t,o);switch(s){case"animation":case"animationName":r+=ei(s)+":"+a+";";break;default:r+=s+"{"+a+"}"}}else for(var l=0;l<o.length;l++)Zr(o[l])&&(r+=ei(s)+":"+ti(s,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ri,s=n(e);return ri=i,ni(e,t,s)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var ri,ii=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var si=!!r.useInsertionEffect&&r.useInsertionEffect,oi=si||function(e){return e()},ai=(si||t.useLayoutEffect,t.createContext("undefined"!==typeof HTMLElement?Wr({key:"css"}):null));ai.Provider;var li=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(ai);return e(n,i,r)}))};var ci=t.createContext({});const ui=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(ci);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},hi=Gn();const di=function(){return ui(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hi)};function fi(e,t){return Dt({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function pi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function mi(e){if(e.type)return e;if("#"===e.charAt(0))return mi(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Yt(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Yt(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function gi(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function yi(e){let t="hsl"===(e=mi(e)).type||"hsla"===e.type?mi(function(e){e=mi(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),gi({type:a,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function vi(e,t){return e=mi(e),t=pi(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,gi(e)}function bi(e,t){if(e=mi(e),t=pi(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return gi(e)}function wi(e,t){if(e=mi(e),t=pi(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return gi(e)}const xi={black:"#000",white:"#fff"},Si={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ei={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_i={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ti={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ki={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ci={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ii={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ai=["mode","contrastThreshold","tonalOffset"],Ni={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xi.white,default:xi.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Di={text:{primary:xi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ri(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=wi(e.main,i):"dark"===t&&(e.dark=bi(e.main,s)))}function ji(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Nt(e,Ai),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ki[200],light:ki[50],dark:ki[400]}:{main:ki[700],light:ki[400],dark:ki[800]}}(t),o=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ei[200],light:Ei[50],dark:Ei[400]}:{main:Ei[500],light:Ei[300],dark:Ei[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_i[500],light:_i[300],dark:_i[700]}:{main:_i[700],light:_i[400],dark:_i[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ci[400],light:Ci[300],dark:Ci[700]}:{main:Ci[700],light:Ci[500],dark:Ci[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ii[400],light:Ii[300],dark:Ii[700]}:{main:Ii[800],light:Ii[500],dark:Ii[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ti[400],light:Ti[300],dark:Ti[700]}:{main:"#ed6c02",light:Ti[500],dark:Ti[900]}}(t);function h(e){const t=function(e,t){const n=yi(e),r=yi(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Di.text.primary)>=n?Di.text.primary:Ni.text.primary;return t}const d=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:o=700}=e;if(t=Dt({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Yt(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Yt(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ri(t,"light",s,r),Ri(t,"dark",o,r),t.contrastText||(t.contrastText=h(t.main)),t},f={dark:Di,light:Ni};return Ut(Dt({common:Dt({},xi),mode:t,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:Si,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[t]),i)}const Oi=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Pi={textTransform:"uppercase"},Li='"Roboto", "Helvetica", "Arial", sans-serif';function Mi(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Li,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,d=Nt(n,Oi);const f=i/14,p=h||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,s)=>{return Dt({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===Li?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},s,u);var o},g={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,Pi),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,Pi),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ut(Dt({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},g),d,{clone:!1})}function Fi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Vi=["none",Fi(0,2,1,-1,0,1,1,0,0,1,3,0),Fi(0,3,1,-2,0,2,2,0,0,1,5,0),Fi(0,3,3,-2,0,3,4,0,0,1,8,0),Fi(0,2,4,-1,0,4,5,0,0,1,10,0),Fi(0,3,5,-1,0,5,8,0,0,1,14,0),Fi(0,3,5,-1,0,6,10,0,0,1,18,0),Fi(0,4,5,-2,0,7,10,1,0,2,16,1),Fi(0,5,5,-3,0,8,10,1,0,3,14,2),Fi(0,5,6,-3,0,9,12,1,0,3,16,2),Fi(0,6,6,-3,0,10,14,1,0,4,18,3),Fi(0,6,7,-4,0,11,15,1,0,4,20,3),Fi(0,7,8,-4,0,12,17,2,0,5,22,4),Fi(0,7,8,-4,0,13,19,2,0,5,24,4),Fi(0,7,9,-4,0,14,21,2,0,5,26,4),Fi(0,8,9,-5,0,15,22,2,0,6,28,5),Fi(0,8,10,-5,0,16,24,2,0,6,30,5),Fi(0,8,11,-5,0,17,26,2,0,6,32,5),Fi(0,9,11,-5,0,18,28,2,0,7,34,6),Fi(0,9,12,-6,0,19,29,2,0,7,36,6),Fi(0,10,13,-6,0,20,31,3,0,8,38,7),Fi(0,10,13,-6,0,21,33,3,0,8,40,7),Fi(0,10,14,-6,0,22,35,3,0,8,42,7),Fi(0,11,14,-7,0,23,36,3,0,9,44,8),Fi(0,11,15,-7,0,24,38,3,0,9,46,8)],Ui=["duration","easing","delay"],Bi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qi(e){return"".concat(Math.round(e),"ms")}function Ki(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function Gi(e){const t=Dt({},Bi,e.easing),n=Dt({},zi,e.duration);return Dt({getAutoHeightDuration:Ki,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:o=0}=r;Nt(r,Ui);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:qi(i)," ").concat(s," ").concat("string"===typeof o?o:qi(o)))).join(",")}},e,{easing:t,duration:n})}const Hi={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,s=Nt(e,Wi);if(e.vars)throw new Error(Yt(18));const o=ji(n),a=Gn(e);let l=Ut(a,{mixins:fi(a.breakpoints,t),palette:o,shadows:Vi.slice(),typography:Mi(o,i),transitions:Gi(r),zIndex:Dt({},Hi)});l=Ut(l,s);for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];return l=u.reduce(((e,t)=>Ut(e,t)),l),l.unstable_sxConfig=Dt({},Bn,null==s?void 0:s.unstable_sxConfig),l.unstable_sx=function(e){return qn({sx:e,theme:this})},l}const Yi=Qi(),Xi="$$material";function Ji(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,s=di(r);return i&&(s=s[i]||s),Mt({theme:s,name:n,props:t})}({props:t,name:n,defaultTheme:Yi,themeId:Xi})}var $i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Zi=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},es=Yr((function(e){return $i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ts=function(e){return"theme"!==e},ns=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?es:ts},rs=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},is=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Zi(t,n,r),oi((function(){return function(e,t,n){Zi(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},ss=function e(n,r){var i,s,o=n.__emotion_real===n,a=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,s=r.target);var l=rs(n,r,o),c=l||ns(a),u=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var f=h.length,p=1;p<f;p++)d.push(h[p],h[0][p])}var m=li((function(e,n,r){var i=u&&e.as||a,o="",h=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(ci)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,h,e.className):null!=e.className&&(o=e.className+" ");var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ri=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=ni(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=ni(n,t,e[o]),r&&(i+=s[o]);ii.lastIndex=0;for(var a,l="";null!==(a=ii.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:ri}}(d.concat(h),n.registered,f);o+=n.key+"-"+m.name,void 0!==s&&(o+=" "+s);var g=u&&void 0===l?ns(i):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=o,y.ref=r,t.createElement(t.Fragment,null,t.createElement(is,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=d,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(t,n){return e(t,Dt({},r,n,{shouldForwardProp:rs(m,n,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){ss[e]=ss(e)}));const os=["variant"];function as(e){return 0===e.length}function ls(e){const{variant:t}=e,n=Nt(e,os);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?as(r)?e[t]:Xt(e[t]):"".concat(as(r)?t:Xt(t)).concat(Xt(e[t].toString()))})),r}const cs=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const us=e=>{const t={};return e&&e.forEach((e=>{const n=ls(e.props);t[n]=e.style})),t},hs=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let s=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(s=!1)})),s&&i.push(t[ls(n.props)])})),i};function ds(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const fs=Gn(),ps=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function ms(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function gs(e){return e?(t,n)=>n[e]:null}const ys=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const s=t(Dt({},n,{theme:ms(Dt({},n,{defaultTheme:r,themeId:i}))}));let o;if(s&&s.variants&&(o=s.variants,delete s.variants),o){return[s,...hs(n,us(o),o)]}return s};const vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=fs,rootShouldForwardProp:r=ds,slotShouldForwardProp:i=ds}=e,s=e=>qn(Dt({},e,{theme:ms(Dt({},e,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:h=gs(ps(l))}=o,d=Nt(o,cs),f=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let m=ds;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return ss(e,t)}(e,Dt({shouldForwardProp:m,label:undefined},d)),y=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];const c=o?o.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>ys({styledArg:e,props:r,defaultTheme:n,themeId:t});if(Ft(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return hs(n,us(t),t).forEach((e=>{r=Ut(r,e)})),r}),n}return e})):[];let u=r;if(Ft(r)){let e;r&&r.variants&&(e=r.variants,delete u.variants,u=t=>{let n=r;return hs(t,us(e),e).forEach((e=>{n=Ut(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(u=e=>ys({styledArg:r,props:e,defaultTheme:n,themeId:t}));a&&h&&c.push((e=>{const r=ms(Dt({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(a,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,s]=n;t[i]="function"===typeof s?s(Dt({},e,{theme:r})):s})),h(e,t)}return null})),a&&!f&&c.push((e=>{const r=ms(Dt({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const s=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return hs(e,t,s)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),us(n)})(a,r),r,a)})),p||c.push(s);const d=c.length-o.length;if(Array.isArray(r)&&d>0){const e=new Array(d).fill("");u=[...r,...e],u.raw=[...r.raw,...e]}const m=g(u,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:Xi,defaultTheme:Yi,rootShouldForwardProp:e=>ds(e)&&"classes"!==e}),bs=vs,ws=e=>e,xs=(()=>{let e=ws;return{configure(t){e=t},generate:t=>e(t),reset(){e=ws}}})(),Ss={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Es(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=Ss[t];return r?"".concat(n,"-").concat(r):"".concat(xs.generate(e),"-").concat(t)}function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Es(e,t,n)})),r}function Ts(e){return Es("MuiTable",e)}_s("MuiTable",["root","stickyHeader"]);const ks=["className","component","padding","size","stickyHeader"],Cs=bs("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return Dt({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Dt({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Is="table",As=t.forwardRef((function(e,n){const r=Ji({props:e,name:"MuiTable"}),{className:i,component:s=Is,padding:o="normal",size:a="medium",stickyHeader:l=!1}=r,c=Nt(r,ks),u=Dt({},r,{component:s,padding:o,size:a,stickyHeader:l}),h=(e=>{const{classes:t,stickyHeader:n}=e;return Ot({root:["root",n&&"stickyHeader"]},Ts,t)})(u),d=t.useMemo((()=>({padding:o,size:a,stickyHeader:l})),[o,a,l]);return(0,Tt.jsx)(Pt.Provider,{value:d,children:(0,Tt.jsx)(Cs,Dt({as:s,role:s===Is?null:"table",ref:n,className:jt(h.root,i),ownerState:u},c))})})),Ns=As;const Ds=t.createContext();function Rs(e){return Es("MuiTableBody",e)}_s("MuiTableBody",["root"]);const js=["className","component"],Os=bs("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Ps={variant:"body"},Ls="tbody",Ms=t.forwardRef((function(e,t){const n=Ji({props:e,name:"MuiTableBody"}),{className:r,component:i=Ls}=n,s=Nt(n,js),o=Dt({},n,{component:i}),a=(e=>{const{classes:t}=e;return Ot({root:["root"]},Rs,t)})(o);return(0,Tt.jsx)(Ds.Provider,{value:Ps,children:(0,Tt.jsx)(Os,Dt({className:jt(a.root,r),as:i,ref:t,role:i===Ls?null:"rowgroup",ownerState:o},s))})})),Fs=Xt;function Vs(e){return Es("MuiTableCell",e)}const Us=_s("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Bs=["align","className","component","padding","scope","size","sortDirection","variant"],zs=bs("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(Fs(n.size))],"normal"!==n.padding&&t["padding".concat(Fs(n.padding))],"inherit"!==n.align&&t["align".concat(Fs(n.align))],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return Dt({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?wi(vi(t.palette.divider,1),.88):bi(vi(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",["&.".concat(Us.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),qs=t.forwardRef((function(e,n){const r=Ji({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:h}=r,d=Nt(r,Bs),f=t.useContext(Pt),p=t.useContext(Ds),m=p&&"head"===p.variant;let g;g=o||(m?"th":"td");let y=l;"td"===g?y=void 0:!y&&m&&(y="col");const v=h||p&&p.variant,b=Dt({},r,{align:i,component:g,padding:a||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:"head"===v&&f&&f.stickyHeader,variant:v}),w=(e=>{const{classes:t,variant:n,align:r,padding:i,size:s,stickyHeader:o}=e;return Ot({root:["root",n,o&&"stickyHeader","inherit"!==r&&"align".concat(Fs(r)),"normal"!==i&&"padding".concat(Fs(i)),"size".concat(Fs(s))]},Vs,t)})(b);let x=null;return u&&(x="asc"===u?"ascending":"descending"),(0,Tt.jsx)(zs,Dt({as:g,ref:n,className:jt(w.root,s),"aria-sort":x,scope:y,ownerState:b},d))})),Ks=qs;function Gs(e){return Es("MuiTableHead",e)}_s("MuiTableHead",["root"]);const Hs=["className","component"],Ws=bs("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Qs={variant:"head"},Ys="thead",Xs=t.forwardRef((function(e,t){const n=Ji({props:e,name:"MuiTableHead"}),{className:r,component:i=Ys}=n,s=Nt(n,Hs),o=Dt({},n,{component:i}),a=(e=>{const{classes:t}=e;return Ot({root:["root"]},Gs,t)})(o);return(0,Tt.jsx)(Ds.Provider,{value:Qs,children:(0,Tt.jsx)(Ws,Dt({as:i,className:jt(a.root,r),ref:t,role:i===Ys?null:"rowgroup",ownerState:o},s))})}));function Js(e){return Es("MuiTableRow",e)}const $s=_s("MuiTableRow",["root","selected","hover","head","footer"]),Zs=["className","component","hover","selected"],eo=bs("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat($s.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat($s.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):vi(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),to="tr",no=t.forwardRef((function(e,n){const r=Ji({props:e,name:"MuiTableRow"}),{className:i,component:s=to,hover:o=!1,selected:a=!1}=r,l=Nt(r,Zs),c=t.useContext(Ds),u=Dt({},r,{component:s,hover:o,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),h=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:s}=e;return Ot({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},Js,t)})(u);return(0,Tt.jsx)(eo,Dt({as:s,ref:n,className:jt(h.root,i),role:s===to?null:"row",ownerState:u},l))})),ro=no,io=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function so(e){return Es("MuiPaper",e)}_s("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const oo=["className","component","elevation","square","variant"],ao=bs("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return Dt({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&Dt({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(vi("#fff",io(n.elevation)),", ").concat(vi("#fff",io(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),lo=t.forwardRef((function(e,t){const n=Ji({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:s=1,square:o=!1,variant:a="elevation"}=n,l=Nt(n,oo),c=Dt({},n,{component:i,elevation:s,square:o,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Ot({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},so,i)})(c);return(0,Tt.jsx)(ao,Dt({as:i,ownerState:c,className:jt(u.root,r),ref:t},l))})),co=lo,uo=e=>{let{gamesData:t}=e;const n=t.length>0?new Date(t[0].date.start):null,r=n?"".concat(n.toLocaleString("default",{month:"short"})," ").concat(n.getDate()):"";return(0,Tt.jsxs)("div",{className:"games-container",children:[(0,Tt.jsx)("h1",{className:"mainHeader"}),(0,Tt.jsx)("h2",{className:"subHeader",children:r}),(0,Tt.jsxs)(Ns,{className:"games-table",component:co,children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(Ks,{className:"away-head",align:"center",children:"Away"}),(0,Tt.jsx)(Ks,{className:"home-head",align:"center",children:"Home"}),(0,Tt.jsx)(Ks,{className:"time-head",align:"center",children:"Time"}),(0,Tt.jsx)(Ks,{className:"final-head",align:"center",children:"Score"})]})}),(0,Tt.jsx)(Ms,{children:t.map(((e,t)=>{var n,r;return(0,Tt.jsxs)(ro,{className:"table-row",children:[(0,Tt.jsx)(Ks,{className:"away-team",align:"center",children:null===(n=e.teams.visitors)||void 0===n?void 0:n.nickname}),(0,Tt.jsx)(Ks,{className:"home-cell",align:"center",children:null===(r=e.teams.home)||void 0===r?void 0:r.nickname}),(0,Tt.jsx)(Ks,{className:"time-cell",align:"center",children:new Date(e.date.start).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),(0,Tt.jsx)(Ks,{className:"score-cell",align:"center",children:"".concat(e.scores.visitors.points," - ").concat(e.scores.home.points)})]},t)}))})]})]})};function ho(e,t){return function(){return e.apply(t,arguments)}}const{toString:fo}=Object.prototype,{getPrototypeOf:po}=Object,mo=(go=Object.create(null),e=>{const t=fo.call(e);return go[t]||(go[t]=t.slice(8,-1).toLowerCase())});var go;const yo=e=>(e=e.toLowerCase(),t=>mo(t)===e),vo=e=>t=>typeof t===e,{isArray:bo}=Array,wo=vo("undefined");const xo=yo("ArrayBuffer");const So=vo("string"),Eo=vo("function"),_o=vo("number"),To=e=>null!==e&&"object"===typeof e,ko=e=>{if("object"!==mo(e))return!1;const t=po(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Co=yo("Date"),Io=yo("File"),Ao=yo("Blob"),No=yo("FileList"),Do=yo("URLSearchParams");function Ro(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),bo(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function jo(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Oo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Po=e=>!wo(e)&&e!==Oo;const Lo=(Mo="undefined"!==typeof Uint8Array&&po(Uint8Array),e=>Mo&&e instanceof Mo);var Mo;const Fo=yo("HTMLFormElement"),Vo=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Uo=yo("RegExp"),Bo=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ro(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},zo="abcdefghijklmnopqrstuvwxyz",qo="0123456789",Ko={DIGIT:qo,ALPHA:zo,ALPHA_DIGIT:zo+zo.toUpperCase()+qo};const Go=yo("AsyncFunction"),Ho={isArray:bo,isArrayBuffer:xo,isBuffer:function(e){return null!==e&&!wo(e)&&null!==e.constructor&&!wo(e.constructor)&&Eo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Eo(e.append)&&("formdata"===(t=mo(e))||"object"===t&&Eo(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xo(e.buffer),t},isString:So,isNumber:_o,isBoolean:e=>!0===e||!1===e,isObject:To,isPlainObject:ko,isUndefined:wo,isDate:Co,isFile:Io,isBlob:Ao,isRegExp:Uo,isFunction:Eo,isStream:e=>To(e)&&Eo(e.pipe),isURLSearchParams:Do,isTypedArray:Lo,isFileList:No,forEach:Ro,merge:function e(){const{caseless:t}=Po(this)&&this||{},n={},r=(r,i)=>{const s=t&&jo(n,i)||i;ko(n[s])&&ko(r)?n[s]=e(n[s],r):ko(r)?n[s]=e({},r):bo(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ro(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ro(t,((t,r)=>{n&&Eo(t)?e[r]=ho(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&po(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mo,kindOfTest:yo,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(bo(e))return e;let t=e.length;if(!_o(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Fo,hasOwnProperty:Vo,hasOwnProp:Vo,reduceDescriptors:Bo,freezeMethods:e=>{Bo(e,((t,n)=>{if(Eo(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Eo(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return bo(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:jo,global:Oo,isContextDefined:Po,ALPHABET:Ko,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ko.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Eo(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(To(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=bo(e)?[]:{};return Ro(e,((e,t)=>{const s=n(e,r+1);!wo(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Go,isThenable:e=>e&&(To(e)||Eo(e))&&Eo(e.then)&&Eo(e.catch)};function Wo(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ho.inherits(Wo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ho.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Qo=Wo.prototype,Yo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Yo[e]={value:e}})),Object.defineProperties(Wo,Yo),Object.defineProperty(Qo,"isAxiosError",{value:!0}),Wo.from=(e,t,n,r,i,s)=>{const o=Object.create(Qo);return Ho.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Wo.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Xo=Wo;function Jo(e){return Ho.isPlainObject(e)||Ho.isArray(e)}function $o(e){return Ho.endsWith(e,"[]")?e.slice(0,-2):e}function Zo(e,t,n){return e?e.concat(t).map((function(e,t){return e=$o(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ea=Ho.toFlatObject(Ho,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ta=function(e,t,n){if(!Ho.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ho.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ho.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ho.isSpecCompliantForm(t);if(!Ho.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ho.isDate(e))return e.toISOString();if(!a&&Ho.isBlob(e))throw new Xo("Blob is not supported. Use a Buffer instead.");return Ho.isArrayBuffer(e)||Ho.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Ho.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ho.isArray(e)&&function(e){return Ho.isArray(e)&&!e.some(Jo)}(e)||(Ho.isFileList(e)||Ho.endsWith(n,"[]"))&&(a=Ho.toArray(e)))return n=$o(n),a.forEach((function(e,r){!Ho.isUndefined(e)&&null!==e&&t.append(!0===o?Zo([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!Jo(e)||(t.append(Zo(i,n,s),l(e)),!1)}const u=[],h=Object.assign(ea,{defaultVisitor:c,convertValue:l,isVisitable:Jo});if(!Ho.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ho.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ho.forEach(n,(function(n,s){!0===(!(Ho.isUndefined(n)||null===n)&&i.call(t,n,Ho.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function na(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ra(e,t){this._pairs=[],e&&ta(e,this,t)}const ia=ra.prototype;ia.append=function(e,t){this._pairs.push([e,t])},ia.toString=function(e){const t=e?function(t){return e.call(this,t,na)}:na;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const sa=ra;function oa(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aa(e,t,n){if(!t)return e;const r=n&&n.encode||oa,i=n&&n.serialize;let s;if(s=i?i(t,n):Ho.isURLSearchParams(t)?t.toString():new sa(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const la=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ho.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ca={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ua={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:sa,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ha="undefined"!==typeof window&&"undefined"!==typeof document,da=(fa="undefined"!==typeof navigator&&navigator.product,ha&&["ReactNative","NativeScript","NS"].indexOf(fa)<0);var fa;const pa="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ma={...e,...ua};const ga=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&Ho.isArray(r)?r.length:s,a)return Ho.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&Ho.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&Ho.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(Ho.isFormData(e)&&Ho.isFunction(e.entries)){const n={};return Ho.forEachEntry(e,((e,r)=>{t(function(e){return Ho.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ya={transitional:ca,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Ho.isObject(e);i&&Ho.isHTMLForm(e)&&(e=new FormData(e));if(Ho.isFormData(e))return r&&r?JSON.stringify(ga(e)):e;if(Ho.isArrayBuffer(e)||Ho.isBuffer(e)||Ho.isStream(e)||Ho.isFile(e)||Ho.isBlob(e))return e;if(Ho.isArrayBufferView(e))return e.buffer;if(Ho.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ta(e,new ma.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ma.isNode&&Ho.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ho.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ta(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ho.isString(e))try{return(t||JSON.parse)(e),Ho.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ya.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ho.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw Xo.from(i,Xo.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ma.classes.FormData,Blob:ma.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ho.forEach(["delete","get","head","post","put","patch"],(e=>{ya.headers[e]={}}));const va=ya,ba=Ho.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wa=Symbol("internals");function xa(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return!1===e||null==e?e:Ho.isArray(e)?e.map(Sa):String(e)}function Ea(e,t,n,r,i){return Ho.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ho.isString(t)?Ho.isString(r)?-1!==t.indexOf(r):Ho.isRegExp(r)?r.test(t):void 0:void 0)}class _a{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=xa(t);if(!i)throw new Error("header name must be a non-empty string");const s=Ho.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Sa(e))}const s=(e,t)=>Ho.forEach(e,((e,n)=>i(e,n,t)));return Ho.isPlainObject(e)||e instanceof this.constructor?s(e,t):Ho.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&ba[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=xa(e)){const n=Ho.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ho.isFunction(t))return t.call(this,e,n);if(Ho.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=xa(e)){const n=Ho.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ea(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=xa(e)){const i=Ho.findKey(n,e);!i||t&&!Ea(0,n[i],i,t)||(delete n[i],r=!0)}}return Ho.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Ea(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Ho.forEach(this,((r,i)=>{const s=Ho.findKey(n,i);if(s)return t[s]=Sa(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Sa(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ho.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ho.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[wa]=this[wa]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=xa(e);t[r]||(!function(e,t){const n=Ho.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ho.isArray(e)?e.forEach(r):r(e),this}}_a.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ho.reduceDescriptors(_a.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Ho.freezeMethods(_a);const Ta=_a;function ka(e,t){const n=this||va,r=t||n,i=Ta.from(r.headers);let s=r.data;return Ho.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Ca(e){return!(!e||!e.__CANCEL__)}function Ia(e,t,n){Xo.call(this,null==e?"canceled":e,Xo.ERR_CANCELED,t,n),this.name="CanceledError"}Ho.inherits(Ia,Xo,{__CANCEL__:!0});const Aa=Ia;const Na=ma.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];Ho.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ho.isString(r)&&o.push("path="+r),Ho.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Da(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ra=ma.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Ho.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const ja=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function Oa(e,t){let n=0;const r=ja(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Pa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Ta.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(Ho.isFormData(r))if(ma.hasStandardBrowserEnv||ma.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=Da(e.baseURL,e.url);function d(){if(!u)return;const r=Ta.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Xo("Request failed with status code "+n.status,[Xo.ERR_BAD_REQUEST,Xo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),aa(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new Xo("Request aborted",Xo.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new Xo("Network Error",Xo.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ca;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Xo(t,r.clarifyTimeoutError?Xo.ETIMEDOUT:Xo.ECONNABORTED,e,u)),u=null},ma.hasStandardBrowserEnv&&(l&&Ho.isFunction(l)&&(l=l(e)),l||!1!==l&&Ra(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Na.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&Ho.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),Ho.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Oa(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Oa(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new Aa(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===ma.protocols.indexOf(f)?n(new Xo("Unsupported protocol "+f+":",Xo.ERR_BAD_REQUEST,e)):u.send(r||null)}))},La={http:null,xhr:Pa};Ho.forEach(La,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ma=e=>"- ".concat(e),Fa=e=>Ho.isFunction(e)||null===e||!1===e,Va=e=>{e=Ho.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Fa(n)&&(r=La[(t=String(n)).toLowerCase()],void 0===r))throw new Xo("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Ma).join("\n"):" "+Ma(e[0]):"as no adapter specified";throw new Xo("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Ua(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Aa(null,e)}function Ba(e){Ua(e),e.headers=Ta.from(e.headers),e.data=ka.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Va(e.adapter||va.adapter)(e).then((function(t){return Ua(e),t.data=ka.call(e,e.transformResponse,t),t.headers=Ta.from(t.headers),t}),(function(t){return Ca(t)||(Ua(e),t&&t.response&&(t.response.data=ka.call(e,e.transformResponse,t.response),t.response.headers=Ta.from(t.response.headers))),Promise.reject(t)}))}const za=e=>e instanceof Ta?e.toJSON():e;function qa(e,t){t=t||{};const n={};function r(e,t,n){return Ho.isPlainObject(e)&&Ho.isPlainObject(t)?Ho.merge.call({caseless:n},e,t):Ho.isPlainObject(t)?Ho.merge({},t):Ho.isArray(t)?t.slice():t}function i(e,t,n){return Ho.isUndefined(t)?Ho.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!Ho.isUndefined(t))return r(void 0,t)}function o(e,t){return Ho.isUndefined(t)?Ho.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(za(e),za(t),!0)};return Ho.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);Ho.isUndefined(o)&&s!==a||(n[r]=o)})),n}const Ka="1.6.5",Ga={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ga[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ha={};Ga.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Xo(r(i," has been removed"+(t?" in "+t:"")),Xo.ERR_DEPRECATED);return t&&!Ha[i]&&(Ha[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const Wa={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Xo("options must be an object",Xo.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Xo("option "+s+" must be "+n,Xo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Xo("Unknown option "+s,Xo.ERR_BAD_OPTION)}},validators:Ga},Qa=Wa.validators;class Ya{constructor(e){this.defaults=e,this.interceptors={request:new la,response:new la}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qa(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Wa.assertOptions(n,{silentJSONParsing:Qa.transitional(Qa.boolean),forcedJSONParsing:Qa.transitional(Qa.boolean),clarifyTimeoutError:Qa.transitional(Qa.boolean)},!1),null!=r&&(Ho.isFunction(r)?t.paramsSerializer={serialize:r}:Wa.assertOptions(r,{encode:Qa.function,serialize:Qa.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&Ho.merge(i.common,i[t.method]);i&&Ho.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ta.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[Ba.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=Ba.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return aa(Da((e=qa(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ho.forEach(["delete","get","head","options"],(function(e){Ya.prototype[e]=function(t,n){return this.request(qa(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ho.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(qa(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ya.prototype[e]=t(),Ya.prototype[e+"Form"]=t(!0)}));const Xa=Ya;class Ja{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Aa(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ja((function(t){e=t})),cancel:e}}}const $a=Ja;const Za={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Za).forEach((e=>{let[t,n]=e;Za[n]=t}));const el=Za;const tl=function e(t){const n=new Xa(t),r=ho(Xa.prototype.request,n);return Ho.extend(r,Xa.prototype,n,{allOwnKeys:!0}),Ho.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(qa(t,n))},r}(va);tl.Axios=Xa,tl.CanceledError=Aa,tl.CancelToken=$a,tl.isCancel=Ca,tl.VERSION=Ka,tl.toFormData=ta,tl.AxiosError=Xo,tl.Cancel=tl.CanceledError,tl.all=function(e){return Promise.all(e)},tl.spread=function(e){return function(t){return e.apply(null,t)}},tl.isAxiosError=function(e){return Ho.isObject(e)&&!0===e.isAxiosError},tl.mergeConfig=qa,tl.AxiosHeaders=Ta,tl.formToJSON=e=>ga(Ho.isHTMLForm(e)?new FormData(e):e),tl.getAdapter=Va,tl.HttpStatusCode=el,tl.default=tl;const nl=tl,rl=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null),[a,l]=(0,t.useState)("Today"),c=async e=>{try{const t=await nl.get("http://localhost:3002/api/nba-games?date=".concat(e));if(t&&t.data&&t.data.response){const e=(e=>{try{return e.map((e=>JSON.parse(JSON.stringify(e)))).filter((e=>null!==e))}catch(s){return console.error("Error parsing NBA Games data:",s),[]}})(t.data.response);n(e)}else console.error("Invalid response format:",t),o("Error fetching NBA Games. Please try again later.")}catch(s){console.error("Error fetching NBA Games:",s),console.error("Response data:",s.response?s.response.data:void 0),o("Error fetching NBA Games. Please try again later.")}finally{i(!1)}};(0,t.useEffect)((()=>{c(a.toLowerCase())}),[a]);return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)("h1",{className:"main-header",children:"NBA Scoreboard"}),(0,Tt.jsxs)("div",{className:"toggle-buttons-container",children:[(0,Tt.jsx)("button",{className:"y-button ".concat("Yesterday"===a?"active":""),onClick:()=>l("Yesterday"),children:"Yesterday"}),(0,Tt.jsx)("button",{className:"tod-button ".concat("Today"===a?"active":""),onClick:()=>l("Today"),children:"Today"}),(0,Tt.jsx)("button",{className:"tom-button ".concat("Tomorrow"===a?"active":""),onClick:()=>l("Tomorrow"),children:"Tomorrow"})]}),"Yesterday"===a?(0,Tt.jsx)("div",{children:(0,Tt.jsx)(uo,{gamesData:e})}):(0,Tt.jsx)("div",{}),(0,Tt.jsx)(kt,{})]})},il=e=>null!==e&&void 0!==e?e:"na",sl=e=>{let{oddsData:t}=e;return(0,Tt.jsx)("div",{className:"odds-container",children:t.map(((e,t)=>{var n,r,i,s,o,a,l,c,u,h,d,f,p,m,g,y,v,b,w,x,S,E,_,T,k,C,I,A,N,D,R,j,O,P,L,M,F,V,U,B,z,q,K,G,H,W,Q,Y,X,J,$,Z,ee,te,ne,re,ie,se,oe,ae,le,ce,ue,he,de,fe,pe,me,ge,ye,ve,be,we,xe,Se,Ee,_e,Te,ke,Ce,Ie,Ae,Ne,De,Re,je,Oe,Pe,Le,Me,Fe,Ve,Ue,Be,ze,qe,Ke,Ge,He,We,Qe,Ye,Xe,Je,$e,Ze,et,tt,nt,rt,it,st,ot,at,lt,ct,ut,ht,dt,ft,pt,mt,gt,yt,vt,bt,wt,xt,St,Et,_t,kt,Ct,It,At,Nt,Dt,Rt,jt,Ot,Pt,Lt,Mt,Ft,Vt,Ut,Bt,zt,qt,Kt,Gt,Ht,Wt,Qt,Yt,Xt,Jt;return(0,Tt.jsxs)("div",{className:"game-container",children:[(0,Tt.jsx)("h2",{}),(0,Tt.jsxs)("table",{className:"odds-table",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{className:"matchup",children:"Matchup"}),(0,Tt.jsx)("th",{className:"moneyline",children:"Moneyline"}),(0,Tt.jsx)("th",{className:"spread",children:"Spread"}),(0,Tt.jsx)("th",{className:"total",children:"Total"})]})}),(0,Tt.jsxs)("tbody",{children:[(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"team-name ".concat(t%2===0?"cells-background_1":""),children:il(null===e||void 0===e?void 0:e.away_team)}),(0,Tt.jsx)("td",{className:"moneyline_cell_1 ".concat(t%2===0?"cells-background_1":""),children:il((null===e||void 0===e||null===(n=e.bookmakers)||void 0===n||null===(r=n[0])||void 0===r||null===(i=r.markets)||void 0===i||null===(s=i[0])||void 0===s||null===(o=s.outcomes)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.price)>0?"+".concat(null===e||void 0===e||null===(l=e.bookmakers)||void 0===l||null===(c=l[0])||void 0===c||null===(u=c.markets)||void 0===u||null===(h=u[0])||void 0===h||null===(d=h.outcomes)||void 0===d||null===(f=d[0])||void 0===f?void 0:f.price):null===e||void 0===e||null===(p=e.bookmakers)||void 0===p||null===(m=p[0])||void 0===m||null===(g=m.markets)||void 0===g||null===(y=g[0])||void 0===y||null===(v=y.outcomes)||void 0===v||null===(b=v[0])||void 0===b?void 0:b.price)}),(0,Tt.jsx)("td",{className:"spread_cell_1 ".concat(t%2===0?"cells-background_1":""),children:"".concat(il((null===e||void 0===e||null===(w=e.bookmakers)||void 0===w||null===(x=w[0])||void 0===x||null===(S=x.markets)||void 0===S||null===(E=S[1])||void 0===E||null===(_=E.outcomes)||void 0===_||null===(T=_[0])||void 0===T?void 0:T.point)>0?"+".concat(null===e||void 0===e||null===(k=e.bookmakers)||void 0===k||null===(C=k[0])||void 0===C||null===(I=C.markets)||void 0===I||null===(A=I[1])||void 0===A||null===(N=A.outcomes)||void 0===N||null===(D=N[0])||void 0===D?void 0:D.point):null===e||void 0===e||null===(R=e.bookmakers)||void 0===R||null===(j=R[0])||void 0===j||null===(O=j.markets)||void 0===O||null===(P=O[1])||void 0===P||null===(L=P.outcomes)||void 0===L||null===(M=L[0])||void 0===M?void 0:M.point)," (").concat(il((null===e||void 0===e||null===(F=e.bookmakers)||void 0===F||null===(V=F[0])||void 0===V||null===(U=V.markets)||void 0===U||null===(B=U[1])||void 0===B||null===(z=B.outcomes)||void 0===z||null===(q=z[0])||void 0===q?void 0:q.price)>0?"+".concat(null===e||void 0===e||null===(K=e.bookmakers)||void 0===K||null===(G=K[0])||void 0===G||null===(H=G.markets)||void 0===H||null===(W=H[1])||void 0===W||null===(Q=W.outcomes)||void 0===Q||null===(Y=Q[0])||void 0===Y?void 0:Y.price):null===e||void 0===e||null===(X=e.bookmakers)||void 0===X||null===(J=X[0])||void 0===J||null===($=J.markets)||void 0===$||null===(Z=$[1])||void 0===Z||null===(ee=Z.outcomes)||void 0===ee||null===(te=ee[0])||void 0===te?void 0:te.price),")")}),(0,Tt.jsx)("td",{className:"total_cell_1 ".concat(t%2===0?"cells-background_1":""),children:"o".concat(il(null===e||void 0===e||null===(ne=e.bookmakers)||void 0===ne||null===(re=ne[0])||void 0===re||null===(ie=re.markets)||void 0===ie||null===(se=ie[2])||void 0===se||null===(oe=se.outcomes)||void 0===oe||null===(ae=oe[0])||void 0===ae?void 0:ae.point),"\n                 (").concat(il((null===e||void 0===e||null===(le=e.bookmakers)||void 0===le||null===(ce=le[0])||void 0===ce||null===(ue=ce.markets)||void 0===ue||null===(he=ue[2])||void 0===he||null===(de=he.outcomes)||void 0===de||null===(fe=de[0])||void 0===fe?void 0:fe.price)>0?"+".concat(null===e||void 0===e||null===(pe=e.bookmakers)||void 0===pe||null===(me=pe[0])||void 0===me||null===(ge=me.markets)||void 0===ge||null===(ye=ge[2])||void 0===ye||null===(ve=ye.outcomes)||void 0===ve||null===(be=ve[0])||void 0===be?void 0:be.price):null===e||void 0===e||null===(we=e.bookmakers)||void 0===we||null===(xe=we[0])||void 0===xe||null===(Se=xe.markets)||void 0===Se||null===(Ee=Se[2])||void 0===Ee||null===(_e=Ee.outcomes)||void 0===_e||null===(Te=_e[0])||void 0===Te?void 0:Te.price),")")})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{className:"team-name ".concat(t%2===0?"cells-background":""),children:il(null===e||void 0===e?void 0:e.home_team)}),(0,Tt.jsx)("td",{className:"moneyline_cell ".concat(t%2===0?"cells-background":""),children:il((null===e||void 0===e||null===(ke=e.bookmakers)||void 0===ke||null===(Ce=ke[0])||void 0===Ce||null===(Ie=Ce.markets)||void 0===Ie||null===(Ae=Ie[0])||void 0===Ae||null===(Ne=Ae.outcomes)||void 0===Ne||null===(De=Ne[1])||void 0===De?void 0:De.price)>0?"+".concat(null===e||void 0===e||null===(Re=e.bookmakers)||void 0===Re||null===(je=Re[0])||void 0===je||null===(Oe=je.markets)||void 0===Oe||null===(Pe=Oe[0])||void 0===Pe||null===(Le=Pe.outcomes)||void 0===Le||null===(Me=Le[1])||void 0===Me?void 0:Me.price):null===e||void 0===e||null===(Fe=e.bookmakers)||void 0===Fe||null===(Ve=Fe[0])||void 0===Ve||null===(Ue=Ve.markets)||void 0===Ue||null===(Be=Ue[0])||void 0===Be||null===(ze=Be.outcomes)||void 0===ze||null===(qe=ze[1])||void 0===qe?void 0:qe.price)}),(0,Tt.jsx)("td",{className:"spread_cell ".concat(t%2===0?"cells-background":""),children:"".concat(il((null===e||void 0===e||null===(Ke=e.bookmakers)||void 0===Ke||null===(Ge=Ke[0])||void 0===Ge||null===(He=Ge.markets)||void 0===He||null===(We=He[1])||void 0===We||null===(Qe=We.outcomes)||void 0===Qe||null===(Ye=Qe[1])||void 0===Ye?void 0:Ye.point)>0?"+".concat(null===e||void 0===e||null===(Xe=e.bookmakers)||void 0===Xe||null===(Je=Xe[0])||void 0===Je||null===($e=Je.markets)||void 0===$e||null===(Ze=$e[1])||void 0===Ze||null===(et=Ze.outcomes)||void 0===et||null===(tt=et[1])||void 0===tt?void 0:tt.point):null===e||void 0===e||null===(nt=e.bookmakers)||void 0===nt||null===(rt=nt[0])||void 0===rt||null===(it=rt.markets)||void 0===it||null===(st=it[1])||void 0===st||null===(ot=st.outcomes)||void 0===ot||null===(at=ot[1])||void 0===at?void 0:at.point)," (").concat(il((null===e||void 0===e||null===(lt=e.bookmakers)||void 0===lt||null===(ct=lt[0])||void 0===ct||null===(ut=ct.markets)||void 0===ut||null===(ht=ut[1])||void 0===ht||null===(dt=ht.outcomes)||void 0===dt||null===(ft=dt[1])||void 0===ft?void 0:ft.price)>0?"+".concat(null===e||void 0===e||null===(pt=e.bookmakers)||void 0===pt||null===(mt=pt[0])||void 0===mt||null===(gt=mt.markets)||void 0===gt||null===(yt=gt[1])||void 0===yt||null===(vt=yt.outcomes)||void 0===vt||null===(bt=vt[1])||void 0===bt?void 0:bt.price):null===e||void 0===e||null===(wt=e.bookmakers)||void 0===wt||null===(xt=wt[0])||void 0===xt||null===(St=xt.markets)||void 0===St||null===(Et=St[1])||void 0===Et||null===(_t=Et.outcomes)||void 0===_t||null===(kt=_t[1])||void 0===kt?void 0:kt.price),")")}),(0,Tt.jsx)("td",{className:"total_cell ".concat(t%2===0?"cells-background":""),children:"u".concat(il(null===e||void 0===e||null===(Ct=e.bookmakers)||void 0===Ct||null===(It=Ct[0])||void 0===It||null===(At=It.markets)||void 0===At||null===(Nt=At[2])||void 0===Nt||null===(Dt=Nt.outcomes)||void 0===Dt||null===(Rt=Dt[1])||void 0===Rt?void 0:Rt.point),"\n                 (").concat(il((null===e||void 0===e||null===(jt=e.bookmakers)||void 0===jt||null===(Ot=jt[0])||void 0===Ot||null===(Pt=Ot.markets)||void 0===Pt||null===(Lt=Pt[2])||void 0===Lt||null===(Mt=Lt.outcomes)||void 0===Mt||null===(Ft=Mt[1])||void 0===Ft?void 0:Ft.price)>0?"+".concat(null===e||void 0===e||null===(Vt=e.bookmakers)||void 0===Vt||null===(Ut=Vt[0])||void 0===Ut||null===(Bt=Ut.markets)||void 0===Bt||null===(zt=Bt[2])||void 0===zt||null===(qt=zt.outcomes)||void 0===qt||null===(Kt=qt[1])||void 0===Kt?void 0:Kt.price):null===e||void 0===e||null===(Gt=e.bookmakers)||void 0===Gt||null===(Ht=Gt[0])||void 0===Ht||null===(Wt=Ht.markets)||void 0===Wt||null===(Qt=Wt[2])||void 0===Qt||null===(Yt=Qt.outcomes)||void 0===Yt||null===(Xt=Yt[1])||void 0===Xt?void 0:Xt.price),")")})]})]})]},t),(0,Tt.jsx)("p",{className:"game-info",children:"".concat((Jt=new Date(e.commence_time).getMonth()+1,["January","February","March","April","May","June","July","August","September","October","November","December"][Jt-1]||"na"),"\n           ").concat(new Date(e.commence_time).getDate()," - ").concat(new Date(e.commence_time).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}))})]},t)}))})},ol=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},al={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ol(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ll;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ll extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cl=function(e){return function(e){const t=ol(e);return al.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ul=function(e){try{return al.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const hl=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,dl=()=>{try{return hl()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ul(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function fl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function pl(){return!function(){var e;const t=null===(e=dl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ml(){try{return"object"===typeof indexedDB}catch(e){return!1}}class gl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(vl,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gl(n,s,t)}}const vl=/\{\$([^}]+)}/g;class bl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wl=[];var xl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xl||(xl={}));const Sl={debug:xl.DEBUG,verbose:xl.VERBOSE,info:xl.INFO,warn:xl.WARN,error:xl.ERROR,silent:xl.SILENT},El=xl.INFO,_l={[xl.DEBUG]:"log",[xl.VERBOSE]:"log",[xl.INFO]:"info",[xl.WARN]:"warn",[xl.ERROR]:"error"},Tl=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_l[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class kl{constructor(e){this.name=e,this._logLevel=El,this._logHandler=Tl,this._userLogHandler=null,wl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Sl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xl.DEBUG,...t),this._logHandler(this,xl.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xl.VERBOSE,...t),this._logHandler(this,xl.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xl.INFO,...t),this._logHandler(this,xl.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xl.WARN,...t),this._logHandler(this,xl.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xl.ERROR,...t),this._logHandler(this,xl.ERROR,...t)}}var Cl=n(9073);class Il{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Al="@firebase/app",Nl="0.9.27",Dl=new kl("@firebase/app"),Rl={[Al]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jl=new Map,Ol=new Map;function Pl(e,t){try{e.container.addComponent(t)}catch(n){Dl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ll(e){const t=e.name;if(Ol.has(t))return Dl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ol.set(t,e);for(const n of jl.values())Pl(n,e);return!0}const Ml=new yl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function Fl(e,t,n){var r;let i=null!==(r=Rl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dl.warn(e.join(" "))}Ll(new bl("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Vl="firebase-heartbeat-database",Ul=1,Bl="firebase-heartbeat-store";let zl=null;function ql(){return zl||(zl=(0,Cl.openDB)(Vl,Ul,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Bl)}catch(n){console.warn(n)}}}).catch((e=>{throw Ml.create("idb-open",{originalErrorMessage:e.message})}))),zl}async function Kl(e,t){try{const n=(await ql()).transaction(Bl,"readwrite"),r=n.objectStore(Bl);await r.put(t,Gl(e)),await n.done}catch(n){if(n instanceof gl)Dl.warn(n.message);else{const e=Ml.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Dl.warn(e.message)}}}function Gl(e){return"".concat(e.name,"!").concat(e.options.appId)}class Hl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ql(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wl();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Wl(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Yl(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yl(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=cl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Wl(){return(new Date).toISOString().substring(0,10)}class Ql{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ml()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ql()).transaction(Bl),n=await t.objectStore(Bl).get(Gl(e));return await t.done,n}catch(t){if(t instanceof gl)Dl.warn(t.message);else{const e=Ml.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Dl.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Kl(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yl(e){return cl(JSON.stringify({version:2,heartbeats:e})).length}var Xl;Xl="",Ll(new bl("platform-logger",(e=>new Il(e)),"PRIVATE")),Ll(new bl("heartbeat",(e=>new Hl(e)),"PRIVATE")),Fl(Al,Nl,Xl),Fl(Al,Nl,"esm2017"),Fl("fire-js","");var Jl,$l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zl={},ec=ec||{},tc=$l||self;function nc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ic="closure_uid_"+(1e9*Math.random()>>>0),sc=0;function oc(e,t,n){return e.call.apply(e.bind,arguments)}function ac(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lc(e,t,n){return(lc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oc:ac).apply(null,arguments)}function cc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function uc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function hc(){this.s=this.s,this.o=this.o}hc.prototype.s=!1,hc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ic)&&e[ic]||(e[ic]=++sc))},hc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function fc(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function pc(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(nc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function mc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mc.prototype.h=function(){this.defaultPrevented=!0};var gc=function(){if(!tc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};tc.addEventListener("test",e,t),tc.removeEventListener("test",e,t)}catch(n){}return e}();function yc(e){return/^[\s\xa0]*$/.test(e)}function vc(){var e=tc.navigator;return e&&(e=e.userAgent)?e:""}function bc(e){return-1!=vc().indexOf(e)}function wc(e){return wc[" "](e),e}wc[" "]=function(){};var xc,Sc,Ec=bc("Opera"),_c=bc("Trident")||bc("MSIE"),Tc=bc("Edge"),kc=Tc||_c,Cc=bc("Gecko")&&!(-1!=vc().toLowerCase().indexOf("webkit")&&!bc("Edge"))&&!(bc("Trident")||bc("MSIE"))&&!bc("Edge"),Ic=-1!=vc().toLowerCase().indexOf("webkit")&&!bc("Edge");function Ac(){var e=tc.document;return e?e.documentMode:void 0}e:{var Nc="",Dc=function(){var e=vc();return Cc?/rv:([^\);]+)(\)|;)/.exec(e):Tc?/Edge\/([\d\.]+)/.exec(e):_c?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ic?/WebKit\/(\S+)/.exec(e):Ec?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Dc&&(Nc=Dc?Dc[1]:""),_c){var Rc=Ac();if(null!=Rc&&Rc>parseFloat(Nc)){xc=String(Rc);break e}}xc=Nc}if(tc.document&&_c){var jc=Ac();Sc=jc||(parseInt(xc,10)||void 0)}else Sc=void 0;var Oc=Sc;function Pc(e,t){if(mc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Cc){e:{try{wc(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pc.$.h.call(this)}}uc(Pc,mc);var Lc={2:"touch",3:"pen",4:"mouse"};Pc.prototype.h=function(){Pc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),Fc=0;function Vc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Fc,this.fa=this.ia=!1}function Uc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Bc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function zc(e){const t={};for(const n in e)t[n]=e[n];return t}const qc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<qc.length;t++)n=qc[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gc(e){this.src=e,this.g={},this.h=0}function Hc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=dc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Uc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Gc.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Wc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Vc(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Qc="closure_lm_"+(1e6*Math.random()|0),Yc={};function Xc(e,t,n,r,i){if(r&&r.once)return $c(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xc(e,t[s],n,r,i);return null}return n=su(n),e&&e[Mc]?e.O(t,n,rc(r)?!!r.capture:!!r,i):Jc(e,t,n,!1,r,i)}function Jc(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=rc(i)?!!i.capture:!!i,a=ru(e);if(a||(e[Qc]=a=new Gc(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=nu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $c(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)$c(e,t[s],n,r,i);return null}return n=su(n),e&&e[Mc]?e.P(t,n,rc(r)?!!r.capture:!!r,i):Jc(e,t,n,!0,r,i)}function Zc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zc(e,t[s],n,r,i);else r=rc(r)?!!r.capture:!!r,n=su(n),e&&e[Mc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wc(s=e.g[t],n,r,i))&&(Uc(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ru(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wc(t,n,r,i)),(n=-1<e?t[e]:null)&&eu(n))}function eu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Mc])Hc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ru(t))?(Hc(n,e),0==n.h&&(n.src=null,t[Qc]=null)):Uc(e)}}}function tu(e){return e in Yc?Yc[e]:Yc[e]="on"+e}function nu(e,t){if(e.fa)e=!0;else{t=new Pc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&eu(e),e=n.call(r,t)}return e}function ru(e){return(e=e[Qc])instanceof Gc?e:null}var iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(e){return"function"===typeof e?e:(e[iu]||(e[iu]=function(t){return e.handleEvent(t)}),e[iu])}function ou(){hc.call(this),this.i=new Gc(this),this.S=this,this.J=null}function au(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new mc(t,e);else if(t instanceof mc)t.target=t.target||e;else{var i=t;Kc(t=new mc(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=lu(o,r,!0,t)&&i}if(i=lu(o=t.g=e,r,!0,t)&&i,i=lu(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=lu(o=t.g=n[s],r,!1,t)&&i}function lu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Hc(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}uc(ou,hc),ou.prototype[Mc]=!0,ou.prototype.removeEventListener=function(e,t,n,r){Zc(this,e,t,n,r)},ou.prototype.N=function(){if(ou.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uc(n[r]);delete t.g[e],t.h--}}this.J=null},ou.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ou.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var cu=tc.JSON.stringify;function uu(){var e=yu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var hu=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new du),(e=>e.reset()));class du{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fu(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function pu(e){tc.setTimeout((()=>{throw e}),0)}let mu,gu=!1,yu=new class{constructor(){this.h=this.g=null}add(e,t){const n=hu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},vu=()=>{const e=tc.Promise.resolve(void 0);mu=()=>{e.then(bu)}};var bu=()=>{for(var e;e=uu();){try{e.h.call(e.g)}catch(n){pu(n)}var t=hu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gu=!1};function wu(e,t){ou.call(this),this.h=e||1,this.g=t||tc,this.j=lc(this.qb,this),this.l=Date.now()}function xu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Su(e,t,n){if("function"===typeof e)n&&(e=lc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lc(e.handleEvent,e)}return 2147483647<Number(t)?-1:tc.setTimeout(e,t||0)}function Eu(e){e.g=Su((()=>{e.g=null,e.i&&(e.i=!1,Eu(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}uc(wu,ou),(Jl=wu.prototype).ga=!1,Jl.T=null,Jl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),au(this,"tick"),this.ga&&(xu(this),this.start()))}},Jl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jl.N=function(){wu.$.N.call(this),xu(this),delete this.g};class _u extends hc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(tc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tu(e){hc.call(this),this.h=e,this.g={}}uc(Tu,hc);var ku=[];function Cu(e,t,n,r){Array.isArray(n)||(n&&(ku[0]=n.toString()),n=ku);for(var i=0;i<n.length;i++){var s=Xc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Iu(e){Bc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&eu(e)}),e),e.g={}}function Au(){this.g=!0}function Nu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cu(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Tu.prototype.N=function(){Tu.$.N.call(this),Iu(this)},Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Au.prototype.Ea=function(){this.g=!1},Au.prototype.info=function(){};var Du={},Ru=null;function ju(){return Ru=Ru||new ou}function Ou(e){mc.call(this,Du.Ta,e)}function Pu(e){const t=ju();au(t,new Ou(t))}function Lu(e,t){mc.call(this,Du.STAT_EVENT,e),this.stat=t}function Mu(e){const t=ju();au(t,new Lu(t,e))}function Fu(e,t){mc.call(this,Du.Ua,e),this.size=t}function Vu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return tc.setTimeout((function(){e()}),t)}Du.Ta="serverreachability",uc(Ou,mc),Du.STAT_EVENT="statevent",uc(Lu,mc),Du.Ua="timingevent",uc(Fu,mc);var Uu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zu(){}function qu(e){return e.h||(e.h=e.i())}function Ku(){}zu.prototype.h=null;var Gu,Hu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wu(){mc.call(this,"d")}function Qu(){mc.call(this,"c")}function Yu(){}function Xu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Tu(this),this.P=$u,e=kc?125:void 0,this.V=new wu(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}uc(Wu,mc),uc(Qu,mc),uc(Yu,zu),Yu.prototype.g=function(){return new XMLHttpRequest},Yu.prototype.i=function(){return{}},Gu=new Yu;var $u=45e3,Zu={},eh={};function th(e,t,n){e.L=1,e.A=wh(mh(t)),e.u=n,e.S=!0,nh(e,null)}function nh(e,t){e.G=Date.now(),oh(e),e.B=mh(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),jh(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ju,e.g=Od(e.l,n?t:null,!e.u),0<e.O&&(e.M=new _u(lc(e.Pa,e,e.g),e.O)),Cu(e.U,e.g,"readystatechange",e.nb),t=e.I?zc(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Pu(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function rh(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function ih(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=sh(e,n),r==eh){4==t&&(e.s=4,Mu(14),i=!1),Nu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zu){e.s=4,Mu(15),Nu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nu(e.j,e.m,r,null),hh(e,r)}rh(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Mu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),kd(t),t.M=!0,Mu(11))):(Nu(e.j,e.m,n,"[Invalid Chunked Response]"),uh(e),ch(e))}function sh(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?eh:(n=Number(t.substring(n,r)),isNaN(n)?Zu:(r+=1)+n>t.length?eh:(t=t.slice(r,r+n),e.o=r+n,t))}function oh(e){e.Y=Date.now()+e.P,ah(e,e.P)}function ah(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Vu(lc(e.lb,e),t)}function lh(e){e.C&&(tc.clearTimeout(e.C),e.C=null)}function ch(e){0==e.l.H||e.J||Ad(e.l,e)}function uh(e){lh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xu(e.V),Iu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function hh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Uh(n.i,e)))if(!e.K&&Uh(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Id(n),vd(n)}Td(n),Mu(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vu(lc(n.ib,n),6e3));if(1>=Vh(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Dd(n,11)}else if((e.K||n.g==e)&&Id(n),!yc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Bh(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,bh(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=jd(r,r.J?r.pa:null,r.Y),o.K){zh(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(lh(a),oh(a)),r.g=o}else _d(r);0<n.j.length&&wd(n)}else"stop"!=c[0]&&"close"!=c[0]||Dd(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Dd(n,7):yd(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Pu()}catch(c){}}function dh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Jl=Xu.prototype).setTimeout=function(e){this.P=e},Jl.nb=function(e){e=e.target;const t=this.M;t&&3==hd(e)?t.l():this.Pa(e)},Jl.Pa=function(e){try{if(e==this.g)e:{const u=hd(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||kc||this.g&&(this.h.h||this.g.ja()||dd(this.g)))){this.J||4!=u||7==t||Pu(),lh(this);var n=this.g.da();this.ca=n;t:if(rh(this)){var r=dd(this.g);e="";var i=r.length,s=4==hd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){uh(this),ch(this);var o="";break t}this.h.i=new tc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Mu(12),uh(this),ch(this);break e}Nu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,n)}this.S?(ih(this,u,o),kc&&this.i&&3==u&&(Cu(this.U,this.V,"tick",this.mb),this.V.start())):(Nu(this.j,this.m,o,null),hh(this,o)),4==u&&uh(this),this.i&&!this.J&&(4==u?Ad(this.l,this):(this.i=!1,oh(this)))}else(function(e){const t={};e=(e.g&&2<=hd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(yc(e[r]))continue;var n=fu(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Mu(12)):(this.s=0,Mu(13)),uh(this),ch(this)}}}catch(u){}},Jl.mb=function(){if(this.g){var e=hd(this.g),t=this.g.ja();this.o<t.length&&(lh(this),ih(this,e,t),this.i&&4!=e&&oh(this))}},Jl.cancel=function(){this.J=!0,uh(this)},Jl.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Pu(),Mu(17)),uh(this),this.s=2,ch(this)):ah(this,this.Y-e)};var fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ph){this.h=e.h,gh(this,e.j),this.s=e.s,this.g=e.g,yh(this,e.m),this.l=e.l;var t=e.i,n=new Ah;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vh(this,n),this.o=e.o}else e&&(t=String(e).match(fh))?(this.h=!1,gh(this,t[1]||"",!0),this.s=xh(t[2]||""),this.g=xh(t[3]||"",!0),yh(this,t[4]),this.l=xh(t[5]||"",!0),vh(this,t[6]||"",!0),this.o=xh(t[7]||"")):(this.h=!1,this.i=new Ah(null,this.h))}function mh(e){return new ph(e)}function gh(e,t,n){e.j=n?xh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vh(e,t,n){t instanceof Ah?(e.i=t,function(e,t){t&&!e.j&&(Nh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dh(this,t),jh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Sh(t,Ch)),e.i=new Ah(t,e.h))}function bh(e,t,n){e.i.set(t,n)}function wh(e){return bh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Eh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Eh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ph.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sh(t,_h,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sh(t,_h,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sh(n,"/"==n.charAt(0)?kh:Th,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sh(n,Ih)),e.join("")};var _h=/[#\/\?@]/g,Th=/[#\?:]/g,kh=/[#\?]/g,Ch=/[#\?@]/g,Ih=/#/g;function Ah(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dh(e,t){Nh(e),t=Oh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rh(e,t){return Nh(e),t=Oh(e,t),e.g.has(t)}function jh(e,t,n){Dh(e,t),0<n.length&&(e.i=null,e.g.set(Oh(e,t),fc(n)),e.h+=n.length)}function Oh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jl=Ah.prototype).add=function(e,t){Nh(this),this.i=null,e=Oh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jl.forEach=function(e,t){Nh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Jl.ta=function(){Nh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Jl.Z=function(e){Nh(this);let t=[];if("string"===typeof e)Rh(this,e)&&(t=t.concat(this.g.get(Oh(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Jl.set=function(e,t){return Nh(this),this.i=null,Rh(this,e=Oh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Jl.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Ph=class{constructor(e,t){this.g=e,this.map=t}};function Lh(e){this.l=e||Mh,tc.PerformanceNavigationTiming?e=0<(e=tc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(tc.g&&tc.g.Ka&&tc.g.Ka()&&tc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mh=10;function Fh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vh(e){return e.h?1:e.g?e.g.size:0}function Uh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bh(e,t){e.g?e.g.add(t):e.h=t}function zh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qh(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return fc(e.i)}Lh.prototype.cancel=function(){if(this.i=qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kh,Gh=class{stringify(e){return tc.JSON.stringify(e,void 0)}parse(e){return tc.JSON.parse(e,void 0)}};function Hh(){this.g=new Gh}function Wh(e,t,n){const r=n||"";try{dh(e,(function(e,n){let i=e;rc(e)&&(i=cu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Yh(e){this.l=e.ec||null,this.j=e.ob||!1}function Xh(e,t){ou.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Jh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uc(Yh,zu),Yh.prototype.g=function(){return new Xh(this.l,this.j)},Yh.prototype.i=(Kh={},function(){return Kh}),uc(Xh,ou);var Jh=0;function $h(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Zh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ed(e)}function ed(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jl=Xh.prototype).open=function(e,t){if(this.readyState!=Jh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ed(this)},Jl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||tc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Jl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=Jh},Jl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ed(this)),this.g&&(this.readyState=3,ed(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof tc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$h(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Jl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zh(this):ed(this),3==this.readyState&&$h(this)}},Jl.Za=function(e){this.g&&(this.response=this.responseText=e,Zh(this))},Jl.Ya=function(e){this.g&&(this.response=e,Zh(this))},Jl.ka=function(){this.g&&Zh(this)},Jl.setRequestHeader=function(e,t){this.v.append(e,t)},Jl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jl.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var td=tc.JSON.parse;function nd(e){ou.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rd,this.L=this.M=!1}uc(nd,ou);var rd="",id=/^https?$/i,sd=["POST","PUT"];function od(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ad(e),cd(e)}function ad(e){e.F||(e.F=!0,au(e,"complete"),au(e,"error"))}function ld(e){if(e.h&&"undefined"!=typeof ec&&(!e.C[1]||4!=hd(e)||2!=e.da()))if(e.v&&4==hd(e))Su(e.La,0,e);else if(au(e,"readystatechange"),4==hd(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(fh)[1]||null;!i&&tc.self&&tc.self.location&&(i=tc.self.location.protocol.slice(0,-1)),r=!id.test(i?i.toLowerCase():"")}n=r}if(n)au(e,"complete"),au(e,"success");else{e.m=6;try{var s=2<hd(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",ad(e)}}finally{cd(e)}}}function cd(e,t){if(e.g){ud(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||au(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function ud(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(tc.clearTimeout(e.A),e.A=null)}function hd(e){return e.g?e.g.readyState:0}function dd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case rd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wf){return null}}function fd(e){let t="";return Bc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function pd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bh(e,t,n))}function md(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gd(e){this.Ga=0,this.j=[],this.l=new Au,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=md("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=md("baseRetryDelayMs",5e3,e),this.hb=md("retryDelaySeedMs",1e4,e),this.eb=md("forwardChannelMaxRetries",2,e),this.xa=md("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lh(e&&e.concurrentRequestLimit),this.Ja=new Hh,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yd(e){if(bd(e),3==e.H){var t=e.W++,n=mh(e.I);if(bh(n,"SID",e.K),bh(n,"RID",t),bh(n,"TYPE","terminate"),Sd(e,n),(t=new Xu(e,e.l,t)).L=2,t.A=wh(mh(n)),n=!1,tc.navigator&&tc.navigator.sendBeacon)try{n=tc.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&tc.Image&&((new Image).src=t.A,n=!0),n||(t.g=Od(t.l,null),t.g.ha(t.A)),t.G=Date.now(),oh(t)}Rd(e)}function vd(e){e.g&&(kd(e),e.g.cancel(),e.g=null)}function bd(e){vd(e),e.u&&(tc.clearTimeout(e.u),e.u=null),Id(e),e.i.cancel(),e.m&&("number"===typeof e.m&&tc.clearTimeout(e.m),e.m=null)}function wd(e){if(!Fh(e.i)&&!e.m){e.m=!0;var t=e.Na;mu||vu(),gu||(mu(),gu=!0),yu.add(t,e),e.C=0}}function xd(e,t){var n;n=t?t.m:e.W++;const r=mh(e.I);bh(r,"SID",e.K),bh(r,"RID",n),bh(r,"AID",e.V),Sd(e,r),e.o&&e.s&&pd(r,e.o,e.s),n=new Xu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ed(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Bh(e.i,n),th(n,r,t)}function Sd(e,t){e.na&&Bc(e.na,(function(e,n){bh(t,n,e)})),e.h&&dh({},(function(e,n){bh(t,n,e)}))}function Ed(e,t,n){n=Math.min(e.j.length,n);var r=e.h?lc(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Wh(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function _d(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mu||vu(),gu||(mu(),gu=!0),yu.add(t,e),e.A=0}}function Td(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Vu(lc(e.Ma,e),Nd(e,e.A)),e.A++,!0)}function kd(e){null!=e.B&&(tc.clearTimeout(e.B),e.B=null)}function Cd(e){e.g=new Xu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=mh(e.wa);bh(t,"RID","rpc"),bh(t,"SID",e.K),bh(t,"AID",e.V),bh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bh(t,"TO",e.qa),bh(t,"TYPE","xmlhttp"),Sd(e,t),e.o&&e.s&&pd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=wh(mh(t)),n.u=null,n.S=!0,nh(n,e)}function Id(e){null!=e.v&&(tc.clearTimeout(e.v),e.v=null)}function Ad(e,t){var n=null;if(e.g==t){Id(e),kd(e),e.g=null;var r=2}else{if(!Uh(e.i,t))return;n=t.F,zh(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;au(r=ju(),new Fu(r,n)),wd(e)}else _d(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Vh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Vu(lc(e.Na,e,t),Nd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Td(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dd(e,5);break;case 4:Dd(e,10);break;case 3:Dd(e,6);break;default:Dd(e,2)}}function Nd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Dd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=lc(e.pb,e);n||(n=new ph("//www.google.com/images/cleardot.gif"),tc.location&&"http"==tc.location.protocol||gh(n,"https"),wh(n)),function(e,t){const n=new Au;if(tc.Image){const r=new Image;r.onload=cc(Qh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cc(Qh,n,r,"TestLoadImage: error",!1,t),r.onabort=cc(Qh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cc(Qh,n,r,"TestLoadImage: timeout",!1,t),tc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mu(2);e.H=0,e.h&&e.h.za(t),Rd(e),bd(e)}function Rd(e){if(e.H=0,e.ma=[],e.h){const t=qh(e.i);0==t.length&&0==e.j.length||(pc(e.ma,t),pc(e.ma,e.j),e.i.i.length=0,fc(e.j),e.j.length=0),e.h.ya()}}function jd(e,t,n){var r=n instanceof ph?mh(n):new ph(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yh(r,r.m);else{var i=tc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ph(null);r&&gh(s,r),t&&(s.g=t),i&&yh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&bh(r,n,t),bh(r,"VER",e.ra),Sd(e,r),r}function Od(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new nd(new Yh({ob:n})):new nd(e.va)).Oa(e.J),t}function Pd(){}function Ld(){if(_c&&!(10<=Number(Oc)))throw Error("Environmental error: no available transport.")}function Md(e,t){ou.call(this),this.g=new gd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!yc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ud(this)}function Fd(e){Wu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Vd(){Qu.call(this),this.status=1}function Ud(e){this.g=e}function Bd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zd(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function qd(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Jl=nd.prototype).Oa=function(e){this.M=e},Jl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gu.g(),this.C=this.u?qu(this.u):qu(Gu),this.g.onreadystatechange=lc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void od(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=tc.FormData&&e instanceof tc.FormData,!(0<=dc(sd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ud(this),0<this.B&&((this.L=function(e){return _c&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lc(this.ua,this)):this.A=Su(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){od(this,s)}},Jl.ua=function(){"undefined"!=typeof ec&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,au(this,"timeout"),this.abort(8))},Jl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,au(this,"complete"),au(this,"abort"),cd(this))},Jl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cd(this,!0)),nd.$.N.call(this)},Jl.La=function(){this.s||(this.G||this.v||this.l?ld(this):this.kb())},Jl.kb=function(){ld(this)},Jl.isActive=function(){return!!this.g},Jl.da=function(){try{return 2<hd(this)?this.g.status:-1}catch(Kh){return-1}},Jl.ja=function(){try{return this.g?this.g.responseText:""}catch(Kh){return""}},Jl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),td(t)}},Jl.Ia=function(){return this.m},Jl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jl=gd.prototype).ra=8,Jl.H=1,Jl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Xu(this,this.l,e);let s=this.s;if(this.U&&(s?(s=zc(s),Kc(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ed(this,i,t),bh(n=mh(this.I),"RID",e),bh(n,"CVER",22),this.F&&bh(n,"X-HTTP-Session-Id",this.F),Sd(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(fd(s)))+"&"+t:this.o&&pd(n,this.o,s)),Bh(this.i,i),this.bb&&bh(n,"TYPE","init"),this.P?(bh(n,"$req",t),bh(n,"SID","null"),i.aa=!0,th(i,n,null)):th(i,n,t),this.H=2}}else 3==this.H&&(e?xd(this,e):0==this.j.length||Fh(this.i)||xd(this))},Jl.Ma=function(){if(this.u=null,Cd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Vu(lc(this.jb,this),e)}},Jl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mu(10),vd(this),Cd(this))},Jl.ib=function(){null!=this.v&&(this.v=null,vd(this),Td(this),Mu(19))},Jl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Mu(2)):(this.l.info("Failed to ping google.com"),Mu(1))},Jl.isActive=function(){return!!this.h&&this.h.isActive(this)},(Jl=Pd.prototype).Ba=function(){},Jl.Aa=function(){},Jl.za=function(){},Jl.ya=function(){},Jl.isActive=function(){return!0},Jl.Va=function(){},Ld.prototype.g=function(e,t){return new Md(e,t)},uc(Md,ou),Md.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Mu(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=jd(e,null,e.Y),wd(e)},Md.prototype.close=function(){yd(this.g)},Md.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=cu(e),e=n);t.j.push(new Ph(t.fb++,e)),3==t.H&&wd(t)},Md.prototype.N=function(){this.g.h=null,delete this.j,yd(this.g),delete this.g,Md.$.N.call(this)},uc(Fd,Wu),uc(Vd,Qu),uc(Ud,Pd),Ud.prototype.Ba=function(){au(this.g,"a")},Ud.prototype.Aa=function(e){au(this.g,new Fd(e))},Ud.prototype.za=function(e){au(this.g,new Vd)},Ud.prototype.ya=function(){au(this.g,"b")},uc(Bd,(function(){this.blockSize=-1})),Bd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)zd(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){zd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){zd(this,r),i=0;break}}this.h=i,this.i+=t},Bd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Kd={};function Gd(e){return-128<=e&&128>e?function(e,t){var n=Kd;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new qd([0|e],0>e?-1:0)})):new qd([0|e],0>e?-1:0)}function Hd(e){if(isNaN(e)||!isFinite(e))return Qd;if(0>e)return Zd(Hd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Wd;return new qd(t,0)}var Wd=4294967296,Qd=Gd(0),Yd=Gd(1),Xd=Gd(16777216);function Jd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function $d(e){return-1==e.h}function Zd(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new qd(n,~e.h).add(Yd)}function ef(e,t){return e.add(Zd(t))}function tf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function nf(e,t){this.g=e,this.h=t}function rf(e,t){if(Jd(t))throw Error("division by zero");if(Jd(e))return new nf(Qd,Qd);if($d(e))return t=rf(Zd(e),t),new nf(Zd(t.g),Zd(t.h));if($d(t))return t=rf(e,Zd(t)),new nf(Zd(t.g),t.h);if(30<e.g.length){if($d(e)||$d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Yd,r=t;0>=r.X(e);)n=sf(n),r=sf(r);var i=of(n,1),s=of(r,1);for(r=of(r,2),n=of(n,2);!Jd(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=of(r,1),n=of(n,1)}return t=ef(e,i.R(t)),new nf(i,t)}for(i=Qd;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Hd(n)).R(t);$d(o)||0<o.X(e);)o=(s=Hd(n-=r)).R(t);Jd(s)&&(s=Yd),i=i.add(s),e=ef(e,o)}return new nf(i,e)}function sf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new qd(n,e.h)}function of(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new qd(i,e.h)}(Jl=qd.prototype).ea=function(){if($d(this))return-Zd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Wd+r)*t,t*=Wd}return e},Jl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Jd(this))return"0";if($d(this))return"-"+Zd(this).toString(e);for(var t=Hd(Math.pow(e,6)),n=this,r="";;){var i=rf(n,t).g,s=((0<(n=ef(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Jd(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Jl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Jl.X=function(e){return $d(e=ef(this,e))?-1:Jd(e)?0:1},Jl.abs=function(){return $d(this)?Zd(this):this},Jl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qd(n,-2147483648&n[n.length-1]?-1:0)},Jl.R=function(e){if(Jd(this)||Jd(e))return Qd;if($d(this))return $d(e)?Zd(this).R(Zd(e)):Zd(Zd(this).R(e));if($d(e))return Zd(this.R(Zd(e)));if(0>this.X(Xd)&&0>e.X(Xd))return Hd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,tf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,tf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,tf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,tf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new qd(n,0)},Jl.gb=function(e){return rf(this,e).h},Jl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new qd(n,this.h&e.h)},Jl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new qd(n,this.h|e.h)},Jl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new qd(n,this.h^e.h)},Ld.prototype.createWebChannel=Ld.prototype.g,Md.prototype.send=Md.prototype.u,Md.prototype.open=Md.prototype.m,Md.prototype.close=Md.prototype.close,Uu.NO_ERROR=0,Uu.TIMEOUT=8,Uu.HTTP_ERROR=6,Bu.COMPLETE="complete",Ku.EventType=Hu,Hu.OPEN="a",Hu.CLOSE="b",Hu.ERROR="c",Hu.MESSAGE="d",ou.prototype.listen=ou.prototype.O,nd.prototype.listenOnce=nd.prototype.P,nd.prototype.getLastError=nd.prototype.Sa,nd.prototype.getLastErrorCode=nd.prototype.Ia,nd.prototype.getStatus=nd.prototype.da,nd.prototype.getResponseJson=nd.prototype.Wa,nd.prototype.getResponseText=nd.prototype.ja,nd.prototype.send=nd.prototype.ha,nd.prototype.setWithCredentials=nd.prototype.Oa,Bd.prototype.digest=Bd.prototype.l,Bd.prototype.reset=Bd.prototype.reset,Bd.prototype.update=Bd.prototype.j,qd.prototype.add=qd.prototype.add,qd.prototype.multiply=qd.prototype.R,qd.prototype.modulo=qd.prototype.gb,qd.prototype.compare=qd.prototype.X,qd.prototype.toNumber=qd.prototype.ea,qd.prototype.toString=qd.prototype.toString,qd.prototype.getBits=qd.prototype.D,qd.fromNumber=Hd,qd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Zd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Hd(Math.pow(n,8)),i=Qd,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Hd(Math.pow(n,o)),i=i.R(o).add(Hd(a))):i=(i=i.R(r)).add(Hd(a))}return i};var af=Zl.createWebChannelTransport=function(){return new Ld},lf=Zl.getStatEventTarget=function(){return ju()},cf=Zl.ErrorCode=Uu,uf=Zl.EventType=Bu,hf=Zl.Event=Du,df=Zl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ff=(Zl.FetchXmlHttpFactory=Yh,Zl.WebChannel=Ku),pf=Zl.XhrIo=nd,mf=Zl.Md5=Bd,gf=Zl.Integer=qd;const yf="@firebase/firestore";class vf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vf.UNAUTHENTICATED=new vf(null),vf.GOOGLE_CREDENTIALS=new vf("google-credentials-uid"),vf.FIRST_PARTY=new vf("first-party-uid"),vf.MOCK_USER=new vf("mock-user");let bf="10.8.0";const wf=new kl("@firebase/firestore");function xf(){return wf.logLevel}function Sf(e){if(wf.logLevel<=xl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tf);wf.debug("Firestore (".concat(bf,"): ").concat(e),...i)}}function Ef(e){if(wf.logLevel<=xl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tf);wf.error("Firestore (".concat(bf,"): ").concat(e),...i)}}function _f(e){if(wf.logLevel<=xl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tf);wf.warn("Firestore (".concat(bf,"): ").concat(e),...i)}}function Tf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function kf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(bf,") INTERNAL ASSERTION FAILED: ")+e;throw Ef(t),new Error(t)}function Cf(e,t){e||kf()}function If(e,t){return e}const Af={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nf extends gl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Df{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Rf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class jf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vf.UNAUTHENTICATED)))}shutdown(){}}class Of{constructor(e){this.t=e,this.currentUser=vf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Df;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Df,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Sf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Sf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Df)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cf("string"==typeof t.accessToken),new Rf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cf(null===e||"string"==typeof e),new vf(e)}}class Pf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lf{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ff{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Sf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Sf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Sf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Cf("string"==typeof e.token),this.R=e.token,new Mf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Uf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Vf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Bf(e,t){return e<t?-1:e>t?1:0}function zf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class qf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nf(Af.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nf(Af.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nf(Af.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nf(Af.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qf.fromMillis(Date.now())}static fromDate(e){return qf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new qf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bf(this.nanoseconds,e.nanoseconds):Bf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kf(e)}static min(){return new Kf(new qf(0,0))}static max(){return new Kf(new qf(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gf{constructor(e,t,n){void 0===t?t=0:t>e.length&&kf(),void 0===n?n=e.length-t:n>e.length-t&&kf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Gf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hf extends Gf{construct(e,t,n){return new Hf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Nf(Af.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Hf(e)}static emptyPath(){return new Hf([])}}const Wf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qf extends Gf{construct(e,t,n){return new Qf(e,t,n)}static isValidIdentifier(e){return Wf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qf.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qf(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nf(Af.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nf(Af.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nf(Af.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Nf(Af.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qf(t)}static emptyPath(){return new Qf([])}}class Yf{constructor(e){this.path=e}static fromPath(e){return new Yf(Hf.fromString(e))}static fromName(e){return new Yf(Hf.fromString(e).popFirst(5))}static empty(){return new Yf(Hf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yf(new Hf(e.slice()))}}class Xf{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Xf.UNKNOWN_ID=-1;function Jf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kf.fromTimestamp(1e9===r?new qf(n+1,0):new qf(n,r));return new Zf(i,Yf.empty(),t)}function $f(e){return new Zf(e.readTime,e.key,-1)}class Zf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Zf(Kf.min(),Yf.empty(),-1)}static max(){return new Zf(Kf.max(),Yf.empty(),-1)}}function ep(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Yf.comparator(e.documentKey,t.documentKey),0!==n?n:Bf(e.largestBatchId,t.largestBatchId))}const tp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class np{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function rp(e){if(e.code!==Af.FAILED_PRECONDITION||e.message!==tp)throw e;Sf("LocalStore","Unexpectedly lost primary lease")}class ip{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&kf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ip(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ip?t:ip.resolve(t)}catch(e){return ip.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ip.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ip.reject(t)}static resolve(e){return new ip(((t,n)=>{t(e)}))}static reject(e){return new ip(((t,n)=>{n(e)}))}static waitFor(e){return new ip(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ip.resolve(!1);for(const n of e)t=t.next((e=>e?ip.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ip(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ip(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class sp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Df,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new lp(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=fp(t.target.error);this.V.reject(new lp(e,n))}}static open(e,t,n,r){try{return new sp(t,e.transaction(r,n))}catch(e){throw new lp(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Sf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new up(t)}}class op{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===op.S(fl())&&Ef("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Sf("SimpleDb","Removing database:",e),hp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ml())return!1;if(op.C())return!0;const e=fl(),t=op.S(e),n=0<t&&t<10,r=op.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Sf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new lp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Nf(Af.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Nf(Af.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new lp(e,r))},r.onupgradeneeded=e=>{Sf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Sf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=sp.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ip.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Sf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ap{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return hp(this.k.delete())}}class lp extends Nf{constructor(e,t){super(Af.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function cp(e){return"IndexedDbTransactionError"===e.name}class up{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Sf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Sf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hp(n)}add(e){return Sf("SimpleDb","ADD",this.store.name,e,e),hp(this.store.add(e))}get(e){return hp(this.store.get(e)).next((t=>(void 0===t&&(t=null),Sf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Sf("SimpleDb","DELETE",this.store.name,e),hp(this.store.delete(e))}count(){return Sf("SimpleDb","COUNT",this.store.name),hp(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ip(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ip(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Sf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new ip(((n,r)=>{t.onerror=e=>{const t=fp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new ip(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ap(i),o=t(i.primaryKey,i.value,s);if(o instanceof ip){const e=o.catch((e=>(s.done(),ip.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>ip.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hp(e){return new ip(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=fp(e.target.error);n(t)}}))}let dp=!1;function fp(e){const t=op.S(fl());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dp||(dp=!0,setTimeout((()=>{throw e}),0)),e}}return e}class pp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function mp(e){return null==e}function gp(e){return 0===e&&1/e==-1/0}pp._e=-1;const yp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bp=vp;function wp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xp(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ep{constructor(e,t){this.comparator=e,this.root=t||Tp.EMPTY}insert(e,t){return new Ep(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tp.BLACK,null,null))}remove(e){return new Ep(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Tp.RED,this.left=null!=r?r:Tp.EMPTY,this.right=null!=i?i:Tp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Tp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Tp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kf();if(this.right.isRed())throw kf();const e=this.left.check();if(e!==this.right.check())throw kf();return e+(this.isRed()?0:1)}}Tp.EMPTY=null,Tp.RED=!0,Tp.BLACK=!1,Tp.EMPTY=new class{constructor(){this.size=0}get key(){throw kf()}get value(){throw kf()}get color(){throw kf()}get left(){throw kf()}get right(){throw kf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Tp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kp{constructor(e){this.comparator=e,this.data=new Ep(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof kp))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kp(this.comparator);return t.data=e,t}}class Cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ip{constructor(e){this.fields=e,e.sort(Qf.comparator)}static empty(){return new Ip([])}unionWith(e){let t=new kp(Qf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ip(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ap extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Np{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ap("Invalid base64 string: "+e):e}}(e);return new Np(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Np(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Np.EMPTY_BYTE_STRING=new Np("");const Dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rp(e){if(Cf(!!e),"string"==typeof e){let t=0;const n=Dp.exec(e);if(Cf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jp(e.seconds),nanos:jp(e.nanos)}}function jp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Op(e){return"string"==typeof e?Np.fromBase64String(e):Np.fromUint8Array(e)}function Pp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lp(e){const t=e.mapValue.fields.__previous_value__;return Pp(t)?Lp(t):t}function Mp(e){const t=Rp(e.mapValue.fields.__local_write_time__.timestampValue);return new qf(t.seconds,t.nanos)}class Fp{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Vp{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vp&&e.projectId===this.projectId&&e.database===this.database}}const Up={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pp(e)?4:em(e)?9007199254740991:10:kf()}function zp(e,t){if(e===t)return!0;const n=Bp(e);if(n!==Bp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mp(e).isEqual(Mp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rp(e.timestampValue),r=Rp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Op(e.bytesValue).isEqual(Op(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jp(e.geoPointValue.latitude)===jp(t.geoPointValue.latitude)&&jp(e.geoPointValue.longitude)===jp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jp(e.integerValue)===jp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jp(e.doubleValue),r=jp(t.doubleValue);return n===r?gp(n)===gp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zf(e.arrayValue.values||[],t.arrayValue.values||[],zp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wp(n)!==wp(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zp(n[i],r[i])))return!1;return!0}(e,t);default:return kf()}}function qp(e,t){return void 0!==(e.values||[]).find((e=>zp(e,t)))}function Kp(e,t){if(e===t)return 0;const n=Bp(e),r=Bp(t);if(n!==r)return Bf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jp(e.integerValue||e.doubleValue),r=jp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gp(e.timestampValue,t.timestampValue);case 4:return Gp(Mp(e),Mp(t));case 5:return Bf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Op(e),r=Op(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Bf(n[i],r[i]);if(0!==e)return e}return Bf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Bf(jp(e.latitude),jp(t.latitude));return 0!==n?n:Bf(jp(e.longitude),jp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Kp(n[i],r[i]);if(e)return e}return Bf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Up.mapValue&&t===Up.mapValue)return 0;if(e===Up.mapValue)return 1;if(t===Up.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Bf(r[o],s[o]);if(0!==e)return e;const t=Kp(n[r[o]],i[s[o]]);if(0!==t)return t}return Bf(r.length,s.length)}(e.mapValue,t.mapValue);default:throw kf()}}function Gp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bf(e,t);const n=Rp(e),r=Rp(t),i=Bf(n.seconds,r.seconds);return 0!==i?i:Bf(n.nanos,r.nanos)}function Hp(e){return Wp(e)}function Wp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Op(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Yf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wp(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wp(e.fields[i]));return n+"}"}(e.mapValue):kf()}function Qp(e){return!!e&&"integerValue"in e}function Yp(e){return!!e&&"arrayValue"in e}function Xp(e){return!!e&&"nullValue"in e}function Jp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $p(e){return!!e&&"mapValue"in e}function Zp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xp(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function em(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class tm{constructor(e){this.value=e}static empty(){return new tm({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$p(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zp(t)}setAll(e){let t=Qf.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$p(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xp(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tm(Zp(this.value))}}class nm{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new nm(e,0,Kf.min(),Kf.min(),Kf.min(),tm.empty(),0)}static newFoundDocument(e,t,n,r){return new nm(e,1,t,Kf.min(),n,r,0)}static newNoDocument(e,t){return new nm(e,2,t,Kf.min(),Kf.min(),tm.empty(),0)}static newUnknownDocument(e,t){return new nm(e,3,t,Kf.min(),Kf.min(),tm.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tm.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tm.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kf.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nm&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nm(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class rm{constructor(e,t){this.position=e,this.inclusive=t}}function im(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Yf.comparator(Yf.fromName(o.referenceValue),n.key):Kp(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zp(e.position[n],t.position[n]))return!1;return!0}class om{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function am(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class lm{}class cm extends lm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ym(e,t,n):"array-contains"===t?new xm(e,n):"in"===t?new Sm(e,n):"not-in"===t?new Em(e,n):"array-contains-any"===t?new _m(e,n):new cm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vm(e,n):new bm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Kp(t,this.value)):null!==t&&Bp(this.value)===Bp(t)&&this.matchesComparison(Kp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class um extends lm{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new um(e,t)}matches(e){return hm(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function hm(e){return"and"===e.op}function dm(e){return fm(e)&&hm(e)}function fm(e){for(const t of e.filters)if(t instanceof um)return!1;return!0}function pm(e){if(e instanceof cm)return e.field.canonicalString()+e.op.toString()+Hp(e.value);if(dm(e))return e.filters.map((e=>pm(e))).join(",");{const t=e.filters.map((e=>pm(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function mm(e,t){return e instanceof cm?function(e,t){return t instanceof cm&&e.op===t.op&&e.field.isEqual(t.field)&&zp(e.value,t.value)}(e,t):e instanceof um?function(e,t){return t instanceof um&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&mm(n,t.filters[r])),!0)}(e,t):void kf()}function gm(e){return e instanceof cm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hp(e.value))}(e):e instanceof um?function(e){return e.op.toString()+" {"+e.getFilters().map(gm).join(" ,")+"}"}(e):"Filter"}class ym extends cm{constructor(e,t,n){super(e,t,n),this.key=Yf.fromName(n.referenceValue)}matches(e){const t=Yf.comparator(e.key,this.key);return this.matchesComparison(t)}}class vm extends cm{constructor(e,t){super(e,"in",t),this.keys=wm("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bm extends cm{constructor(e,t){super(e,"not-in",t),this.keys=wm("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Yf.fromName(e.referenceValue)))}class xm extends cm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&qp(t.arrayValue,this.value)}}class Sm extends cm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qp(this.value.arrayValue,t)}}class Em extends cm{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qp(this.value.arrayValue,t)}}class _m extends cm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qp(this.value.arrayValue,e)))}}class Tm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function km(e){return new Tm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cm(e){const t=If(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pm(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),mp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Hp(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Hp(e))).join(",")),t.ce=e}return t.ce}function Im(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!am(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sm(e.startAt,t.startAt)&&sm(e.endAt,t.endAt)}function Am(e){return Yf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Nm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Dm(e,t,n,r,i,s,o,a){return new Nm(e,t,n,r,i,s,o,a)}function Rm(e){return new Nm(e)}function jm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Om(e){return null!==e.collectionGroup}function Pm(e){const t=If(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new kp(Qf.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new om(r,n))})),e.has(Qf.keyField().canonicalString())||t.le.push(new om(Qf.keyField(),n))}return t.le}function Lm(e){const t=If(e);return t.he||(t.he=Mm(t,Pm(e))),t.he}function Mm(e,t){if("F"===e.limitType)return km(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new om(e.field,t)}));const n=e.endAt?new rm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rm(e.startAt.position,e.startAt.inclusive):null;return km(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fm(e,t,n){return new Nm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vm(e,t){return Im(Lm(e),Lm(t))&&e.limitType===t.limitType}function Um(e){return"".concat(Cm(Lm(e)),"|lt:").concat(e.limitType)}function Bm(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>gm(e))).join(", "),"]")),mp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Hp(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Hp(e))).join(",")),"Target(".concat(t,")")}(Lm(e)),"; limitType=").concat(e.limitType,")")}function zm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Pm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=im(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Pm(e),t))&&!(e.endAt&&!function(e,t,n){const r=im(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Pm(e),t))}(e,t)}function qm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Km(e){return(t,n)=>{let r=!1;for(const i of Pm(e)){const e=Gm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gm(e,t,n){const r=e.field.isKeyField()?Yf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kp(r,i):kf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return kf()}}class Hm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xp(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Sp(this.inner)}size(){return this.innerSize}}const Wm=new Ep(Yf.comparator);function Qm(){return Wm}const Ym=new Ep(Yf.comparator);function Xm(){let e=Ym;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Jm(e){let t=Ym;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $m(){return eg()}function Zm(){return eg()}function eg(){return new Hm((e=>e.toString()),((e,t)=>e.isEqual(t)))}new Ep(Yf.comparator);const tg=new kp(Yf.comparator);function ng(){let e=tg;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rg=new kp(Bf);function ig(){return rg}function sg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gp(t)?"-0":t}}function og(e){return{integerValue:""+e}}class ag{constructor(){this._=void 0}}function lg(e,t,n){return e instanceof hg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pp(t)&&(t=Lp(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dg?fg(e,t):e instanceof pg?mg(e,t):function(e,t){const n=ug(e,t),r=yg(n)+yg(e.Ie);return Qp(n)&&Qp(e.Ie)?og(r):sg(e.serializer,r)}(e,t)}function cg(e,t,n){return e instanceof dg?fg(e,t):e instanceof pg?mg(e,t):n}function ug(e,t){return e instanceof gg?function(e){return Qp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class hg extends ag{}class dg extends ag{constructor(e){super(),this.elements=e}}function fg(e,t){const n=vg(t);for(const r of e.elements)n.some((e=>zp(e,r)))||n.push(r);return{arrayValue:{values:n}}}class pg extends ag{constructor(e){super(),this.elements=e}}function mg(e,t){let n=vg(t);for(const r of e.elements)n=n.filter((e=>!zp(e,r)));return{arrayValue:{values:n}}}class gg extends ag{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function yg(e){return jp(e.integerValue||e.doubleValue)}function vg(e){return Yp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bg}static exists(e){return new bg(void 0,e)}static updateTime(e){return new bg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xg{}function Sg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dg(e.key,bg.none()):new kg(e.key,e.data,bg.none());{const n=e.data,r=tm.empty();let i=new kp(Qf.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cg(e.key,r,new Ip(i.toArray()),bg.none())}}function Eg(e,t,n){e instanceof kg?function(e,t,n){const r=e.value.clone(),i=Ag(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cg?function(e,t,n){if(!wg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ag(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ig(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _g(e,t,n,r){return e instanceof kg?function(e,t,n,r){if(!wg(e.precondition,t))return n;const i=e.value.clone(),s=Ng(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cg?function(e,t,n,r){if(!wg(e.precondition,t))return n;const i=Ng(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ig(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dg&&t instanceof dg||e instanceof pg&&t instanceof pg?zf(e.elements,t.elements,zp):e instanceof gg&&t instanceof gg?zp(e.Ie,t.Ie):e instanceof hg&&t instanceof hg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kg extends xg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cg extends xg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ig(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ag(e,t,n){const r=new Map;Cf(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,cg(o,a,n[i]))}return r}function Ng(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,lg(e,s,t))}return r}class Dg extends xg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Eg(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_g(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_g(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Zm();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Sg(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Kf.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ng())}isEqual(e){return this.batchId===e.batchId&&zf(this.mutations,e.mutations,((e,t)=>Tg(e,t)))&&zf(this.baseMutations,e.baseMutations,((e,t)=>Tg(e,t)))}}class jg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Og{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pg,Lg;function Mg(e){if(void 0===e)return Ef("GRPC error has no .code"),Af.UNKNOWN;switch(e){case Pg.OK:return Af.OK;case Pg.CANCELLED:return Af.CANCELLED;case Pg.UNKNOWN:return Af.UNKNOWN;case Pg.DEADLINE_EXCEEDED:return Af.DEADLINE_EXCEEDED;case Pg.RESOURCE_EXHAUSTED:return Af.RESOURCE_EXHAUSTED;case Pg.INTERNAL:return Af.INTERNAL;case Pg.UNAVAILABLE:return Af.UNAVAILABLE;case Pg.UNAUTHENTICATED:return Af.UNAUTHENTICATED;case Pg.INVALID_ARGUMENT:return Af.INVALID_ARGUMENT;case Pg.NOT_FOUND:return Af.NOT_FOUND;case Pg.ALREADY_EXISTS:return Af.ALREADY_EXISTS;case Pg.PERMISSION_DENIED:return Af.PERMISSION_DENIED;case Pg.FAILED_PRECONDITION:return Af.FAILED_PRECONDITION;case Pg.ABORTED:return Af.ABORTED;case Pg.OUT_OF_RANGE:return Af.OUT_OF_RANGE;case Pg.UNIMPLEMENTED:return Af.UNIMPLEMENTED;case Pg.DATA_LOSS:return Af.DATA_LOSS;default:return kf()}}(Lg=Pg||(Pg={}))[Lg.OK=0]="OK",Lg[Lg.CANCELLED=1]="CANCELLED",Lg[Lg.UNKNOWN=2]="UNKNOWN",Lg[Lg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lg[Lg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lg[Lg.NOT_FOUND=5]="NOT_FOUND",Lg[Lg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lg[Lg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lg[Lg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lg[Lg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lg[Lg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lg[Lg.ABORTED=10]="ABORTED",Lg[Lg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lg[Lg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lg[Lg.INTERNAL=13]="INTERNAL",Lg[Lg.UNAVAILABLE=14]="UNAVAILABLE",Lg[Lg.DATA_LOSS=15]="DATA_LOSS";let Fg=null;function Vg(){return new TextEncoder}const Ug=new gf([4294967295,4294967295],0);function Bg(e){const t=Vg().encode(e),n=new mf;return n.update(t),new Uint8Array(n.digest())}function zg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new gf([n,r],0),new gf([i,s],0)]}class qg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Kg("Invalid padding: ".concat(t));if(n<0)throw new Kg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Kg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Kg("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=gf.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(gf.fromNumber(n)));return 1===r.compare(Ug)&&(r=new gf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Bg(e),[n,r]=zg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new qg(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Bg(e),[n,r]=zg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Gg(Kf.min(),r,new Ep(Bf),Qm(),ng())}}class Hg{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hg(n,t,ng(),ng(),ng())}}class Wg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Qg{constructor(e,t){this.targetId=e,this.fe=t}}class Yg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Np.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xg{constructor(){this.ge=0,this.pe=Zg(),this.ye=Np.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ng(),t=ng(),n=ng();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:kf()}})),new Hg(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Zg()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Cf(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Jg{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qm(),this.Qe=$g(),this.Ke=new Ep(Bf)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:kf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Am(i))if(0===n){const e=new Yf(i.path);this.We(t,e,nm.newNoDocument(e,Kf.min()))}else Cf(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Fg||Fg.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Op(n).toUint8Array()}catch(e){if(e instanceof Ap)return _f("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new qg(s,r,i)}catch(e){return _f(e instanceof Kg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Am(i.target)){const t=new Yf(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,nm.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=ng();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Gg(e,t,this.Ke,this.qe,n);return this.qe=Qm(),this.Qe=$g(),this.Ke=new Ep(Bf),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Xg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new kp(Bf),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Sf("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Xg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $g(){return new Ep(Yf.comparator)}function Zg(){return new Ep(Yf.comparator)}const ey={asc:"ASCENDING",desc:"DESCENDING"},ty={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ny={and:"AND",or:"OR"};class ry{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function iy(e,t){return e.useProto3Json||mp(t)?t:{value:t}}function sy(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ay(e){return Cf(!!e),Kf.fromTimestamp(function(e){const t=Rp(e);return new qf(t.seconds,t.nanos)}(e))}function ly(e,t){return cy(e,t).canonicalString()}function cy(e,t){const n=function(e){return new Hf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function uy(e){const t=Hf.fromString(e);return Cf(ky(t)),t}function hy(e,t){const n=uy(t);if(n.get(1)!==e.databaseId.projectId)throw new Nf(Af.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nf(Af.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yf(my(n))}function dy(e,t){return ly(e.databaseId,t)}function fy(e){const t=uy(e);return 4===t.length?Hf.emptyPath():my(t)}function py(e){return new Hf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function my(e){return Cf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gy(e,t){return{documents:[dy(e,t.path)]}}function yy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dy(e,i);const s=function(e){if(0!==e.length)return Ty(um.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ey(e.field),direction:wy(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=iy(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function vy(e){let t=fy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=by(e);return t instanceof um&&dm(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new om(_y(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new rm(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new rm(n,t)}(n.endAt)),Dm(t,i,o,s,a,"F",l,c)}function by(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_y(e.unaryFilter.field);return cm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_y(e.unaryFilter.field);return cm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_y(e.unaryFilter.field);return cm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_y(e.unaryFilter.field);return cm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return kf()}}(e):void 0!==e.fieldFilter?function(e){return cm.create(_y(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return um.create(e.compositeFilter.filters.map((e=>by(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return kf()}}(e.compositeFilter.op))}(e):kf()}function wy(e){return ey[e]}function xy(e){return ty[e]}function Sy(e){return ny[e]}function Ey(e){return{fieldPath:e.canonicalString()}}function _y(e){return Qf.fromServerFormat(e.fieldPath)}function Ty(e){return e instanceof cm?function(e){if("=="===e.op){if(Jp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NAN"}};if(Xp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NOT_NAN"}};if(Xp(e.value))return{unaryFilter:{field:Ey(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ey(e.field),op:xy(e.op),value:e.value}}}(e):e instanceof um?function(e){const t=e.getFilters().map((e=>Ty(e)));return 1===t.length?t[0]:{compositeFilter:{op:Sy(e.op),filters:t}}}(e):kf()}function ky(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kf.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kf.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Np.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Cy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Iy{constructor(e){this.ct=e}}function Ay(e){const t=vy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fm(t,t.limit,"L"):t}class Ny{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(jp(e.integerValue));else if("doubleValue"in e){const n=jp(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),gp(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Op(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?em(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):kf()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Yf.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Ny.bt=new Ny;class Dy{constructor(){this._n=new Ry}addToCollectionParentIndex(e,t){return this._n.add(t),ip.resolve()}getCollectionParents(e,t){return ip.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ip.resolve()}deleteFieldIndex(e,t){return ip.resolve()}deleteAllFieldIndexes(e){return ip.resolve()}createTargetIndexes(e,t){return ip.resolve()}getDocumentsMatchingTarget(e,t){return ip.resolve(null)}getIndexType(e,t){return ip.resolve(0)}getFieldIndexes(e,t){return ip.resolve([])}getNextCollectionGroupToUpdate(e){return ip.resolve(null)}getMinOffset(e,t){return ip.resolve(Zf.min())}getMinOffsetFromCollectionGroup(e,t){return ip.resolve(Zf.min())}updateCollectionGroup(e,t,n){return ip.resolve()}updateIndexEntries(e,t){return ip.resolve()}}class Ry{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kp(Hf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new kp(Hf.comparator)).toArray()}}new Uint8Array(0);class jy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new jy(e,jy.DEFAULT_COLLECTION_PERCENTILE,jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jy.DEFAULT_COLLECTION_PERCENTILE=10,jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jy.DEFAULT=new jy(41943040,jy.DEFAULT_COLLECTION_PERCENTILE,jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jy.DISABLED=new jy(-1,0,0);class Oy{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Oy(0)}static Bn(){return new Oy(-1)}}class Py{constructor(){this.changes=new Hm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nm.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ip.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ly{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class My{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&_g(n.mutation,e,Ip.empty(),qf.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ng()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ng();const r=$m();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Xm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$m();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ng())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Qm();const s=eg(),o=eg();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cg)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),_g(o.mutation,t,o.mutation.getFieldMask(),qf.now())):s.set(t.key,Ip.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Ly(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=eg();let r=new Ep(((e,t)=>e-t)),i=ng();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ip.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ng()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Zm();l.forEach((e=>{if(!i.has(e)){const r=Sg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ip.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Yf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Om(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ip.resolve($m());let o=-1,a=i;return s.next((t=>ip.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ip.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ng()))).next((e=>({batchId:o,changes:Jm(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yf(t)).next((e=>{let t=Xm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Xm();return this.indexManager.getCollectionParents(e,i).next((o=>ip.forEach(o,(o=>{const a=function(e,t){return new Nm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,nm.newInvalidDocument(r)))}));let n=Xm();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&_g(s.mutation,r,Ip.empty(),qf.now()),zm(t,r)&&(n=n.insert(e,r))})),n}))}}class Fy{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ip.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ay(e.createTime)}}(t)),ip.resolve()}getNamedQuery(e,t){return ip.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ay(e.bundledQuery),readTime:ay(e.readTime)}}(t)),ip.resolve()}}class Vy{constructor(){this.overlays=new Ep(Yf.comparator),this.hr=new Map}getOverlay(e,t){return ip.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$m();return ip.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ip.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ip.resolve()}getOverlaysForCollection(e,t,n){const r=$m(),i=t.length+1,s=new Yf(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ip.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ep(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=$m(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=$m(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ip.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jg(t,n));let i=this.hr.get(t);void 0===i&&(i=ng(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Uy{constructor(){this.Pr=new kp(By.Ir),this.Tr=new kp(By.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new By(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new By(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Yf(new Hf([])),n=new By(t,e),r=new By(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Yf(new Hf([])),n=new By(t,e),r=new By(t,e+1);let i=ng();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new By(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class By{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Yf.comparator(e.key,t.key)||Bf(e.pr,t.pr)}static Er(e,t){return Bf(e.pr,t.pr)||Yf.comparator(e.key,t.key)}}class zy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new kp(By.Ir)}checkEmpty(e){return ip.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rg(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new By(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ip.resolve(s)}lookupMutationBatch(e,t){return ip.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ip.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ip.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ip.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new By(t,0),r=new By(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ip.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kp(Bf);return t.forEach((e=>{const t=new By(e,0),r=new By(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ip.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Yf.isDocumentKey(i)||(i=i.child(""));const s=new By(new Yf(i),0);let o=new kp(Bf);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),ip.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Cf(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ip.forEach(t.mutations,(r=>{const i=new By(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new By(t,0),r=this.wr.firstAfterOrEqual(n);return ip.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ip.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qy{constructor(e){this.vr=e,this.docs=new Ep(Yf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ip.resolve(n?n.document.mutableCopy():nm.newInvalidDocument(t))}getEntries(e,t){let n=Qm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nm.newInvalidDocument(e))})),ip.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Qm();const s=t.path,o=new Yf(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ep($f(o),n)<=0||(r.has(o.key)||zm(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ip.resolve(i)}getAllFromCollectionGroup(e,t,n,r){kf()}Fr(e,t){return ip.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ky(this)}getSize(e){return ip.resolve(this.size)}}class Ky extends Py{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ip.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Gy{constructor(e){this.persistence=e,this.Mr=new Hm((e=>Cm(e)),Im),this.lastRemoteSnapshotVersion=Kf.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Uy,this.targetCount=0,this.Br=Oy.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ip.resolve()}getLastRemoteSnapshotVersion(e){return ip.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ip.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ip.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ip.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Oy(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ip.resolve()}updateTargetData(e,t){return this.qn(t),ip.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ip.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ip.waitFor(i).next((()=>r))}getTargetCount(e){return ip.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ip.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ip.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ip.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ip.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ip.resolve(n)}containsKey(e,t){return ip.resolve(this.Nr.containsKey(t))}}class Hy{constructor(e,t){this.Lr={},this.overlays={},this.kr=new pp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Gy(this),this.indexManager=new Dy,this.remoteDocumentCache=function(e){return new qy(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Iy(t),this.$r=new Fy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new zy(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Sf("MemoryPersistence","Starting transaction:",e);const r=new Wy(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ip.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Wy extends np{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.zr=new Uy,this.jr=null}static Hr(e){return new Qy(e)}get Jr(){if(this.jr)return this.jr;throw kf()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ip.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ip.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ip.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ip.forEach(this.Jr,(n=>{const r=Yf.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Kf.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ip.or([()=>ip.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Yy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=ng(),r=ng();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Yy(e,t.fromCache,n,r)}}class Xy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jy{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=pl()?8:op.v(fl())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Xy;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(xf()<=xl.DEBUG&&Sf("QueryEngine","SDK will not create cache indexes for query:",Bm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ip.resolve()):(xf()<=xl.DEBUG&&Sf("QueryEngine","Query:",Bm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(xf()<=xl.DEBUG&&Sf("QueryEngine","The SDK decides to create cache indexes for query:",Bm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lm(t))):ip.resolve())}ji(e,t){if(jm(t))return ip.resolve(null);let n=Lm(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Fm(t,null,"F"),n=Lm(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ng(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Fm(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return jm(t)||r.isEqual(Kf.min())?ip.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?ip.resolve(null):(xf()<=xl.DEBUG&&Sf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bm(t)),this.es(e,s,t,Jf(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new kp(Km(e));return t.forEach(((t,r)=>{zm(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return xf()<=xl.DEBUG&&Sf("QueryEngine","Using full collection scan to execute query:",Bm(t)),this.zi.getDocumentsMatchingQuery(e,t,Zf.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class $y{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Ep(Bf),this.rs=new Hm((e=>Cm(e)),Im),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new My(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Zy(e,t,n,r){return new $y(e,t,n,r)}async function ev(e,t){const n=If(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ng();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function tv(e){const t=If(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function nv(e,t,n){let r=ng(),i=ng();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Qm();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Kf.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Sf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function rv(e,t){const n=If(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ip.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Cy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function iv(e,t,n){const r=If(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!cp(e))throw e;Sf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function sv(e,t,n){const r=If(e);let i=Kf.min(),s=ng();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=If(e),i=r.rs.get(n);return void 0!==i?ip.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Lm(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Kf.min(),n?s:ng()))).next((e=>(ov(r,qm(t),e),{documents:e,hs:s})))))}function ov(e,t,n){let r=e.ss.get(t)||Kf.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class av{constructor(){this.activeTargetIds=ig()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lv{constructor(){this.no=new av,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new av,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cv{io(e){}shutdown(){}}class uv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Sf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Sf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hv=null;function dv(){return null===hv?hv=268435456+Math.round(2147483648*Math.random()):hv++,"0x"+hv.toString(16)}const fv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pv{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const mv="WebChannelConnection";class gv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=dv(),o=this.bo(e,t.toUriEncodedString());Sf("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(Sf("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw _f("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=fv[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=dv();return new Promise(((s,o)=>{const a=new pf;a.setWithCredentials(!0),a.listenOnce(uf.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case cf.NO_ERROR:const t=a.getResponseJson();Sf(mv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case cf.TIMEOUT:Sf(mv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Nf(Af.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const n=a.getStatus();if(Sf(mv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Af).indexOf(t)>=0?t:Af.UNKNOWN}(t.status);o(new Nf(e,t.message))}else o(new Nf(Af.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nf(Af.UNAVAILABLE,"Connection failed."));break;default:kf()}}finally{Sf(mv,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Sf(mv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=dv(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=af(),o=lf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Sf(mv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new pv({lo:t=>{d?Sf(mv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Sf(mv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Sf(mv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ff.EventType.OPEN,(()=>{d||Sf(mv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,ff.EventType.CLOSE,(()=>{d||(d=!0,Sf(mv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,ff.EventType.ERROR,(t=>{d||(d=!0,_f(mv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Nf(Af.UNAVAILABLE,"The operation could not be completed")))})),p(u,ff.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Cf(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Sf(mv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Pg[e];if(void 0!==t)return Mg(t)}(t),i=o.message;void 0===n&&(n=Af.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new Nf(n,i)),u.close()}else Sf(mv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,hf.STAT_EVENT,(t=>{t.stat===df.PROXY?Sf(mv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===df.NOPROXY&&Sf(mv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function yv(){return"undefined"!=typeof document?document:null}function vv(e){return new ry(e,!0)}class bv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Sf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class wv{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new bv(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Af.RESOURCE_EXHAUSTED?(Ef(t.toString()),Ef("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Af.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Nf(Af.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Sf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Sf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xv extends wv{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:kf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Cf(void 0===t||"string"==typeof t),Np.fromBase64String(t||"")):(Cf(void 0===t||t instanceof Uint8Array),Np.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Af.UNKNOWN:Mg(e.code);return new Nf(t,e.message||"")}(o);n=new Yg(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hy(e,r.document.name),s=ay(r.document.updateTime),o=r.document.createTime?ay(r.document.createTime):Kf.min(),a=new tm({mapValue:{fields:r.document.fields}}),l=nm.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hy(e,r.document),s=r.readTime?ay(r.readTime):Kf.min(),o=nm.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wg([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hy(e,r.document),s=r.removedTargetIds||[];n=new Wg([],s,i,null)}else{if(!("filter"in t))return kf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Og(r,i),o=e.targetId;n=new Qg(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kf.min():t.readTime?ay(t.readTime):Kf.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=py(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Am(r)?{documents:gy(e,r)}:{query:yy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=oy(e,t.resumeToken);const r=iy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kf.min())>0){n.readTime=sy(e,t.snapshotVersion.toTimestamp());const r=iy(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=py(this.serializer),t.removeTarget=e,this.t_(t)}}class Sv extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Nf(Af.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,cy(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Af.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nf(Af.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,cy(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Af.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nf(Af.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Ev{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ef(t),this.g_=!1):Sf("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class _v{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{jv(this)&&(Sf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=If(e);t.v_.add(4),await kv(t),t.x_.set("Unknown"),t.v_.delete(4),await Tv(t)}(this))}))})),this.x_=new Ev(n,r)}}async function Tv(e){if(jv(e))for(const t of e.F_)await t(!0)}async function kv(e){for(const t of e.F_)await t(!1)}function Cv(e,t){const n=If(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Rv(n)?Dv(n):Bv(n).Jo()&&Av(n,t))}function Iv(e,t){const n=If(e),r=Bv(n);n.C_.delete(t),r.Jo()&&Nv(n,t),0===n.C_.size&&(r.Jo()?r.Xo():jv(n)&&n.x_.set("Unknown"))}function Av(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kf.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bv(e).c_(t)}function Nv(e,t){e.O_.Oe(t),Bv(e).l_(t)}function Dv(e){e.O_=new Jg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Bv(e).start(),e.x_.p_()}function Rv(e){return jv(e)&&!Bv(e).Ho()&&e.C_.size>0}function jv(e){return 0===If(e).v_.size}function Ov(e){e.O_=void 0}async function Pv(e){e.C_.forEach(((t,n)=>{Av(e,t)}))}async function Lv(e,t){Ov(e),Rv(e)?(e.x_.S_(t),Dv(e)):e.x_.set("Unknown")}async function Mv(e,t,n){if(e.x_.set("Online"),t instanceof Yg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Sf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fv(e,n)}else if(t instanceof Wg?e.O_.$e(t):t instanceof Qg?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Kf.min()))try{const t=await tv(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Np.EMPTY_BYTE_STRING,r.snapshotVersion)),Nv(e,t);const i=new Cy(r.target,t,n,r.sequenceNumber);Av(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sf("RemoteStore","Failed to raise snapshot:",t),await Fv(e,t)}}async function Fv(e,t,n){if(!cp(t))throw t;e.v_.add(1),await kv(e),e.x_.set("Offline"),n||(n=()=>tv(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sf("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Tv(e)}))}async function Vv(e,t){const n=If(e);n.asyncQueue.verifyOperationInProgress(),Sf("RemoteStore","RemoteStore received new credentials");const r=jv(n);n.v_.add(3),await kv(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Tv(n)}async function Uv(e,t){const n=If(e);t?(n.v_.delete(2),await Tv(n)):t||(n.v_.add(2),await kv(n),n.x_.set("Unknown"))}function Bv(e){return e.N_||(e.N_=function(e,t,n){const r=If(e);return r.R_(),new xv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Pv.bind(null,e),To:Lv.bind(null,e),u_:Mv.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Rv(e)?Dv(e):e.x_.set("Unknown")):(await e.N_.stop(),Ov(e))}))),e.N_}class zv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Df,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new zv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nf(Af.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(e,t){if(Ef("AsyncQueue","".concat(t,": ").concat(e)),cp(e))return new Nf(Af.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Kv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Yf.comparator(t.key,n.key):(e,t)=>Yf.comparator(e.key,t.key),this.keyedMap=Xm(),this.sortedSet=new Ep(this.comparator)}static emptySet(e){return new Kv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Kv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gv{constructor(){this.L_=new Ep(Yf.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):kf():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hv{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Hv(e,t,Kv.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wv{constructor(){this.q_=void 0,this.Q_=[]}}class Qv{constructor(){this.queries=new Hm((e=>Um(e)),Vm),this.onlineState="Unknown",this.K_=new Set}}async function Yv(e,t){const n=If(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Wv),i)try{s.q_=await n.onListen(r)}catch(e){const n=qv(e,"Initialization of query '".concat(Bm(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&Zv(n)}async function Xv(e,t){const n=If(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Jv(e,t){const n=If(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Zv(n)}function $v(e,t,n){const r=If(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Zv(e){e.K_.forEach((e=>{e.next()}))}class eb{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Hv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class rb{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ng(),this.mutatedKeys=ng(),this.ua=Km(e),this.ca=new Kv(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Gv,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=zm(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kf()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new Hv(this.query,e.ca,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Gv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ng(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new nb(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new tb(n))})),t}Ra(e){this.oa=e.hs,this.aa=ng();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Hv.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class ib{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sb{constructor(e){this.key=e,this.ma=!1}}class ob{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Hm((e=>Um(e)),Vm),this.pa=new Map,this.ya=new Set,this.wa=new Ep(Yf.comparator),this.Sa=new Map,this.ba=new Uy,this.Da={},this.Ca=new Map,this.va=Oy.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function ab(e,t){const n=xb(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await rv(n.localStore,Lm(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await lb(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Cv(n.remoteStore,e)}return i}async function lb(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await sv(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return mb(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await sv(e.localStore,t,!0),o=new rb(t,s.hs),a=o.ha(s.documents),l=Hg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);mb(e,n,c.da);const u=new ib(t,n,o);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function cb(e,t){const n=If(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Vm(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iv(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Iv(n.remoteStore,r.targetId),fb(n,r.targetId)})).catch(rp)):(fb(n,r.targetId),await iv(n.localStore,r.targetId,!0))}async function ub(e,t){const n=If(e);try{const e=await function(e,t){const n=If(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Np.EMPTY_BYTE_STRING,Kf.min()).withLastLimboFreeSnapshotVersion(Kf.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=Qm(),l=ng();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(nv(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Kf.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ip.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Cf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Cf(r.ma):e.removedDocuments.size>0&&(Cf(r.ma),r.ma=!1))})),await vb(n,e,t)}catch(e){await rp(e)}}function hb(e,t,n){const r=If(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=If(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Zv(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function db(e,t,n){const r=If(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Ep(Yf.comparator);e=e.insert(s,nm.newNoDocument(s,Kf.min()));const n=ng().add(s),i=new Gg(Kf.min(),new Map,new Ep(Bf),e,n);await ub(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),yb(r)}else await iv(r.localStore,t,!1).then((()=>fb(r,t,n))).catch(rp)}function fb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||pb(e,t)}))}function pb(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Iv(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),yb(e))}function mb(e,t,n){for(const r of n)r instanceof tb?(e.ba.addReference(r.key,t),gb(e,r)):r instanceof nb?(Sf("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||pb(e,r.key)):kf()}function gb(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Sf("SyncEngine","New document in limbo: "+n),e.ya.add(r),yb(e))}function yb(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Yf(Hf.fromString(t)),r=e.va.next();e.Sa.set(r,new sb(n)),e.wa=e.wa.insert(n,r),Cv(e.remoteStore,new Cy(Lm(Rm(n.path)),r,"TargetPurposeLimboResolution",pp._e))}}async function vb(e,t,n){const r=If(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Yy.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=If(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ip.forEach(t,(t=>ip.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ip.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!cp(e))throw e;Sf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function bb(e,t){const n=If(e);if(!n.currentUser.isEqual(t)){Sf("SyncEngine","User change. New user:",t.toKey());const e=await ev(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Nf(Af.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await vb(n,e.us)}}function wb(e,t){const n=If(e),r=n.Sa.get(t);if(r&&r.ma)return ng().add(r.key);{let e=ng();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function xb(e){const t=If(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=db.bind(null,t),t.fa.u_=Jv.bind(null,t.eventManager),t.fa.xa=$v.bind(null,t.eventManager),t}class Sb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Zy(this.persistence,new Jy,e.initialUser,this.serializer)}createPersistence(e){return new Hy(Qy.Hr,this.serializer)}createSharedClientState(e){return new lv}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Eb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>hb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bb.bind(null,this.syncEngine),await Uv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qv}createDatastore(e){const t=vv(e.databaseInfo.databaseId),n=function(e){return new gv(e)}(e.databaseInfo);return function(e,t,n,r){return new Sv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _v(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>hb(this.syncEngine,e,0)),uv.D()?new uv:new cv)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ob(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=If(e);Sf("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await kv(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ef("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tb{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vf.UNAUTHENTICATED,this.clientId=Uf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Sf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nf(Af.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Df;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kb(e,t){e.asyncQueue.verifyOperationInProgress(),Sf("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ev(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Cb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ab(e);Sf("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Vv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Vv(t.remoteStore,n))),e._onlineComponents=t}function Ib(e){return"FirebaseError"===e.name?e.code===Af.FAILED_PRECONDITION||e.code===Af.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Ab(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sf("FirestoreClient","Using user provided OfflineComponentProvider");try{await kb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Ib(n))throw n;_f("Error using user provided cache. Falling back to memory cache: "+n),await kb(e,new Sb)}}else Sf("FirestoreClient","Using default OfflineComponentProvider"),await kb(e,new Sb);return e._offlineComponents}async function Nb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sf("FirestoreClient","Using user provided OnlineComponentProvider"),await Cb(e,e._uninitializedComponentsProvider._online)):(Sf("FirestoreClient","Using default OnlineComponentProvider"),await Cb(e,new Eb))),e._onlineComponents}async function Db(e){const t=await Nb(e),n=t.eventManager;return n.onListen=ab.bind(null,t.syncEngine),n.onUnlisten=cb.bind(null,t.syncEngine),n}function Rb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Df;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new _b({next:n=>{t.enqueueAndForget((()=>Xv(e,o))),n.fromCache&&"server"===r.source?i.reject(new Nf(Af.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new eb(n,s,{includeMetadataChanges:!0,Z_:!0});return Yv(e,o)}(await Db(e),e.asyncQueue,t,n,r))),r.promise}function jb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ob=new Map;function Pb(e,t,n){if(!n)throw new Nf(Af.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Lb(e){if(Yf.isDocumentKey(e))throw new Nf(Af.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":kf()}function Fb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nf(Af.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mb(e);throw new Nf(Af.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Vb{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nf(Af.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nf(Af.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Nf(Af.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nf(Af.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Nf(Af.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Nf(Af.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ub{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nf(Af.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nf(Af.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jf;switch(e.type){case"firstParty":return new Lf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nf(Af.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ob.get(e);t&&(Sf("ComponentProvider","Removing Datastore"),Ob.delete(e),t.terminate())}(this),Promise.resolve()}}class Bb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bb(this.firestore,e,this._query)}}class zb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zb(this.firestore,e,this._key)}}class qb extends Bb{constructor(e,t,n){super(e,t,Rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zb(this.firestore,null,new Yf(e))}withConverter(e){return new qb(this.firestore,e,this._path)}}class Kb{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new bv(this,"async_queue_retry"),this._u=()=>{const e=yv();e&&Sf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=yv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=yv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Df;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!cp(e))throw e;Sf("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ef("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=zv.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&kf()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class Gb extends Ub{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Kb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wb(this),this._firestoreClient.terminate()}}function Hb(e){return e._firestoreClient||Wb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Fp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Tb(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Qb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qb(Np.fromBase64String(e))}catch(e){throw new Nf(Af.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Qb(Np.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Nf(Af.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nf(Af.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nf(Af.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bf(this._lat,e._lat)||Bf(this._long,e._long)}}const Jb=new RegExp("[~\\*/\\[\\]]");function $b(e,t,n){if(t.search(Jb)>=0)throw Zb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Yb(...t.split("."))._internalPath}catch(Rt){throw Zb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Nf(Af.INVALID_ARGUMENT,a+e+l)}class ew{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tw extends ew{data(){return super.data()}}function nw(e,t){return"string"==typeof t?$b(e,t):t instanceof Yb?t._internalPath:t._delegate._internalPath}function rw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nf(Af.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Op(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw kf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xp(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Xb(jp(e.latitude),jp(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=Rp(e);return new qf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Hf.fromString(e);Cf(ky(n));const r=new Vp(n.get(1),n.get(3)),i=new Yf(n.popFirst(5));return r.isEqual(t)||Ef("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class sw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ow extends ew{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new aw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(nw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class aw extends ow{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new aw(this._firestore,this._userDataWriter,n.key,n,new sw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nf(Af.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new aw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new aw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kf()}}class uw extends iw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zb(this.firestore,null,t)}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bf=e}("10.8.0"),Ll(new bl("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Gb(new Of(e.getProvider("auth-internal")),new Ff(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nf(Af.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vp(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Fl(yf,"4.4.2",e),Fl(yf,"4.4.2","esm2017")}();var hw=n(9728);const dw=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{const e=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(s=e)&&s._delegate?s._delegate:s,Pb("collection","path",t),e instanceof Ub){const n=Hf.fromString(t,...r);return Lb(n),new qb(e,null,n)}var s;{if(!(e instanceof zb||e instanceof qb))throw new Nf(Af.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hf.fromString(t,...r));return Lb(n),new qb(e.firestore,null,n)}}(hw.dbInstance,"nbaOdds"),t=await function(e){e=Fb(e,Bb);const t=Fb(e.firestore,Gb),n=Hb(t),r=new uw(t);return rw(e._query),Rb(n,e._query).then((n=>new lw(t,r,e,n)))}(e),r=t.docs.map((e=>e.data()));n(r)}catch(s){console.error("Error fetching NBA odds:",s),o("Error fetching NBA odds. Please try again later.")}finally{i(!1)}})()}),[]),(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{className:"Navbar"}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsx)("div",{className:"Betting-Odds-Header",children:(0,Tt.jsx)("h1",{className:"header-title",children:"NBA Betting Odds"})}),r&&(0,Tt.jsx)("p",{children:"Loading NBA odds..."}),s&&(0,Tt.jsx)("p",{style:{color:"red"},children:s}),!r&&!s&&(0,Tt.jsx)(sl,{oddsData:e})]})},fw=n.p+"static/media/hoop-logo.2247dc30e7f8a312dc5d.png";const pw=function(){return(0,Tt.jsxs)("div",{className:"definitions-container",children:[(0,Tt.jsx)("h2",{children:"Moneyline"}),(0,Tt.jsx)("p",{children:"The moneyline is a type of sports betting where you bet on which team will win a game outright. Positive and negative numbers indicate the odds of the underdog and favorite, respectively."}),(0,Tt.jsxs)("table",{className:"betting-table",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{children:"Matchup"}),(0,Tt.jsx)("th",{children:"Moneyline"})]})}),(0,Tt.jsxs)("tbody",{children:[(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Lakers"}),(0,Tt.jsx)("td",{children:"-140"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Celtics"}),(0,Tt.jsx)("td",{children:"+110"})]})]})]}),(0,Tt.jsx)("p",{children:"In the above example, the Lakers are favorites. You would need to bet $140 on the Lakers to win $100. Conversley, if you bet $100 on the Celtics you would win $110."}),(0,Tt.jsx)("h2",{children:"Spread (Point Spread)"}),(0,Tt.jsx)("p",{children:"The point spread is a handicap given to the underdog to make the two teams more evenly matched. Bettors can wager on whether the favorite will win by more than the set margin or if the underdog will lose by less."}),(0,Tt.jsxs)("table",{className:"betting-table",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{children:"Matchup"}),(0,Tt.jsx)("th",{children:"Spread"})]})}),(0,Tt.jsxs)("tbody",{children:[(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Lakers"}),(0,Tt.jsx)("td",{children:"-3.5 (-105)"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Celtics"}),(0,Tt.jsx)("td",{children:"+3.5 (-105)"})]})]})]}),(0,Tt.jsx)("p",{children:"The favorited team will be indicated with a negative value. The underdog will be indicated with a positive value. The value indicates how many points a team is favored to win/lose by. The odds are indicated in parenthesis."}),(0,Tt.jsx)("p",{children:'In this example the Lakers are favorites by 3.5 points.  If you bet on the Lakers to win the spread, they must win by at least 4 points ("cover the spread") in order for you to win. If the Lakers win by 3 points or less, the Celtics win the spread.'}),(0,Tt.jsx)("h2",{children:"Total (Over/Under)"}),(0,Tt.jsx)("p",{children:"The total is the combined score of both teams in a game. Bettors can wager on whether the actual total will be over or under the sportsbook's prediction."}),(0,Tt.jsxs)("table",{className:"betting-table",children:[(0,Tt.jsx)("thead",{children:(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("th",{children:"Matchup"}),(0,Tt.jsx)("th",{children:"Total"})]})}),(0,Tt.jsxs)("tbody",{children:[(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Lakers"}),(0,Tt.jsx)("td",{children:"o212.5 (-125)"})]}),(0,Tt.jsxs)("tr",{children:[(0,Tt.jsx)("td",{children:"Celtics"}),(0,Tt.jsx)("td",{children:"u212.5 (-105)"})]})]})]}),(0,Tt.jsx)("p",{children:'The point total will be given in the far right column and has no association with the individual team (the rows the numbers are in are arbitrary). The preceding "o" and "u" represent "over" and "under" the prediction respectively. The odds are again represented in parenthesis.'}),(0,Tt.jsx)("p",{children:"In this example the Total is 212.5. If the two teams combine for at least 213 points and you make a bet on the 'over', you win! Conversley, if they combine for 212 or less the 'under' wins."})]})};const mw=function(){return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsxs)("header",{className:"bettingGuide-header",children:[(0,Tt.jsx)("h1",{className:"header-title",children:"Betting Guide"}),(0,Tt.jsx)("img",{src:fw,alt:"Hoop Logo",className:"hoop-logo"})]}),(0,Tt.jsx)(pw,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsx)(kt,{})]})},gw=n.p+"static/media/Atlanta-Hawks-Logo.5c92d06784ce417bbd9c.jpg";function yw(e){return Es("MuiTableContainer",e)}_s("MuiTableContainer",["root"]);const vw=["className","component"],bw=bs("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),ww=t.forwardRef((function(e,t){const n=Ji({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,s=Nt(n,vw),o=Dt({},n,{component:i}),a=(e=>{const{classes:t}=e;return Ot({root:["root"]},yw,t)})(o);return(0,Tt.jsx)(bw,Dt({ref:t,as:i,className:jt(a.root,r),ownerState:o},s))})),xw=bs(Ks)((e=>{let{theme:t}=e;return{["&.".concat(Us.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(Us.body)]:{fontSize:20}}})),Sw=bs(ro)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),Ew=["Away ","Home ","West","East","Division","Opp Ov.500","Opp U.500","Rank"],_w=["PPG  ","FG%  ","3PT%","FT%","Off Reb PG","3pt PG","Ast PG","T.O PG","Off. Rank"],Tw=["Def Rebs","Steals","Blocks","Pnt. Allow. PG.","Def. 3%","Def. FG%","Defense Eff."];const kw=[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r={};return Ew.forEach(((e,n)=>{r[e]=t[n]})),_w.forEach(((e,n)=>{r[e]=t[Ew.length+n]})),Tw.forEach(((e,n)=>{r[e]=t[Ew.length+_w.length+n]})),r}("0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0","0.0")],Cw="Team Statistics";function Iw(){return(0,Tt.jsxs)(t.Fragment,{children:[(0,Tt.jsx)("div",{className:"table-title",children:Cw}),(0,Tt.jsx)(ww,{component:co,className:"table-container record-table",children:(0,Tt.jsxs)(Ns,{sx:{minWidth:700},"aria-label":"record table",className:"record-table",children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(xw,{className:"record-cell",children:"Team Record"}),Ew.map((e=>(0,Tt.jsx)(xw,{align:"right",className:"record-cell",children:e},e)))]})}),(0,Tt.jsx)(Ms,{children:kw.map(((e,t)=>(0,Tt.jsxs)(Sw,{children:[(0,Tt.jsx)(xw,{component:"th",scope:"row",className:"record-cell",children:"0-0"}),Ew.map((t=>(0,Tt.jsx)(xw,{align:"right",className:"record-cell",children:e[t]},t)))]},t)))})]})}),(0,Tt.jsx)(ww,{component:co,className:"table-container offense-table",children:(0,Tt.jsxs)(Ns,{sx:{minWidth:700},"aria-label":"offense table",children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(xw,{className:"offense-cell",children:"Offense Rank"}),_w.map((e=>(0,Tt.jsx)(xw,{align:"right",className:"offense-cell",children:e},e)))]})}),(0,Tt.jsx)(Ms,{children:kw.map(((e,t)=>(0,Tt.jsxs)(Sw,{children:[(0,Tt.jsx)(xw,{component:"th",scope:"row",className:"offense-cell",children:"1st"}),_w.map((t=>(0,Tt.jsx)(xw,{align:"right",className:"offense-cell",children:e[t]},t)))]},t)))})]})}),(0,Tt.jsx)(ww,{component:co,className:"table-container defense-table",children:(0,Tt.jsxs)(Ns,{sx:{minWidth:700},"aria-label":"defense table",children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(xw,{className:"defense-cell",children:"Defense Rank"}),Tw.map((e=>(0,Tt.jsx)(xw,{align:"right",className:"defense-cell",children:e},e)))]})}),(0,Tt.jsx)(Ms,{children:kw.map(((e,t)=>(0,Tt.jsxs)(Sw,{children:[(0,Tt.jsx)(xw,{component:"th",scope:"row",className:"defense-cell",children:"1st"}),Tw.map((t=>(0,Tt.jsx)(xw,{align:"right",className:"defense-cell",children:e[t]},t)))]},t)))})]})})]})}const Aw=bs(Ks)((e=>{let{theme:t}=e;return{["&.".concat(Us.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(Us.body)]:{fontSize:14}}})),Nw=bs(ro)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function Dw(e,t,n,r,i){return{player:e,number:t,pos:n,height:r,weight:i}}const Rw=[Dw("Henri Drell","#","F","6-9","220 lbs"),Dw("Coby White","#0","G","6-5","195 lbs"),Dw("Lonzo Ball","#2","G","6-6","190 lbs"),Dw("Andre Drummond","#3","C","6-11","279 lbs"),Dw("Jevon Carter","#5","G","6-1","279 lbs")],jw="Team Roster";function Ow(){return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"table-title",children:jw}),(0,Tt.jsx)(ww,{component:co,children:(0,Tt.jsxs)(Ns,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(Aw,{children:"PLAYER"}),(0,Tt.jsx)(Aw,{align:"right",children:"NO."}),(0,Tt.jsx)(Aw,{align:"right",children:"POS"}),(0,Tt.jsx)(Aw,{align:"right",children:"HEIGHT"}),(0,Tt.jsx)(Aw,{align:"right",children:"WEIGHT"})]})}),(0,Tt.jsx)(Ms,{children:Rw.map((e=>(0,Tt.jsxs)(Nw,{children:[(0,Tt.jsx)(Aw,{component:"th",scope:"row",children:e.player}),(0,Tt.jsx)(Aw,{align:"right",children:e.number}),(0,Tt.jsx)(Aw,{align:"right",children:e.pos}),(0,Tt.jsx)(Aw,{align:"right",children:e.height}),(0,Tt.jsx)(Aw,{align:"right",children:e.weight})]},e.player)))})]})})]})}const Pw=bs(Ks)((e=>{let{theme:t}=e;return{["&.".concat(Us.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(Us.body)]:{fontSize:14}}})),Lw=bs(ro)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function Mw(e,t,n,r,i,s,o,a,l,c,u,h,d,f,p,m,g){return{player:e,GP:t,MIN:n,pts:r,FGM:i,fga:s,fg:o,pm:a,oreb:l,dreb:c,reb:u,ast:h,tov:d,stl:f,blk:p,pf:m,pminus:g}}const Fw=[Mw("Henri Drell","3","3.5","2.7","1.0","1.0","100","0.0","0.7","1.3","2.0","2.5","1.3","1.3","0.3","5.2","-4.3"),Mw("Coby White","3","3.5","2.7","1.0","1.0","100","0.0","0.7","1.3","2.0","2.5","1.3","1.3","0.3","5.2","-4.3"),Mw("Lonzo Ball","3","3.5","2.7","1.0","1.0","100","0.0","0.7","1.3","2.0","2.5","1.3","1.3","0.3","5.2","-4.3"),Mw("Andre Drummond","3","3.5","2.7","1.0","1.0","100","0.0","0.7","1.3","2.0","2.5","1.3","1.3","0.3","5.2","-4.3"),Mw("Jevon Carter","3","3.5","2.7","1.0","1.0","100","0.0","0.7","1.3","2.0","2.5","1.3","1.3","0.3","5.2","-4.3")],Vw="Player Statistics";function Uw(){return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)("div",{className:"table-title",children:Vw}),(0,Tt.jsx)(ww,{component:co,children:(0,Tt.jsxs)(Ns,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,Tt.jsx)(Xs,{children:(0,Tt.jsxs)(ro,{children:[(0,Tt.jsx)(Pw,{children:"PLAYER"}),(0,Tt.jsx)(Pw,{align:"right",children:"GP"}),(0,Tt.jsx)(Pw,{align:"right",children:"MIN"}),(0,Tt.jsx)(Pw,{align:"right",children:"PTS"}),(0,Tt.jsx)(Pw,{align:"right",children:"FGM"}),(0,Tt.jsx)(Pw,{align:"right",children:"FGA"}),(0,Tt.jsx)(Pw,{align:"right",children:"FG%"}),(0,Tt.jsx)(Pw,{align:"right",children:"3PM"}),(0,Tt.jsx)(Pw,{align:"right",children:"OREB"}),(0,Tt.jsx)(Pw,{align:"right",children:"DREB"}),(0,Tt.jsx)(Pw,{align:"right",children:"REB"}),(0,Tt.jsx)(Pw,{align:"right",children:"AST"}),(0,Tt.jsx)(Pw,{align:"right",children:"TOV"}),(0,Tt.jsx)(Pw,{align:"right",children:"STL"}),(0,Tt.jsx)(Pw,{align:"right",children:"BLK"}),(0,Tt.jsx)(Pw,{align:"right",children:"PF"}),(0,Tt.jsx)(Pw,{align:"right",children:"+/-"})]})}),(0,Tt.jsx)(Ms,{children:Fw.map((e=>(0,Tt.jsxs)(Lw,{children:[(0,Tt.jsx)(Pw,{component:"th",scope:"row",children:e.player}),(0,Tt.jsx)(Pw,{align:"right",children:e.GP}),(0,Tt.jsx)(Pw,{align:"right",children:e.MIN}),(0,Tt.jsx)(Pw,{align:"right",children:e.pts}),(0,Tt.jsx)(Pw,{align:"right",children:e.FGM}),(0,Tt.jsx)(Pw,{align:"right",children:e.fga}),(0,Tt.jsx)(Pw,{align:"right",children:e.fg}),(0,Tt.jsx)(Pw,{align:"right",children:e.pm}),(0,Tt.jsx)(Pw,{align:"right",children:e.oreb}),(0,Tt.jsx)(Pw,{align:"right",children:e.dreb}),(0,Tt.jsx)(Pw,{align:"right",children:e.reb}),(0,Tt.jsx)(Pw,{align:"right",children:e.ast}),(0,Tt.jsx)(Pw,{align:"right",children:e.tov}),(0,Tt.jsx)(Pw,{align:"right",children:e.stl}),(0,Tt.jsx)(Pw,{align:"right",children:e.blk}),(0,Tt.jsx)(Pw,{align:"right",children:e.pf}),(0,Tt.jsx)(Pw,{align:"right",children:e.pminus})]},e.player)))})]})})]})}const Bw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsxs)("header",{className:"hawks-header",children:[(0,Tt.jsx)("img",{src:gw,alt:"Atlanta Hawks Logo",className:"hawks-logo"}),(0,Tt.jsx)("h1",{className:"hawks-name",children:"Atlanta Hawks"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},zw=n.p+"static/media/Boston-Celtics-Logo.05e7113781868de760f1.jpg";const qw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsxs)("header",{className:"celtics-header",children:[(0,Tt.jsx)("img",{src:zw,alt:"Boston Celtics Logo",className:"celtics-logo"}),(0,Tt.jsx)("h1",{className:"celtics-name",children:"Boston Celtics"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Kw=n.p+"static/media/Brooklyn-Nets-Logo.55bcc23932791a428c85.png";const Gw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"nets-header",children:[(0,Tt.jsx)("img",{src:Kw,alt:"Brooklyn Nets Logo",className:"nets-logo"}),(0,Tt.jsx)("h1",{className:"nets-name",children:"Brooklyn Nets"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Hw=n.p+"static/media/Charlotte-Hornets-Logo.b42096e8eb02ed8b64f2.jpg";const Ww=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"hornets-header",children:[(0,Tt.jsx)("img",{src:Hw,alt:"Charlotte Hornets Logo",className:"hornets-logo"}),(0,Tt.jsx)("h1",{className:"hornets-name",children:"Charlotte Hornets"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Qw=n.p+"static/media/Chicago-Bulls-Logo.bc616bb3b8570516ef7c.jpg";const Yw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"bulls-header",children:[(0,Tt.jsx)("img",{src:Qw,alt:"Bulls Logo",className:"bulls-logo"}),(0,Tt.jsx)("h1",{className:"bulls-name",children:"Chicago Bulls"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Xw=n.p+"static/media/Cleveland-Cavaliers-Logo.2593bd2b601c4af623da.jpg";const Jw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"cavs-header",children:[(0,Tt.jsx)("img",{src:Xw,alt:"Cavs Logo",className:"cavs-logo"}),(0,Tt.jsx)("h1",{className:"cavs-name",children:"Cleveland Cavaliers"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},$w=n.p+"static/media/Dallas-Mavericks-Logo.674aba443ea443a73acd.png";const Zw=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"mavericks-header",children:[(0,Tt.jsx)("img",{src:$w,alt:"Dallas Mavericks Logo",className:"mavericks-logo"}),(0,Tt.jsx)("h1",{className:"mavericks-name",children:"Dallas Mavericks"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},ex=n.p+"static/media/Denver-Nuggets-Logo.2a837fba49f086076f00.png";const tx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"nuggets-header",children:[(0,Tt.jsx)("img",{src:ex,alt:"Denver Nuggets Logo",className:"nuggets-logo"}),(0,Tt.jsx)("h1",{className:"nuggets-name",children:"Denver Nuggets"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},nx=n.p+"static/media/Detroit-Pistons-Logo.1c340a6276be92ff2fc8.png";const rx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"pistons-header",children:[(0,Tt.jsx)("img",{src:nx,alt:"Pistons Logo",className:"pistons-logo"}),(0,Tt.jsx)("h1",{className:"pistons-name",children:"Detroit Pistons"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},ix=n.p+"static/media/GoldenState-Warriors-Logo.c25b2e54591ae36a7e8a.png";const sx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"warriors-header",children:[(0,Tt.jsx)("img",{src:ix,alt:"Golden State Warriors",className:"warriors-logo"}),(0,Tt.jsx)("h1",{className:"warriors-name",children:"Golden State Warriors"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},ox=n.p+"static/media/Houston-Rockets-Logo.a8f06dd64bb42c8718ab.png";const ax=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"rockets-header",children:[(0,Tt.jsx)("img",{src:ox,alt:"Houston Rockets Logo",className:"rockets-logo"}),(0,Tt.jsx)("h1",{className:"rockets-name",children:"Houston Rockets"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},lx=n.p+"static/media/Indiana-Pacers-Logo.c15e842c3f7305297827.jpg";const cx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"pacers-header",children:[(0,Tt.jsx)("img",{src:lx,alt:"Pacers Logo",className:"pacers-logo"}),(0,Tt.jsx)("h1",{className:"pacers-name",children:"Indiana Pacers"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},ux=n.p+"static/media/LA-Clippers-Logo.f12d987b3fe4d542cc35.png";const hx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"clippers-header",children:[(0,Tt.jsx)("img",{src:ux,alt:"LA Clippers Logo",className:"clippers-logo"}),(0,Tt.jsx)("h1",{className:"clippers-name",children:"LA Clippers "})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},dx=n.p+"static/media/LosAngeles-Lakers-Logo.ad6d78b899683c1eb311.png";const fx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"lakers-header",children:[(0,Tt.jsx)("img",{src:dx,alt:"Los Angeles Lakers Logo",className:"lakers-logo"}),(0,Tt.jsx)("h1",{className:"lakers-name",children:"Los Angeles Lakers"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},px=n.p+"static/media/Memphis-Grizzlies-Logo.7e3f2c1463ea7a233e11.png";const mx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"grizzlies-header",children:[(0,Tt.jsx)("img",{src:px,alt:"Memphis Grizzlies Logo",className:"grizzlies-logo"}),(0,Tt.jsx)("h1",{className:"grizzlies-name",children:"Memphis Grizzlies"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},gx=n.p+"static/media/Miami-Heat-Logo.d2acd63a774472244131.jpg";const yx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"heat-header",children:[(0,Tt.jsx)("img",{src:gx,alt:"Heat Logo",className:"heat-logo"}),(0,Tt.jsx)("h1",{className:"heat-name",children:"Miami Heat"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},vx=n.p+"static/media/Milwaukee-Bucks-Logo.b67947b15cf25a7159f9.jpg";const bx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"bucks-header",children:[(0,Tt.jsx)("img",{src:vx,alt:"Bucks Logo",className:"bucks-logo"}),(0,Tt.jsx)("h1",{className:"bucks-name",children:"Milwaukee Bucks"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},wx=n.p+"static/media/Minnesota-Timberwolves-Logo.1a4e9cafaa658b556af3.png";const xx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"timberwolves-header",children:[(0,Tt.jsx)("img",{src:wx,alt:"Minnesota Timberwolves Logo",className:"timberwolves-logo"}),(0,Tt.jsx)("h1",{className:"timberwolves-name",children:"Minnesota Timberwolves"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Sx=n.p+"static/media/NewOrleans-Pelicans-Logo.cff0e4ab8b9cfd9dc4a1.png";const Ex=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"pelicans-header",children:[(0,Tt.jsx)("img",{src:Sx,alt:"New Orleans Pelicans Logo",className:"pelicans-logo"}),(0,Tt.jsx)("h1",{className:"pelicans-name",children:"New Orleans Pelicans"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},_x=n.p+"static/media/NewYork-Knicks-Logo.1bbbf43b4eb78efb82ec.png";const Tx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"knicks-header",children:[(0,Tt.jsx)("img",{src:_x,alt:"Knicks Logo",className:"knicks-logo"}),(0,Tt.jsx)("h1",{className:"knicks-name",children:"New York Knicks"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},kx=n.p+"static/media/OklahomaCity-Thunder-Logo.ed8796c4482cb91c09d3.png";const Cx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"thunder-header",children:[(0,Tt.jsx)("img",{src:kx,alt:"Oklahoma City Thunder Logo",className:"thunder-logo"}),(0,Tt.jsx)("h1",{className:"thunder-name",children:"Oklahoma City Thunder"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Ix=n.p+"static/media/Orlando-Magic-Logo.528d7000f32dcfb6a83d.jpg";const Ax=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"magic-header",children:[(0,Tt.jsx)("img",{src:Ix,alt:"Magic Logo",className:"magic-logo"}),(0,Tt.jsx)("h1",{className:"magic-name",children:"Orlando Magic"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Nx=n.p+"static/media/Philadelphia-76ers-Logo.a648524b5b99102f6dd9.jpg";const Dx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"sixers-header",children:[(0,Tt.jsx)("img",{src:Nx,alt:"Sixers Logo",className:"sixers-logo"}),(0,Tt.jsx)("h1",{className:"sixers-name",children:"Philadelphia 76ers"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Rx=n.p+"static/media/Phoenix-Suns-Logo.585341d7f4cef6d8ad16.png";const jx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"suns-header",children:[(0,Tt.jsx)("img",{src:Rx,alt:"Phoenix Suns Logo",className:"suns-logo"}),(0,Tt.jsx)("h1",{className:"suns-name",children:"Phoenix Suns"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Ox=n.p+"static/media/Portland-TrailBlazers-Logo.a70c4976677971363962.png";const Px=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"trailblazers-header",children:[(0,Tt.jsx)("img",{src:Ox,alt:"Portland TrailBlazers Logo",className:"trailblazers-logo"}),(0,Tt.jsx)("h1",{className:"trailblazers-name",children:"Portland TrailBlazers"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Lx=n.p+"static/media/Sacramento-Kings-Logo.d05347c31c971d7ba4e1.png";const Mx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"kings-header",children:[(0,Tt.jsx)("img",{src:Lx,alt:"Sacramento Kings Logo",className:"kings-logo"}),(0,Tt.jsx)("h1",{className:"kings-name",children:"Sacramento Kings"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Fx=n.p+"static/media/SanAntonio-Spurs-Logo.c4299f96ab56130808a1.png";const Vx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"spurs-header",children:[(0,Tt.jsx)("img",{src:Fx,alt:"San Antonio Spurs Logo",className:"spurs-logo"}),(0,Tt.jsx)("h1",{className:"spurs-name",children:"San Antonio Spurs"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Ux=n.p+"static/media/Toronto-Raptors-Logo.76a7c33d4a8e394f1356.jpg";const Bx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"raptors-header",children:[(0,Tt.jsx)("img",{src:Ux,alt:"Raptors Logo",className:"raptors-logo"}),(0,Tt.jsx)("h1",{className:"raptors-name",children:"Toronto Raptors"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},zx=n.p+"static/media/Utah-Jazz-Logo.d949891ac57859db0e1a.png";const qx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"jazz-header",children:[(0,Tt.jsx)("img",{src:zx,alt:"Utah Jazz Logo",className:"jazz-logo"}),(0,Tt.jsx)("h1",{className:"jazz-name",children:"Utah Jazz"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Kx=n.p+"static/media/Washington-Wizards-Logo.019fbb1f2a03eab7832b.jpg";const Gx=function(){const[e,n]=(0,t.useState)("Team Roster"),r=e=>{n(e)};return(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(At,{}),(0,Tt.jsx)(Ct,{}),(0,Tt.jsxs)("header",{className:"wizards-header",children:[(0,Tt.jsx)("img",{src:Kx,alt:"Wizards Logo",className:"wizards-logo"}),(0,Tt.jsx)("h1",{className:"wizards-name",children:"Washington Wizards"})]}),(0,Tt.jsxs)("div",{className:"toggle-buttons",children:[(0,Tt.jsx)("button",{className:"Team Roster"===e?"active":"",onClick:()=>r("Team Roster"),children:"Team Roster"}),(0,Tt.jsx)("button",{className:"Team Statistics"===e?"active":"",onClick:()=>r("Team Statistics"),children:"Team Statistics"}),(0,Tt.jsx)("button",{className:"Player Statistics"===e?"active":"",onClick:()=>r("Player Statistics"),children:"Player Statistics"})]}),"Team Roster"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Ow,{})," "]}):"Team Statistics"===e?(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Iw,{})," "]}):(0,Tt.jsxs)("div",{children:[(0,Tt.jsx)(Uw,{})," "]})]})},Hx=function(e,t){return ne({basename:null==t?void 0:t.basename,future:at({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||ut(),routes:e,mapRouteProperties:ot,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,Tt.jsx)(rl,{})},{path:"/Odds",element:(0,Tt.jsx)(dw,{})},{path:"/BettingGuide",element:(0,Tt.jsx)(mw,{})},{path:"/AtlantaHawks",element:(0,Tt.jsx)(Bw,{})},{path:"/BostonCeltics",element:(0,Tt.jsx)(qw,{})},{path:"/BrooklynNets",element:(0,Tt.jsx)(Gw,{})},{path:"/CharlotteHornets",element:(0,Tt.jsx)(Ww,{})},{path:"/ChicagoBulls",element:(0,Tt.jsx)(Yw,{})},{path:"/ClevelandCavaliers",element:(0,Tt.jsx)(Jw,{})},{path:"/DallasMavericks",element:(0,Tt.jsx)(Zw,{})},{path:"/DenverNuggets",element:(0,Tt.jsx)(tx,{})},{path:"/DetroitPistons",element:(0,Tt.jsx)(rx,{})},{path:"/GoldenStateWarriors",element:(0,Tt.jsx)(sx,{})},{path:"/HoustonRockets",element:(0,Tt.jsx)(ax,{})},{path:"/IndianaPacers",element:(0,Tt.jsx)(cx,{})},{path:"/LAClippers",element:(0,Tt.jsx)(hx,{})},{path:"/LosAngelesLakers",element:(0,Tt.jsx)(fx,{})},{path:"/MemphisGrizzlies",element:(0,Tt.jsx)(mx,{})},{path:"/MiamiHeat",element:(0,Tt.jsx)(yx,{})},{path:"/MilwaukeeBucks",element:(0,Tt.jsx)(bx,{})},{path:"/MinnesotaTimberwolves",element:(0,Tt.jsx)(xx,{})},{path:"/NewOrleansPelicans",element:(0,Tt.jsx)(Ex,{})},{path:"/NewYorkKnicks",element:(0,Tt.jsx)(Tx,{})},{path:"/OklahomaCityThunder",element:(0,Tt.jsx)(Cx,{})},{path:"/OrlandoMagic",element:(0,Tt.jsx)(Ax,{})},{path:"/Philadelphia76ers",element:(0,Tt.jsx)(Dx,{})},{path:"/PhoenixSuns",element:(0,Tt.jsx)(jx,{})},{path:"/PortlandTrailBlazers",element:(0,Tt.jsx)(Px,{})},{path:"/SacramentoKings",element:(0,Tt.jsx)(Mx,{})},{path:"/SanAntonioSpurs",element:(0,Tt.jsx)(Vx,{})},{path:"/TorontoRaptors",element:(0,Tt.jsx)(Bx,{})},{path:"/UtahJazz",element:(0,Tt.jsx)(qx,{})},{path:"/WashingtonWizards",element:(0,Tt.jsx)(Gx,{})}]);i.render((0,Tt.jsx)(t.StrictMode,{children:(0,Tt.jsx)(vt,{router:Hx})}),document.getElementById("root")),o()})()})();
//# sourceMappingURL=main.d7523af1.js.map